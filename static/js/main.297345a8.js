/*! For license information please see main.297345a8.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case E:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return P(e(t))}catch(uo){}}return null}var O=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},j=[],F=-1;function z(e){return{current:e}}function U(e){0>F||(e.current=j[F],j[F]=null,F--)}function V(e,t){F++,j[F]=e.current,e.current=t}var B=z(null),W=z(null),q=z(null),H=z(null);function G(e,t){switch(V(q,t),V(W,e),V(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),V(B,e)}function K(){U(B),U(W),U(q)}function Q(e){null!==e.memoizedState&&V(H,e);var t=B.current,n=sd(t,e.type);t!==n&&(V(W,e),V(B,n))}function Y(e){W.current===e&&(U(B),U(W)),H.current===e&&(U(H),Yd._currentValue=M)}var X=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,se=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/ge|0)|0},pe=Math.log,ge=Math.LN2;var me=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=ve(r):0!==(s&=a)?i=ve(s):n||0!==(n=a&~e)&&(i=ve(n)):0!==(a=r&~o)?i=ve(a):0!==s?i=ve(s):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=me;return 0===(4194048&(me<<=1))&&(me=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Re(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:uh(e.type)}var Ne=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ne,Oe="__reactProps$"+Ne,De="__reactContainer$"+Ne,Le="__reactEvents$"+Ne,Me="__reactListeners$"+Ne,je="__reactHandles$"+Ne,Fe="__reactResources$"+Ne,ze="__reactMarker$"+Ne;function Ue(e){delete e[Pe],delete e[Oe],delete e[Le],delete e[Me],delete e[je]}function Ve(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[Pe])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Pe]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[ze]=!0}var Ge=new Set,Ke={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ke[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Xe,$e,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,X.call(et,i)||!X.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Xe)try{throw Error()}catch(uo){var t=uo.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",$e=-1<uo.stack.indexOf("\n    at")?" (<anonymous>)":-1<uo.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+$e}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(uo){var r=uo}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(uo){return"\nError generating stack: "+uo.message+"\n"+uo.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function yt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(O(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Et(e,o,t[o])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Ot=null;function Dt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Oe]||null;if(!i)throw Error(s(90));mt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Mt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Pt||null!==Ot)&&(Bc(),Pt&&(t=Pt,e=Ot,Ot=Pt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Dh){zt=!1}var Vt=null,Bt=null,Wt=null;function qt(){if(Wt)return Wt;var e,t,n=Bt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Kt(){return!1}function Qt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Yt,Xt,$t,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Yt=e.screenX-$t.screenX,Xt=e.screenY-$t.screenY):Xt=Yt=0,$t=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Qt(nn),on=Qt(h({},nn,{dataTransfer:0})),sn=Qt(h({},en,{relatedTarget:0})),an=Qt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var gn=Qt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Qt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Qt(h({},Jt,{newState:0,oldState:0})),xn=[9,13,27,32],Sn=Ft&&"CompositionEvent"in window,kn=null;Ft&&"documentMode"in document&&(kn=document.documentMode);var En=Ft&&"TextEvent"in window&&!kn,Cn=Ft&&(!Sn||kn&&8<kn&&11>=kn),_n=String.fromCharCode(32),Tn=!1;function In(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function On(e,t,n,r){Pt?Ot?Ot.push(r):Ot=[r]:Pt=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Ln=null;function Mn(e){ju(e,0)}function jn(e){if(ht(We(e)))return e}function Fn(e,t){if("change"===e)return t}var zn=!1;if(Ft){var Un;if(Ft){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"===typeof Bn.oninput}Un=Vn}else Un=!1;zn=Un&&(!document.documentMode||9<document.documentMode)}function Wn(){Dn&&(Dn.detachEvent("onpropertychange",qn),Ln=Dn=null)}function qn(e){if("value"===e.propertyName&&jn(Ln)){var t=[];On(t,Ln,e,Nt(e)),Mt(Mn,t)}}function Hn(e,t,n){"focusin"===e?(Wn(),Ln=n,(Dn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Wn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jn(Ln)}function Kn(e,t){if("click"===e)return jn(t)}function Qn(e,t){if("input"===e||"change"===e)return jn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Xn(or,r)||(or=r,0<(r=Hu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),gr=hr("animationstart"),mr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),Qe(t,[e])}xr.push("scrollEnd");var kr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],_r=0,Tr=0;function Ir(){for(var e=_r,t=Tr=_r=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var o=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Pr(n,i,o)}}function Ar(e,t,n,r){Cr[_r++]=e,Cr[_r++]=t,Cr[_r++]=n,Cr[_r++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Ar(e,t,n,r),Or(e)}function Nr(e,t){return Ar(e,null,null,t),Or(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Or(e){if(50<Oc)throw Oc=0,Dc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Lr(e,t,n,r)}function jr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)jr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Mr(31,n,t,i)).elementType=T,e.lanes=o,e;case m:return Vr(n.children,i,o,t);case y:a=8,i|=24;break;case v:return(e=Mr(12,n,t,2|i)).elementType=v,e.lanes=o,e;case k:return(e=Mr(13,n,t,i)).elementType=k,e.lanes=o,e;case E:return(e=Mr(19,n,t,i)).elementType=E,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:a=10;break e;case w:a=9;break e;case S:a=11;break e;case C:a=14;break e;case _:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Vr(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Wr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Hr=0,Gr=null,Kr=0,Qr=[],Yr=0,Xr=null,$r=1,Jr="";function Zr(e,t){qr[Hr++]=Kr,qr[Hr++]=Gr,Gr=e,Kr=t}function ei(e,t,n){Qr[Yr++]=$r,Qr[Yr++]=Jr,Qr[Yr++]=Xr,Xr=e;var r=$r;e=Jr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var o=32-fe(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$r=1<<32-fe(t)+i|n<<i|r,Jr=o+e}else $r=1<<o|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Gr;)Gr=qr[--Hr],qr[Hr]=null,Kr=qr[--Hr],qr[Hr]=null;for(;e===Xr;)Xr=Qr[--Yr],Qr[Yr]=null,Jr=Qr[--Yr],Qr[Yr]=null,$r=Qr[--Yr],Qr[Yr]=null}var ri=null,ii=null,oi=!1,si=null,ai=!1,li=Error(s(519));function ci(e){throw gi(Er(Error(s(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Oe]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Lu.length;n++)Fu(Lu[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(ai=!1);case 27:case 3:return void(ai=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!oi)return di(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ad(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,pd(e.type)?(e=bd,bd=null,ii=e):ii=n):ii=ri?vd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,oi=!1}function pi(){var e=si;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),si=null),e}function gi(e){null===si?si=[e]:si.push(e)}var mi=z(null),yi=null,vi=null;function bi(e,t,n){V(mi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=mi.current,U(mi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xi(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),xi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function ki(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Yn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}i=i.return}null!==e&&Si(t,e,n,r),t.flags|=262144}function Ei(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _i(e){return Ii(yi,e)}function Ti(e,t){return null===yi&&Ci(e),Ii(e,t)}function Ii(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(s(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ai="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ri=r.unstable_scheduleCallback,Ni=r.unstable_NormalPriority,Pi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oi(){return{controller:new Ai,data:new Map,refCount:0}}function Di(e){e.refCount--,0===e.refCount&&Ri(Ni,function(){e.controller.abort()})}var Li=null,Mi=0,ji=0,Fi=null;function zi(){if(0===--Mi&&null!==Li){null!==Fi&&(Fi.status="fulfilled");var e=Li;Li=null,ji=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Li){var n=Li=[];Mi=0,ji=Ru(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(zi,zi)}(0,t),null!==Ui&&Ui(e,t)};var Vi=z(null);function Bi(){var e=Vi.current;return null!==e?e:ic.pooledCache}function Wi(e,t){V(Vi,null===t?Vi.current:t.pool)}function qi(){var e=Bi();return null===e?null:{parent:Pi._currentValue,pool:e}}var Hi=Error(s(460)),Gi=Error(s(474)),Ki=Error(s(542)),Qi={then:function(){}};function Yi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xi(){}function $i(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xi,Xi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xi,Xi);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Ji=t,Hi}}var Ji=null;function Zi(){if(null===Ji)throw Error(s(459));var e=Ji;return Ji=null,e}function eo(e){if(e===Hi||e===Ki)throw Error(s(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Pr(e,null,n),t}return Ar(e,r,t,n),Or(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function ao(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==Fi)throw Fi}}function ho(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(sc&f)===f:(r&f)===f){0!==f&&f===ji&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var g=e,m=a;f=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(y,d,f);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=m.payload)?g.call(y,d,f):g)||void 0===f)break e;d=h({},d,f);break e;case 2:to=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=d}}function fo(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function po(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fo(n[e],t)}var go=z(null),mo=z(0);function yo(e,t){V(mo,e=hc),V(go,t),hc=e|t.baseLanes}function vo(){V(mo,hc),V(go,go.current)}function bo(){hc=mo.current,U(go),U(mo)}var wo=0,xo=null,So=null,ko=null,Eo=!1,Co=!1,_o=!1,To=0,Io=0,Ao=null,Ro=0;function No(){throw Error(s(321))}function Po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Oo(e,t,n,r,i,o){return wo=o,xo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ks:Qs,_o=!1,o=n(r,i),_o=!1,Co&&(o=Lo(t,n,r,i)),Do(e),o}function Do(e){D.H=Gs;var t=null!==So&&null!==So.next;if(wo=0,ko=So=xo=null,Eo=!1,Io=0,Ao=null,t)throw Error(s(300));null===e||Ia||null!==(e=e.dependencies)&&Ei(e)&&(Ia=!0)}function Lo(e,t,n,r){xo=e;var i=0;do{if(Co&&(Ao=null),Io=0,Co=!1,25<=i)throw Error(s(301));if(i+=1,ko=So=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}D.H=Ys,o=t(n,r)}while(Co);return o}function Mo(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Bo(t):t,e=e.useState()[0],(null!==So?So.memoizedState:null)!==e&&(xo.flags|=1024),t}function jo(){var e=0!==To;return To=0,e}function Fo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zo(e){if(Eo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Eo=!1}wo=0,ko=So=xo=null,Co=!1,Io=To=0,Ao=null}function Uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ko?xo.memoizedState=ko=e:ko=ko.next=e,ko}function Vo(){if(null===So){var e=xo.alternate;e=null!==e?e.memoizedState:null}else e=So.next;var t=null===ko?xo.memoizedState:ko.next;if(null!==t)ko=t,So=e;else{if(null===e){if(null===xo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(So=e).memoizedState,baseState:So.baseState,baseQueue:So.baseQueue,queue:So.queue,next:null},null===ko?xo.memoizedState=ko=e:ko=ko.next=e}return ko}function Bo(e){var t=Io;return Io+=1,null===Ao&&(Ao=[]),e=$i(Ao,e,t),t=xo,null===(null===ko?t.memoizedState:ko.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ks:Qs),e}function Wo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bo(e);if(e.$$typeof===x)return _i(e)}throw Error(s(438,String(e)))}function qo(e){var t=null,n=xo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function Ho(e,t){return"function"===typeof t?t(e):t}function Go(e){return Ko(Vo(),So,e)}function Ko(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(sc&h)===h:(wo&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===ji&&(d=!0);else{if((wo&f)===f){u=u.next,f===ji&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,xo.lanes|=f,pc|=f}h=u.action,_o&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=o):c=c.next=f,xo.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Yn(o,e.memoizedState)&&(Ia=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Qo(e){var t=Vo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Yn(o,t.memoizedState)||(Ia=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Yo(e,t,n){var r=xo,i=Vo(),o=oi;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Yn((So||i).memoizedState,n);if(a&&(i.memoizedState=n,Ia=!0),i=i.queue,vs(2048,8,Jo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==ko&&1&ko.memoizedState.tag){if(r.flags|=2048,gs(9,{destroy:void 0,resource:void 0},$o.bind(null,r,i,n,t),null),null===ic)throw Error(s(349));o||0!==(124&wo)||Xo(r,t,n)}return n}function Xo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function $o(e,t,n,r){t.value=n,t.getSnapshot=r,Zo(t)&&es(e)}function Jo(e,t,n){return n(function(){Zo(t)&&es(e)})}function Zo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function es(e){var t=Nr(e,2);null!==t&&jc(t,e,2)}function ts(e){var t=Uo();if("function"===typeof e){var n=e;if(e=n(),_o){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t}function ns(e,t,n,r){return e.baseState=n,Ko(e,So,"function"===typeof r?r:Ho)}function rs(e,t,n,r,i){if(Ws(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==D.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,is(t,o)):(o.next=n.next,t.pending=n.next=o)}}function is(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=D.T,s={};D.T=s;try{var a=n(i,r),l=D.S;null!==l&&l(s,a),os(e,t,a)}catch(c){as(e,t,c)}finally{D.T=o}}else try{os(e,t,o=n(i,r))}catch(u){as(e,t,u)}}function os(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ss(e,t,n)},function(n){return as(e,t,n)}):ss(e,t,n)}function ss(e,t,n){t.status="fulfilled",t.value=n,ls(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,is(e,n)))}function as(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ls(t),t=t.next}while(t!==r)}e.action=null}function ls(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cs(e,t){return t}function us(e,t){if(oi){var n=ic.formState;if(null!==n){e:{var r=xo;if(oi){if(ii){t:{for(var i=ii,o=ai;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=vd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Uo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},n.queue=r,n=Us.bind(null,xo,r),r.dispatch=n,r=ts(!1),o=Bs.bind(null,xo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Uo()).queue=i,n=rs.bind(null,xo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ds(e){return hs(Vo(),So,e)}function hs(e,t,n){if(t=Ko(e,t,cs)[0],e=Go(Ho)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bo(t)}catch(uo){if(uo===Hi)throw Ki;throw uo}else r=t;var i=(t=Vo()).queue,o=i.dispatch;return n!==t.memoizedState&&(xo.flags|=2048,gs(9,{destroy:void 0,resource:void 0},fs.bind(null,i,n),null)),[r,o,e]}function fs(e,t){e.action=t}function ps(e){var t=Vo(),n=So;if(null!==n)return hs(t,n,e);Vo(),t=t.memoizedState;var r=(n=Vo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function gs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return Vo().memoizedState}function ys(e,t,n,r){var i=Uo();r=void 0===r?null:r,xo.flags|=e,i.memoizedState=gs(1|t,{destroy:void 0,resource:void 0},n,r)}function vs(e,t,n,r){var i=Vo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==So&&null!==r&&Po(r,So.memoizedState.deps)?i.memoizedState=gs(t,o,n,r):(xo.flags|=e,i.memoizedState=gs(1|t,o,n,r))}function bs(e,t){ys(8390656,8,e,t)}function ws(e,t){vs(2048,8,e,t)}function xs(e,t){return vs(4,2,e,t)}function Ss(e,t){return vs(4,4,e,t)}function ks(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Es(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vs(4,4,ks.bind(null,t,e),n)}function Cs(){}function _s(e,t){var n=Vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ts(e,t){var n=Vo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Po(t,r[1]))return r[0];if(r=e(),_o){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Is(e,t,n){return void 0===n||0!==(1073741824&wo)?e.memoizedState=t:(e.memoizedState=n,e=Mc(),xo.lanes|=e,pc|=e,n)}function As(e,t,n,r){return Yn(n,t)?n:null!==go.current?(e=Is(e,n,r),Yn(e,t)||(Ia=!0),e):0===(42&wo)?(Ia=!0,e.memoizedState=n):(e=Mc(),xo.lanes|=e,pc|=e,t)}function Rs(e,t,n,r,i){var o=L.p;L.p=0!==o&&8>o?o:8;var s=D.T,a={};D.T=a,Bs(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Vs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Lc());else Vs(e,t,r,Lc())}catch(u){Vs(e,t,{then:function(){},status:"rejected",reason:u},Lc())}finally{L.p=o,D.T=s}}function Ns(){}function Ps(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=Os(e).queue;Rs(e,i,t,M,null===n?Ns:function(){return Ds(e),n(r)})}function Os(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ds(e){Vs(e,Os(e).next.queue,{},Lc())}function Ls(){return _i(Yd)}function Ms(){return Vo().memoizedState}function js(){return Vo().memoizedState}function Fs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Lc(),r=oo(t,e=io(n),n);return null!==r&&(jc(r,t,n),so(r,t,n)),t={cache:Oi()},void(e.payload=t)}t=t.return}}function zs(e,t,n){var r=Lc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ws(e)?qs(t,n):null!==(n=Rr(e,t,n,r))&&(jc(n,e,r),Hs(n,t,r))}function Us(e,t,n){Vs(e,t,n,Lc())}function Vs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ws(e))qs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,s))return Ar(e,t,i,0),null===ic&&Ir(),!1}catch(l){}if(null!==(n=Rr(e,t,i,r)))return jc(n,e,r),Hs(n,t,r),!0}return!1}function Bs(e,t,n,r){if(r={lane:2,revertLane:Ru(),action:r,hasEagerState:!1,eagerState:null,next:null},Ws(e)){if(t)throw Error(s(479))}else null!==(t=Rr(e,n,r,2))&&jc(t,e,2)}function Ws(e){var t=e.alternate;return e===xo||null!==t&&t===xo}function qs(e,t){Co=Eo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Gs={readContext:_i,use:Wo,useCallback:No,useContext:No,useEffect:No,useImperativeHandle:No,useLayoutEffect:No,useInsertionEffect:No,useMemo:No,useReducer:No,useRef:No,useState:No,useDebugValue:No,useDeferredValue:No,useTransition:No,useSyncExternalStore:No,useId:No,useHostTransitionStatus:No,useFormState:No,useActionState:No,useOptimistic:No,useMemoCache:No,useCacheRefresh:No},Ks={readContext:_i,use:Wo,useCallback:function(e,t){return Uo().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:bs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ys(4194308,4,ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ys(4194308,4,e,t)},useInsertionEffect:function(e,t){ys(4,2,e,t)},useMemo:function(e,t){var n=Uo();t=void 0===t?null:t;var r=e();if(_o){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Uo();if(void 0!==n){var i=n(t);if(_o){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=zs.bind(null,xo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Uo().memoizedState=e},useState:function(e){var t=(e=ts(e)).queue,n=Us.bind(null,xo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Cs,useDeferredValue:function(e,t){return Is(Uo(),e,t)},useTransition:function(){var e=ts(!1);return e=Rs.bind(null,xo,e.queue,!0,!1),Uo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xo,i=Uo();if(oi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===ic)throw Error(s(349));0!==(124&sc)||Xo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,bs(Jo.bind(null,r,o,e),[e]),r.flags|=2048,gs(9,{destroy:void 0,resource:void 0},$o.bind(null,r,o,n,t),null),n},useId:function(){var e=Uo(),t=ic.identifierPrefix;if(oi){var n=Jr;t="\xab"+t+"R"+(n=($r&~(1<<32-fe($r)-1)).toString(32)+n),0<(n=To++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ro++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ls,useFormState:us,useActionState:us,useOptimistic:function(e){var t=Uo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bs.bind(null,xo,!0,n),n.dispatch=t,[e,t]},useMemoCache:qo,useCacheRefresh:function(){return Uo().memoizedState=Fs.bind(null,xo)}},Qs={readContext:_i,use:Wo,useCallback:_s,useContext:_i,useEffect:ws,useImperativeHandle:Es,useInsertionEffect:xs,useLayoutEffect:Ss,useMemo:Ts,useReducer:Go,useRef:ms,useState:function(){return Go(Ho)},useDebugValue:Cs,useDeferredValue:function(e,t){return As(Vo(),So.memoizedState,e,t)},useTransition:function(){var e=Go(Ho)[0],t=Vo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Yo,useId:Ms,useHostTransitionStatus:Ls,useFormState:ds,useActionState:ds,useOptimistic:function(e,t){return ns(Vo(),0,e,t)},useMemoCache:qo,useCacheRefresh:js},Ys={readContext:_i,use:Wo,useCallback:_s,useContext:_i,useEffect:ws,useImperativeHandle:Es,useInsertionEffect:xs,useLayoutEffect:Ss,useMemo:Ts,useReducer:Qo,useRef:ms,useState:function(){return Qo(Ho)},useDebugValue:Cs,useDeferredValue:function(e,t){var n=Vo();return null===So?Is(n,e,t):As(n,So.memoizedState,e,t)},useTransition:function(){var e=Qo(Ho)[0],t=Vo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Yo,useId:Ms,useHostTransitionStatus:Ls,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var n=Vo();return null!==So?ns(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qo,useCacheRefresh:js},Xs=null,$s=0;function Js(e){var t=$s;return $s+=1,null===Xs&&(Xs=[]),$i(Xs,e,t)}function Zs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ea(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ta(e){return(0,e._init)(e._payload)}function na(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===m?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===_&&ta(o)===t.type)?(Zs(t=i(t,n.props),n),t.return=e,t):(Zs(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Zs(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Wr(t,e.mode,n)).return=e,t;case _:return h(e,t=(0,t._init)(t._payload),n)}if(O(t)||R(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Js(t),n);if(t.$$typeof===x)return h(e,Ti(e,t),n);ea(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case _:return f(e,t,n=(i=n._init)(n._payload),r)}if(O(n)||R(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Js(n),r);if(n.$$typeof===x)return f(e,t,Ti(e,n),r);ea(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(O(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Js(r),i);if(r.$$typeof===x)return y(e,t,n,Ti(t,r),i);ea(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===m){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&ta(b)===c.type){n(l,c.sibling),Zs(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===m?((d=Vr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Zs(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Wr(u,l.mode,d)).return=l,l=d}return a(l);case _:return v(l,c,u=(b=u._init)(u._payload),d)}if(O(u))return function(i,s,a,l){for(var c=null,u=null,d=s,p=s=0,g=null;null!==d&&p<a.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var m=f(i,d,a[p],l);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(i,d),s=o(m,s,p),null===u?c=m:u.sibling=m,u=m,d=g}if(p===a.length)return n(i,d),oi&&Zr(i,p),c;if(null===d){for(;p<a.length;p++)null!==(d=h(i,a[p],l))&&(s=o(d,s,p),null===u?c=d:u.sibling=d,u=d);return oi&&Zr(i,p),c}for(d=r(d);p<a.length;p++)null!==(g=y(d,i,p,a[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=o(g,s,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),oi&&Zr(i,p),c}(l,c,u,d);if(R(u)){if("function"!==typeof(b=R(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=a,g=a=0,m=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(i,p),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,p=m}if(v.done)return n(i,p),oi&&Zr(i,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return oi&&Zr(i,g),u}for(p=r(p);!v.done;g++,v=l.next())null!==(v=y(p,i,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(i,e)}),oi&&Zr(i,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Js(u),d);if(u.$$typeof===x)return v(l,c,Ti(l,u),d);ea(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Br(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{$s=0;var i=v(e,t,n,r);return Xs=null,i}catch(uo){if(uo===Hi||uo===Ki)throw uo;var o=Mr(29,uo,null,e.mode);return o.lanes=r,o.return=e,o}}}var ra=na(!0),ia=na(!1),oa=z(null),sa=null;function aa(e){var t=e.alternate;V(da,1&da.current),V(oa,e),null===sa&&(null===t||null!==go.current||null!==t.memoizedState)&&(sa=e)}function la(e){if(22===e.tag){if(V(da,da.current),V(oa,e),null===sa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(sa=e)}}else ca()}function ca(){V(da,da.current),V(oa,oa.current)}function ua(e){U(oa),sa===e&&(sa=null),U(da)}var da=z(0);function ha(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lc(),i=io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(jc(t,e,r),so(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lc(),i=io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(jc(t,e,r),so(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lc(),r=io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(jc(t,e,n),so(t,e,n))}};function ga(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,o))}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ya(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var va="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ba(e){va(e)}function wa(e){console.error(e)}function xa(e){va(e)}function Sa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ka(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ea(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){Sa(e,t)},n}function Ca(e){return(e=io(e)).tag=3,e}function _a(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){ka(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){ka(t,n,r),"function"!==typeof i&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ta=Error(s(461)),Ia=!1;function Aa(e,t,n,r){t.child=null===e?ia(t,null,n,r):ra(t,e.child,n,r)}function Ra(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Ci(t),r=Oo(e,t,n,s,o,i),a=jo(),null===e||Ia?(oi&&a&&ti(t),t.flags|=1,Aa(e,t,r,i),t.child):(Fo(e,t,i),Xa(e,t,i))}function Na(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||jr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Pa(e,t,o,r,i))}if(o=e.child,!$a(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(s,r)&&e.ref===t.ref)return Xa(e,t,i)}return t.flags|=1,(e=Fr(o,r)).ref=t.ref,e.return=t,t.child=e}function Pa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Xn(o,r)&&e.ref===t.ref){if(Ia=!1,t.pendingProps=r=o,!$a(e,i))return t.lanes=e.lanes,Xa(e,t,i);0!==(131072&e.flags)&&(Ia=!0)}}return Ma(e,t,n,r,i)}function Oa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Da(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Da(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wi(0,null!==o?o.cachePool:null),null!==o?yo(t,o):vo(),la(t)}else null!==o?(Wi(0,o.cachePool),yo(t,o),ca(),t.memoizedState=null):(null!==e&&Wi(0,null),vo(),ca());return Aa(e,t,i,n),t.child}function Da(e,t,n,r){var i=Bi();return i=null===i?null:{parent:Pi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Wi(0,null),vo(),la(t),null!==e&&ki(e,t,r,!0),null}function La(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ma(e,t,n,r,i){return Ci(t),n=Oo(e,t,n,r,void 0,i),r=jo(),null===e||Ia?(oi&&r&&ti(t),t.flags|=1,Aa(e,t,n,i),t.child):(Fo(e,t,i),Xa(e,t,i))}function ja(e,t,n,r,i,o){return Ci(t),t.updateQueue=null,n=Lo(t,r,n,i),Do(e),r=jo(),null===e||Ia?(oi&&r&&ti(t),t.flags|=1,Aa(e,t,n,o),t.child):(Fo(e,t,o),Xa(e,t,o))}function Fa(e,t,n,r,i){if(Ci(t),null===t.stateNode){var o=Dr,s=n.contextType;"object"===typeof s&&null!==s&&(o=_i(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=pa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),s=n.contextType,o.context="object"===typeof s&&null!==s?_i(s):Dr,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(fa(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&pa.enqueueReplaceState(o,o.state,null),ho(t,r,o,i),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ya(n,a);o.props=l;var c=o.context,u=n.contextType;s=Dr,"object"===typeof u&&null!==u&&(s=_i(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&ma(t,o,r,s),to=!1;var h=t.memoizedState;o.state=h,ho(t,r,o,i),co(),c=t.memoizedState,a||h!==c||to?("function"===typeof d&&(fa(t,n,d,r),c=t.memoizedState),(l=to||ga(t,n,l,r,h,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=ya(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=_i(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ma(t,o,r,l),to=!1,h=t.memoizedState,o.state=h,ho(t,r,o,i),co();var f=t.memoizedState;s!==d||h!==f||to||null!==e&&null!==e.dependencies&&Ei(e.dependencies)?("function"===typeof a&&(fa(t,n,a,r),f=t.memoizedState),(u=to||ga(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ei(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,La(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=ra(t,e.child,null,i),t.child=ra(t,null,n,i)):Aa(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Xa(e,t,i),e}function za(e,t,n,r){return fi(),t.flags|=256,Aa(e,t,n,r),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Va(e){return{baseLanes:e,cachePool:qi()}}function Ba(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Wa(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&da.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?aa(t):ca(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=ai;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:$r,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;ua(t)}return c=i.children,i=i.fallback,o?(ca(),c=Ha({mode:"hidden",children:c},o=t.mode),i=Vr(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=Va(n),o.childLanes=Ba(e,r,n),t.memoizedState=Ua,i):(aa(t),qa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(aa(t),t.flags&=-257,t=Ga(e,t,n)):null!==t.memoizedState?(ca(),t.child=e.child,t.flags|=128,t=null):(ca(),o=i.fallback,c=t.mode,i=Ha({mode:"visible",children:i.children},c),(o=Vr(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,ra(t,e.child,null,n),(i=t.child).memoizedState=Va(n),i.childLanes=Ba(e,r,n),t.memoizedState=Ua,t=o);else if(aa(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,gi({value:i,source:null,stack:null}),t=Ga(e,t,n)}else if(Ia||ki(e,t,n,!1),r=0!==(n&e.childLanes),Ia||r){if(null!==(r=ic)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ie(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Nr(e,i),jc(r,e,i),Ta;"$?"===c.data||Qc(),t=Ga(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vd(c.nextSibling),ri=t,oi=!0,si=null,ai=!1,null!==e&&(Qr[Yr++]=$r,Qr[Yr++]=Jr,Qr[Yr++]=Xr,$r=e.id,Jr=e.overflow,Xr=t),(t=qa(t,i.children)).flags|=4096);return t}return o?(ca(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=Fr(u,o):(o=Vr(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=Va(n):(null!==(l=c.cachePool)?(u=Pi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Ba(e,r,n),t.memoizedState=Ua,i):(aa(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qa(e,t){return(t=Ha({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ha(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ga(e,t,n){return ra(t,e.child,null,n),(e=qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ka(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Qa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ya(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Aa(e,t,r.children,n),0!==(2&(r=da.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n,t);else if(19===e.tag)Ka(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(da,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ha(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ha(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qa(t,!0,n,null,o);break;case"together":Qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ki(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ei(e))}function Ja(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ia=!0;else{if(!$a(e,n)&&0===(128&t.flags))return Ia=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),bi(0,Pi,e.memoizedState.cache),fi();break;case 27:case 5:Q(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(aa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Wa(e,t,n):(aa(t),null!==(e=Xa(e,t,n))?e.sibling:null);aa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ki(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Ya(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(da,da.current),r)break;return null;case 22:case 23:return t.lanes=0,Oa(e,t,n);case 24:bi(0,Pi,e.memoizedState.cache)}return Xa(e,t,n)}(e,t,n);Ia=0!==(131072&e.flags)}else Ia=!1,oi&&0!==(1048576&t.flags)&&ei(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=Ra(null,t,r,e,n);break e}if(i===C){t.tag=14,t=Na(null,t,r,e,n);break e}}throw t=P(r)||r,Error(s(306,t,""))}jr(r)?(e=ya(r,e),t.tag=1,t=Fa(null,t,r,e,n)):(t.tag=0,t=Ma(null,t,r,e,n))}return t;case 0:return Ma(e,t,t.type,t.pendingProps,n);case 1:return Fa(e,t,r=t.type,i=ya(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),ho(t,r,null,n);var a=t.memoizedState;if(r=a.cache,bi(0,Pi,r),r!==o.cache&&Si(t,[Pi],n,!0),co(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=za(e,t,r,n);break e}if(r!==i){gi(i=Er(Error(s(424)),t)),t=za(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vd(e.firstChild),ri=t,oi=!0,si=null,ai=!0,n=ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Xa(e,t,n);break e}Aa(e,t,r,n)}t=t.child}return t;case 26:return La(e,t),null===e?(n=Ad(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=id(q.current).createElement(n))[Pe]=t,r[Oe]=e,td(r,n,e),He(r),t.stateNode=r):t.memoizedState=Ad(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&oi&&(r=t.stateNode=xd(t.type,t.pendingProps,q.current),ri=t,ai=!0,i=ii,pd(t.type)?(bd=i,ii=vd(r.firstChild)):ii=i),Aa(e,t,t.pendingProps.children,n),La(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ai))?(t.stateNode=r,ri=t,ii=vd(r.firstChild),ai=!1,i=!0):i=!1),i||ci(t)),Q(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,ad(i,o)?r=null:null!==a&&ad(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=Oo(e,t,Mo,null,null,n),Yd._currentValue=i),La(e,t),Aa(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,ai))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Wa(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ra(t,null,r,n):Aa(e,t,r,n),t.child;case 11:return Ra(e,t,t.type,t.pendingProps,n);case 7:return Aa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Aa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Aa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ci(t),r=r(i=_i(i)),t.flags|=1,Aa(e,t,r,n),t.child;case 14:return Na(e,t,t.type,t.pendingProps,n);case 15:return Pa(e,t,t.type,t.pendingProps,n);case 19:return Ya(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ha(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Oa(e,t,n);case 24:return Ci(t),r=_i(Pi),null===e?(null===(i=Bi())&&(i=ic,o=Oi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),bi(0,Pi,i)):(0!==(e.lanes&n)&&(ro(e,t),ho(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Pi,r)):(r=o.cache,bi(0,Pi,r),r!==i.cache&&Si(t,[Pi],n,!0))),Aa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Za(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=oa.current)&&((4194048&sc)===sc?null!==sa:(62914560&sc)!==sc&&0===(536870912&sc)||t!==sa))throw Ji=Qi,Gi;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,vc|=t)}function nl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function il(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Pi),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Za(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Za(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Za(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Za(t),rl(t),t.flags&=-16777217),null;case 27:Y(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Za(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return rl(t),null}e=B.current,hi(t)?ui(t):(e=xd(i,r,n),t.stateNode=e,Za(t))}return rl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Za(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return rl(t),null}if(e=B.current,hi(t))ui(t);else{switch(i=id(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Pe]=t,e[Oe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(td(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Za(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Za(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=q.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ci(t)}else(e=id(e).createTextNode(r))[Pe]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Pe]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ua(t),t):(ua(t),null)}if(ua(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return K(),null===e&&Vu(t.stateNode.containerInfo),rl(t),null;case 10:return wi(t.type),rl(t),null;case 19:if(U(da),null===(i=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)nl(i,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ha(e))){for(t.flags|=128,nl(i,!1),e=o.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return V(da,1&da.current|2),t.child}e=e.sibling}null!==i.tail&&te()>kc&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ha(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return rl(t),null}else 2*te()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=da.current,V(da,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return ua(t),bo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Vi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Pi),rl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ol(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Pi),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(ua(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(da),null;case 4:return K(),null;case 10:return wi(t.type),null;case 22:case 23:return ua(t),bo(),null!==e&&U(Vi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Pi),null;default:return null}}function sl(e,t){switch(ni(t),t.tag){case 3:wi(Pi),K();break;case 26:case 27:case 5:Y(t);break;case 4:K();break;case 13:ua(t);break;case 19:U(da);break;case 10:wi(t.type);break;case 22:case 23:ua(t),bo(),null!==e&&U(Vi);break;case 24:wi(Pi)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(a){du(t,t.return,a)}}function ll(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){du(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){du(t,t.return,u)}}function cl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{po(t,n)}catch(r){du(e,e.return,r)}}}function ul(e,t,n){n.props=ya(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){du(e,t,r)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){du(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){du(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){du(e,t,o)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){du(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Zu(e,t,f,p,r,h)}}return void mt(e,a,l,c,u,d,o,i);case"select":for(o in p=a=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||Zu(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&Zu(e,t,i,o,r,c)}return t=l,n=a,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&Zu(e,t,a,i,r,o)}return void wt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Zu(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&Zu(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Zu(e,t,u,f,r,p)}return;default:if(_t(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&ed(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||ed(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Zu(e,t,h,f,r,p)}(r,e.type,n,t),r[Oe]=t}catch(i){du(e,e.return,i)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);td(t,r,n),t[Pe]=e,t[Oe]=n}catch(o){du(e,e.return,o)}}var wl=!1,xl=!1,Sl=!1,kl="function"===typeof WeakSet?WeakSet:Set,El=null;function Cl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&al(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){du(n,n.return,s)}else{var i=ya(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){du(n,n.return,a)}}64&r&&cl(n),512&r&&dl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{po(e,t)}catch(s){du(n,n.return,s)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&fl(n),512&r&&dl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Nl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||xl,i=wl;var o=xl;wl=r,(xl=t)&&!o?Ul(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),wl=i,xl=o}break;case 30:break;default:Fl(e,n)}}function _l(e){var t=e.alternate;null!==t&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Il=!1;function Al(e,t,n){for(n=n.child;null!==n;)Rl(e,t,n),n=n.sibling}function Rl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:xl||hl(n,t),Al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||hl(n,t);var r=Tl,i=Il;pd(n.type)&&(Tl=n.stateNode,Il=!1),Al(e,t,n),Sd(n.stateNode),Tl=r,Il=i;break;case 5:xl||hl(n,t);case 6:if(r=Tl,i=Il,Tl=null,Al(e,t,n),Il=i,null!==(Tl=r))if(Il)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(s){du(n,t,s)}else try{Tl.removeChild(n.stateNode)}catch(s){du(n,t,s)}break;case 18:null!==Tl&&(Il?(gd(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ih(e)):gd(Tl,n.stateNode));break;case 4:r=Tl,i=Il,Tl=n.stateNode.containerInfo,Il=!0,Al(e,t,n),Tl=r,Il=i;break;case 0:case 11:case 14:case 15:xl||ll(2,n,t),xl||ll(4,n,t),Al(e,t,n);break;case 1:xl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Al(e,t,n);break;case 21:Al(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,Al(e,t,n),xl=r;break;default:Al(e,t,n)}}function Nl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ih(e)}catch(n){du(t,t.return,n)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ol(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Tl=l.stateNode,Il=!1;break e}break;case 5:Tl=l.stateNode,Il=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Il=!0;break e}l=l.return}if(null===Tl)throw Error(s(160));Rl(o,a,i),Tl=null,Il=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ll(t,e),t=t.sibling}var Dl=null;function Ll(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),Ml(e),4&r&&(ll(3,e,e.return),al(3,e),ll(5,e,e.return));break;case 1:Ol(t,e),Ml(e),512&r&&(xl||null===n||hl(n,n.return)),64&r&&wl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Dl;if(Ol(t,e),Ml(e),512&r&&(xl||null===n||hl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[ze]||o[Pe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),td(o,r,n),o[Pe]=e,He(o),r=o;break e;case"link":var a=Ud("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}td(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=Ud("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}td(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Pe]=e,He(o),r=o}e.stateNode=r}else Vd(i,e.type,e.stateNode);else e.stateNode=Ld(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Vd(i,e.type,e.stateNode):Ld(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),Ml(e),512&r&&(xl||null===n||hl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),Ml(e),512&r&&(xl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){du(e,e.return,p)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Sl=!0);break;case 6:if(Ol(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){du(e,e.return,p)}}break;case 3:if(zd=null,i=Dl,Dl=Cd(t.containerInfo),Ol(t,e),Dl=i,Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ih(t.containerInfo)}catch(p){du(e,e.return,p)}Sl&&(Sl=!1,jl(e));break;case 4:r=Dl,Dl=Cd(e.stateNode.containerInfo),Ol(t,e),Ml(e),Dl=r;break;case 12:default:Ol(t,e),Ml(e);break;case 13:Ol(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Sc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,d=xl;if(wl=u||i,xl=d||c,Ol(t,e),xl=d,wl=u,Ml(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||wl||xl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){du(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){du(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Pl(e,n))));break;case 19:Ol(t,e),Ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(gl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,ml(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),vl(e,ml(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;yl(e,ml(e),a);break;default:throw Error(s(161))}}catch(l){du(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),zl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),zl(t);break;case 27:Sd(t.stateNode);case 26:case 5:hl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Ul(i,o,n),al(4,o);break;case 1:if(Ul(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){du(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)fo(l[i],a)}catch(c){du(r,r.return,c)}}n&&64&s&&cl(o),dl(o,o.return);break;case 27:bl(o);case 26:case 5:Ul(i,o,n),n&&null===r&&4&s&&fl(o),dl(o,o.return);break;case 12:Ul(i,o,n);break;case 13:Ul(i,o,n),n&&4&s&&Nl(i,o);break;case 22:null===o.memoizedState&&Ul(i,o,n),dl(o,o.return);break;case 30:break;default:Ul(i,o,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Di(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e))}function Wl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Wl(e,t,n,r),2048&i&&al(9,t);break;case 1:case 13:default:Wl(e,t,n,r);break;case 3:Wl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e)));break;case 12:if(2048&i){Wl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){du(t,t.return,l)}}else Wl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Wl(e,t,n,r):Gl(e,t):2&o._visibility?Wl(e,t,n,r):(o._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Vl(s,t);break;case 24:Wl(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(o,s,a,l,i),al(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Hl(o,s,a,l,i):Gl(o,s):(u._visibility|=2,Hl(o,s,a,l,i)),i&&2048&c&&Vl(s.alternate,s);break;case 24:Hl(o,s,a,l,i),i&&2048&c&&Bl(s.alternate,s);break;default:Hl(o,s,a,l,i)}t=t.sibling}}function Gl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Gl(n,r),2048&i&&Vl(r.alternate,r);break;case 24:Gl(n,r),2048&i&&Bl(r.alternate,r);break;default:Gl(n,r)}t=t.sibling}}var Kl=8192;function Ql(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Ql(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Wd)throw Error(s(475));var r=Wd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Rd(n.href),o=e.querySelector(Nd(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void He(o);o=e.ownerDocument||e,n=Pd(n),(i=kd.get(i))&&jd(n,i),He(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),td(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Ql(e);break;case 3:case 4:var t=Dl;Dl=Cd(e.stateNode.containerInfo),Ql(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Ql(e),Kl=t):Ql(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,ec(r,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):$l(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,ec(r,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==El;){var n=El;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,El=r;else e:for(n=e;null!==El;){var i=(r=El).sibling,o=r.return;if(_l(r),r===n){El=null;break e}if(null!==i){i.return=o,El=i;break e}El=o}}}var tc={getCacheForType:function(e){var t=_i(Pi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ic=null,oc=null,sc=0,ac=0,lc=null,cc=!1,uc=!1,dc=!1,hc=0,fc=0,pc=0,gc=0,mc=0,yc=0,vc=0,bc=null,wc=null,xc=!1,Sc=0,kc=1/0,Ec=null,Cc=null,_c=0,Tc=null,Ic=null,Ac=0,Rc=0,Nc=null,Pc=null,Oc=0,Dc=null;function Lc(){if(0!==(2&rc)&&0!==sc)return sc&-sc;if(null!==D.T){return 0!==ji?ji:Ru()}return Re()}function Mc(){0===yc&&(yc=0===(536870912&sc)||oi?Se():536870912);var e=oa.current;return null!==e&&(e.flags|=32),yc}function jc(e,t,n){(e!==ic||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(qc(e,0),Vc(e,sc,yc,!1)),Ce(e,n),0!==(2&rc)&&e===ic||(e===ic&&(0===(2&rc)&&(gc|=n),4===fc&&Vc(e,sc,yc,!1)),ku(e))}function Fc(e,t,n){if(0!==(6&rc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=rc;rc|=2;var r=Gc(),i=Kc();ic!==e||sc!==t?(Ec=null,kc=te()+500,qc(e,t)):uc=we(e,t);e:for(;;)try{if(0!==ac&&null!==oc){t=oc;var o=lc;t:switch(ac){case 1:ac=0,lc=null,eu(e,t,o,1);break;case 2:case 9:if(Yi(o)){ac=0,lc=null,Zc(t);break}t=function(){2!==ac&&9!==ac||ic!==e||(ac=7),ku(e)},o.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Yi(o)?(ac=0,lc=null,Zc(t)):(ac=0,lc=null,eu(e,t,o,7));break;case 5:var a=null;switch(oc.tag){case 26:a=oc.memoizedState;case 5:case 27:var l=oc;if(!a||Bd(a)){ac=0,lc=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,tu(u)):oc=null}break t}}ac=0,lc=null,eu(e,t,o,5);break;case 6:ac=0,lc=null,eu(e,t,o,6);break;case 8:Wc(),fc=6;break e;default:throw Error(s(462))}}$c();break}catch(d){Hc(e,d)}return vi=yi=null,D.H=r,D.A=i,rc=n,null!==oc?0:(ic=null,sc=0,Ir(),fc)}(e,t):Yc(e,t,!0),o=r;;){if(0===i){uc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!o||Uc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,a).flags|=256),2!==(a=Yc(l,a,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=o,gc|=o,i=4;break e}o=wc,wc=i,null!==o&&(null===wc?wc=o:wc.push.apply(wc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){qc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,yc,!cc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Sc+300-te())){if(Vc(r,t,yc,!cc),0!==be(r,0,!0))break e;r.timeoutHandle=cd(zc.bind(null,r,n,wc,Ec,xc,t,yc,gc,vc,cc,o,2,-0,0),i)}else zc(r,n,wc,Ec,xc,t,yc,gc,vc,cc,o,0,-0,0)}break}i=Yc(e,t,!1),o=!1}ku(e)}function zc(e,t,n,r,i,o,a,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Wd={stylesheets:null,count:0,unsuspend:qd},Yl(t),null!==(h=function(){if(null===Wd)throw Error(s(475));var e=Wd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,o,n,r,i,a,l,c,d,1,f,p)),void Vc(e,o,a,!u);ru(e,t,o,n,r,i,a,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Yn(o(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~mc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-fe(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&_e(e,n,t)}function Bc(){return 0!==(6&rc)||(Eu(0,!1),!1)}function Wc(){if(null!==oc){if(0===ac)var e=oc.return;else vi=yi=null,zo(e=oc),Xs=null,$s=0,e=oc;for(;null!==e;)sl(e.alternate,e),e=e.return;oc=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc(),ic=e,oc=n=Fr(e.current,null),sc=t,ac=0,lc=null,cc=!1,uc=we(e,t),dc=!1,vc=yc=mc=gc=pc=fc=0,wc=bc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),o=1<<i;t|=e[i],r&=~o}return hc=t,Ir(),n}function Hc(e,t){xo=null,D.H=Gs,t===Hi||t===Ki?(t=Zi(),ac=3):t===Gi?(t=Zi(),ac=4):ac=t===Ta?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===oc&&(fc=1,Sa(e,Er(t,e.current)))}function Gc(){var e=D.H;return D.H=Gs,null===e?Gs:e}function Kc(){var e=D.A;return D.A=tc,e}function Qc(){fc=4,cc||(4194048&sc)!==sc&&null!==oa.current||(uc=!0),0===(134217727&pc)&&0===(134217727&gc)||null===ic||Vc(ic,sc,yc,!1)}function Yc(e,t,n){var r=rc;rc|=2;var i=Gc(),o=Kc();ic===e&&sc===t||(Ec=null,qc(e,t)),t=!1;var s=fc;e:for(;;)try{if(0!==ac&&null!==oc){var a=oc,l=lc;switch(ac){case 8:Wc(),s=6;break e;case 3:case 2:case 9:case 6:null===oa.current&&(t=!0);var c=ac;if(ac=0,lc=null,eu(e,a,l,c),n&&uc){s=0;break e}break;default:c=ac,ac=0,lc=null,eu(e,a,l,c)}}Xc(),s=fc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,rc=r,D.H=i,D.A=o,null===oc&&(ic=null,sc=0,Ir()),s}function Xc(){for(;null!==oc;)Jc(oc)}function $c(){for(;null!==oc&&!Z();)Jc(oc)}function Jc(e){var t=Ja(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?tu(e):oc=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ja(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=ja(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:zo(t);default:sl(n,t),t=Ja(n,t=oc=zr(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?tu(e):oc=t}function eu(e,t,n,r){vi=yi=null,zo(t),Xs=null,$s=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ki(t,n,i,!0),null!==(n=oa.current)){switch(n.tag){case 13:return null===sa?Qc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(s(435,n.tag))}return hu(e,r,i),Qc(),!1}if(oi)return null!==(t=oa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&gi(Er(e=Error(s(422),{cause:r}),n))):(r!==li&&gi(Er(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Er(r,n),ao(e,i=Ea(e.stateNode,r,i)),4!==fc&&(fc=2)),!1;var o=Error(s(520),{cause:r});if(o=Er(o,n),null===bc?bc=[o]:bc.push(o),4!==fc&&(fc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ao(n,e=Ea(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Cc||!Cc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,_a(i=Ca(i),e,n,r),ao(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,sc))return fc=1,Sa(e,Er(n,e.current)),void(oc=null)}catch(o){if(null!==i)throw oc=i,o;return fc=1,Sa(e,Er(n,e.current)),void(oc=null)}32768&t.flags?(oi||1===r?e=!0:uc||0!==(536870912&sc)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=oa.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,cc);e=t.return;var n=il(t.alternate,t,hc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===fc&&(fc=5)}function nu(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);fc=6,oc=null}function ru(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==_c);if(0!==(6&rc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&_e(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Tr,a,l,c),e===ic&&(oc=ic=null,sc=0),Ic=t,Tc=e,Ac=n,Rc=o,Nc=i,Pc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(oe,function(){return cu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=L.p,L.p=2,a=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nd=rh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rh=!1,El=t;null!==El;)if(e=(t=El).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,El=e;else for(;null!==El;){switch(o=(t=El).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var g=ya(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){du(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,El=e;break}El=t.return}}(e,t)}finally{rc=a,L.p=i,D.T=r}}_c=1,iu(),ou(),su()}}function iu(){if(1===_c){_c=0;var e=Tc,t=Ic,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var i=rc;rc|=4;try{Ll(t,e);var o=rd,s=er(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(s=m,m=g,g=s);var y=Jn(a,g),v=Jn(a,m);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}rh=!!nd,rd=nd=null}finally{rc=i,L.p=r,D.T=n}}e.current=t,_c=2}}function ou(){if(2===_c){_c=0;var e=Tc,t=Ic,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var i=rc;rc|=4;try{Cl(e,t.alternate,t)}finally{rc=i,L.p=r,D.T=n}}_c=3}}function su(){if(4===_c||3===_c){_c=0,ee();var e=Tc,t=Ic,n=Ac,r=Pc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?_c=5:(_c=0,Ic=Tc=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Cc=null),Ae(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=L.p,L.p=2,D.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{D.T=t,L.p=i}}0!==(3&Ac)&&lu(),ku(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Dc?Oc++:(Oc=0,Dc=e):Oc=0,Eu(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Di(t)))}function lu(e){return iu(),ou(),su(),cu()}function cu(){if(5!==_c)return!1;var e=Tc,t=Rc;Rc=0;var n=Ae(Ac),r=D.T,i=L.p;try{L.p=32>n?32:n,D.T=null,n=Nc,Nc=null;var o=Tc,a=Ac;if(_c=0,Ic=Tc=null,Ac=0,0!==(6&rc))throw Error(s(331));var l=rc;if(rc|=4,Jl(o.current),ql(o,o.current,a,n),rc=l,Eu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{L.p=i,D.T=r,au(e,t)}}function uu(e,t,n){t=Er(n,t),null!==(e=oo(e,t=Ea(e.stateNode,t,2),2))&&(Ce(e,2),ku(e))}function du(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Cc||!Cc.has(r))){e=Er(n,e),null!==(r=oo(t,n=Ca(2),2))&&(_a(n,r,t,e),Ce(r,2),ku(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(dc=!0,i.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(sc&n)===n&&(4===fc||3===fc&&(62914560&sc)===sc&&300>te()-Sc?0===(2&rc)&&qc(e,0):mc|=n,vc===sc&&(vc=0)),ku(e)}function pu(e,t){0===t&&(t=ke()),null!==(e=Nr(e,t))&&(Ce(e,t),ku(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),pu(e,n)}var yu=null,vu=null,bu=!1,wu=!1,xu=!1,Su=0;function ku(e){e!==vu&&null===e.next&&(null===vu?yu=vu=e:vu=vu.next=e),wu=!0,bu||(bu=!0,hd(function(){0!==(6&rc)?$(re,Cu):_u()}))}function Eu(e,t){if(!xu&&wu){xu=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-fe(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Au(r,o))}else o=sc,0===(3&(o=be(r,r===ic?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,o)||(n=!0,Au(r,o));r=r.next}}while(n);xu=!1}}function Cu(){_u()}function _u(){wu=bu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ld&&(ld=e,!0);return ld=null,!1}()&&(e=Su),Su=0);for(var t=te(),n=null,r=yu;null!==r;){var i=r.next,o=Tu(r,t);0===o?(r.next=null,null===n?yu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&o))&&(wu=!0)),r=i}Eu(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-fe(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=xe(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=sc,n=be(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ae(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=ae}return r=Iu.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Iu(e,t){if(0!==_c&&5!==_c)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=be(e,e===ic?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Iu.bind(null,e):null)}function Au(e,t){if(lu())return null;Fc(e,t,!0)}function Ru(){return 0===Su&&(Su=Se()),Su}function Nu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Pu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ou=0;Ou<xr.length;Ou++){var Du=xr[Ou];Sr(Du.toLowerCase(),"on"+(Du[0].toUpperCase()+Du.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(gr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(mr,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function ju(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){va(u)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){va(u)}i.currentTarget=null,o=l}}}}function Fu(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function zu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Uu]){e[Uu]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Mu.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,zu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(uh(t)){case 2:var i=ih;break;case 8:i=oh;break;default:i=sh}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Ve(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Mt(function(){var r=o,i=Nt(n),s=[];e:{var a=wr.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case gr:c=an;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=jt(g,f))&&d.push(qu(g,m,p)),h)break;g=g.return}0<d.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[De])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=mn,m="onPointerLeave",f="onPointerEnter",g="pointer"),h=null==c?a:We(c),p=null==u?a:We(u),(a=new d(m,g+"leave",c,n,i)).target=h,a.relatedTarget=p,m=null,Ve(i)===r&&((d=new d(f,g+"enter",u,n,i)).target=p,d.relatedTarget=h,m=d),h=m,c&&u)e:{for(f=u,g=0,p=d=c;p;p=Gu(p))g++;for(p=0,m=f;m;m=Gu(m))p++;for(;0<g-p;)d=Gu(d),g--;for(;0<p-g;)f=Gu(f),p--;for(;g--;){if(d===f||null!==f&&d===f.alternate)break e;d=Gu(d),f=Gu(f)}d=null}else d=null;null!==c&&Ku(s,a,c,d,!1),null!==u&&null!==h&&Ku(s,h,u,d,!0)}if("select"===(c=(a=r?We(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=Fn;else if(Pn(a))if(zn)y=Qn;else{y=Gn;var v=Hn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&_t(r.elementType)&&(y=Fn):y=Kn;switch(y&&(y=y(e,r))?On(s,y,n,i):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&vt(a,"number",a.value)),v=r?We(r):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,i)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rn?In(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Cn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Rn&&(b=qt()):(Bt="value"in(Vt=i)?Vt.value:Vt.textContent,Rn=!0)),0<(v=Hu(r,w)).length&&(w=new cn(w,e,null,n,i),s.push({event:w,listeners:v}),b?w.data=b:null!==(b=An(n))&&(w.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Tn=!0,_n);case"textInput":return(e=t.data)===_n&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Sn&&In(e,t)?(e=qt(),Wt=Bt=Vt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Hu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Nu((i[Oe]||null).action),s=r.submitter;s&&null!==(t=(t=s[Oe]||null)?Nu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new Zt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Su){var e=s?Pu(i,s):new FormData(i);Ps(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Pu(i,s):new FormData(i),Ps(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}ju(s,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=jt(e,n))&&r.unshift(qu(e,i,o)),null!=(i=jt(e,t))&&r.push(qu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Gu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=jt(n,o))&&s.unshift(qu(n,c,l)):i||null!=(c=jt(n,o))&&s.push(qu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Xu(e){return("string"===typeof e?e:""+e).replace(Qu,"\n").replace(Yu,"")}function $u(e,t){return t=Xu(t),Xu(e)===t}function Ju(){}function Zu(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Tt.get(n)||n,r)}}function ed(e,t,n,r,i,o){switch(n){case"style":Ct(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Oe]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function td(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zu(e,t,r,a,n,null)}}return o&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Zu(e,t,i,d,n,null)}}return yt(e,r,l,c,u,a,o,!1),void dt(e);case"select":for(o in Fu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Zu(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(a in Fu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Zu(e,t,a,l,n,null)}return xt(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(i=0;i<Lu.length;i++)Fu(Lu[i],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&ed(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var nd=null,rd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ad(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ld=null;var cd="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,dd="function"===typeof Promise?Promise:void 0,hd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dd?function(e){return dd.resolve(null).then(e).catch(fd)}:cd;function fd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function gd(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&Sd(s.documentElement),2&n&&Sd(s.body),4&n)for(Sd(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===i)return e.removeChild(o),void Ih(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Ih(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Sd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var kd=new Map,Ed=new Set;function Cd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _d=L.d;L.d={f:function(){var e=_d.f(),t=Bc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Ds(t):_d.r(e)},D:function(e){_d.D(e),Id("dns-prefetch",e,null)},C:function(e,t){_d.C(e,t),Id("preconnect",e,t)},L:function(e,t,n){_d.L(e,t,n);var r=Td;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var o=i;switch(t){case"style":o=Rd(e);break;case"script":o=Od(e)}kd.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Nd(o))||"script"===t&&r.querySelector(Dd(o))||(td(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){_d.m(e,t);var n=Td;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Od(e)}if(!kd.has(o)&&(e=h({rel:"modulepreload",href:e},t),kd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dd(o)))return}td(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){_d.X(e,t);var n=Td;if(n&&e){var r=qe(n).hoistableScripts,i=Od(e),o=r.get(i);o||((o=n.querySelector(Dd(i)))||(e=h({src:e,async:!0},t),(t=kd.get(i))&&Fd(e,t),He(o=n.createElement("script")),td(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){_d.S(e,t,n);var r=Td;if(r&&e){var i=qe(r).hoistableStyles,o=Rd(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Nd(o)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(o))&&jd(e,n);var l=s=r.createElement("link");He(l),td(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Md(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){_d.M(e,t);var n=Td;if(n&&e){var r=qe(n).hoistableScripts,i=Od(e),o=r.get(i);o||((o=n.querySelector(Dd(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(i))&&Fd(e,t),He(o=n.createElement("script")),td(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Td="undefined"===typeof document?null:document;function Id(e,t,n){var r=Td;if(r&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Ed.has(i)||(Ed.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(td(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Ad(e,t,n,r){var i,o,a,l,c=(c=q.current)?Cd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Rd(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Rd(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Nd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(i=c,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),td(o,"link",a),He(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Od(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Rd(e){return'href="'+gt(e)+'"'}function Nd(e){return'link[rel="stylesheet"]['+e+"]"}function Pd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Od(e){return'[src="'+gt(e)+'"]'}function Dd(e){return"script[async]"+e}function Ld(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),td(r,"style",i),Md(r,n.precedence,e),t.instance=r;case"stylesheet":i=Rd(n.href);var o=e.querySelector(Nd(i));if(o)return t.state.loading|=4,t.instance=o,He(o),o;r=Pd(n),(i=kd.get(i))&&jd(r,i),He(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),td(o,"link",r),t.state.loading|=4,Md(o,n.precedence,e),t.instance=o;case"script":return o=Od(n.src),(i=e.querySelector(Dd(o)))?(t.instance=i,He(i),i):(r=n,(i=kd.get(o))&&Fd(r=h({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),td(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Md(r,n.precedence,e));return t.instance}function Md(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function Ud(e,t,n){if(null===zd){var r=new Map,i=zd=new Map;i.set(n,r)}else(r=(i=zd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[ze]||o[Pe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Wd=null;function qd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gd=new Map,t.forEach(Qd,e),Gd=null,Hd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Gd.get(e);if(n)var r=n.get(null);else{n=new Map,Gd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:x,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Xd(e,t,n,r,i,o,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function $d(e,t,n,r,i,o,s,a,l,c,u,d){return e=new Xd(e,t,n,s,a,l,c,d),t=1,!0===o&&(t|=24),o=Mr(3,null,null,t),e.current=o,o.stateNode=e,(t=Oi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Jd(e){return e?e=Dr:Dr}function Zd(e,t,n,r,i,o){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(jc(n,0,t),so(n,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function nh(e){if(13===e.tag){var t=Nr(e,67108864);null!==t&&jc(t,0,67108864),th(e,67108864)}}var rh=!0;function ih(e,t,n,r){var i=D.T;D.T=null;var o=L.p;try{L.p=2,sh(e,t,n,r)}finally{L.p=o,D.T=i}}function oh(e,t,n,r){var i=D.T;D.T=null;var o=L.p;try{L.p=8,sh(e,t,n,r)}finally{L.p=o,D.T=i}}function sh(e,t,n,r){if(rh){var i=ah(r);if(null===i)Wu(e,t,r,lh,n),bh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hh=wh(hh,e,t,n,r,i),!0;case"dragenter":return fh=wh(fh,e,t,n,r,i),!0;case"mouseover":return ph=wh(ph,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return gh.set(o,wh(gh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,mh.set(o,wh(mh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var o=Be(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=ve(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-fe(s);a.entanglements[1]|=l,s&=~l}ku(o),0===(6&rc)&&(kc=te()+500,Eu(0,!1))}}break;case 13:null!==(a=Nr(o,2))&&jc(a,0,2),Bc(),th(o,2)}if(null===(o=ah(r))&&Wu(e,t,r,lh,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wu(e,t,r,null,n)}}function ah(e){return ch(e=Nt(e))}var lh=null;function ch(e){if(lh=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var dh=!1,hh=null,fh=null,ph=null,gh=new Map,mh=new Map,yh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function wh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Be(t))&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function xh(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,function(){if(13===n.tag){var e=Lc();e=Ie(e);var t=Nr(n,e);null!==t&&jc(t,0,e),th(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&nh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function kh(e,t,n){Sh(e)&&n.delete(t)}function Eh(){dh=!1,null!==hh&&Sh(hh)&&(hh=null),null!==fh&&Sh(fh)&&(fh=null),null!==ph&&Sh(ph)&&(ph=null),gh.forEach(kh),mh.forEach(kh)}function Ch(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Eh)))}var _h=null;function Th(e){_h!==e&&(_h=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_h===e&&(_h=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ch(r||n))continue;break}var o=Be(n);null!==o&&(e.splice(t,3),t-=3,Ps(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ih(e){function t(t){return Ch(t,e)}null!==hh&&Ch(hh,e),null!==fh&&Ch(fh,e),null!==ph&&Ch(ph,e),gh.forEach(t),mh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)xh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Oe]||null;if("function"===typeof o)s||Th(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Oe]||null)a=s.formAction;else if(null!==ch(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Th(n)}}}function Ah(e){this._internalRoot=e}function Rh(e){this._internalRoot=e}Rh.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Zd(t.current,Lc(),e,t,null,null)},Rh.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),Bc(),t[De]=null}},Rh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&xh(e)}};var Nh=i.version;if("19.1.1"!==Nh)throw Error(s(527,Nh,"19.1.1"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ph={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{ue=Oh.inject(Ph),de=Oh}catch(Lh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=ba,o=wa,l=xa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,n,r,i,o,l,0,null),e[De]=t.current,Vu(e),new Ah(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=ba,l=wa,c=xa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$d(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Jd(null),n=t.current,(i=io(r=Ie(r=Lc()))).callback=null,oo(n,i,r),n=r,t.current.lanes=n,Ce(t,n),ku(t),e[De]=t.current,Vu(e),new Rh(t)},t.version="19.1.1"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function E(e,t,r,i,o,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(){}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return A((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+T(e,0):o,x(s)?(i="",null!=u&&(i=u.replace(_,"$&/")+"/"),A(s,t,i,"",function(e){return e})):null!=s&&(C(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+u,s=E(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===o?".":o+":";if(x(e))for(var g=0;g<e.length;g++)u+=A(o=e[g],t,i,a=p+T(o,g),s);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(o=e.next()).done;)u+=A(o=o.value,t,i,a=p+T(o,g++),s);else if("object"===a){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return E(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,P)}catch(o){P(o)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.1"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(m=!1,x(e),!g)if(null!==r(c))g=!0,E||(E=!0,k());else{var t=r(u);null!==t&&P(S,t.startTime-e)}}var k,E=!1,C=-1,_=5,T=-1;function I(){return!!y||!(t.unstable_now()-T<_)}function A(){if(y=!1,E){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(C),C=-1),p=!0;var o=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&I());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(S,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?k():E=!1}}}if("function"===typeof w)k=function(){w(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=A,k=function(){N.postMessage(null)}}else k=function(){v(A,0)};function P(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(b(C),C=-1):m=!0,P(S,o-s))):(e.sortIndex=a,n(c,e),g||p||(g=!0,E||(E=!0,k()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".4fed7cdc.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="chicken-empire-react:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Chikboom/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkchicken_empire_react=self.webpackChunkchicken_empire_react||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new h;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(e){return function(e){const t=u(e);return d.encodeByteArray(t,!0)}(e).replace(/\./g,"")},p=function(e){try{return d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function g(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const m=()=>{try{return g().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Chikboom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&p(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},y=e=>{var t;return null===(t=m())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},v=()=>{var e;return null===(e=m())||void 0===e?void 0:e.config},b=e=>{var t;return null===(t=m())||void 0===t?void 0:t["_".concat(e)]};class w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function x(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function S(e){return(await fetch(e,{credentials:"include"})).ok}const k={};let E=!1;function C(e,t){if("undefined"===typeof window||"undefined"===typeof document||!x(window.location.host)||k[e]===t||k[e]||E)return;function n(e){return"__firebase__banner__".concat(e)}k[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(k))k[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{E=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function _(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function T(){var e;const t=null===(e=m())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function I(){return!T()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A(){try{return"object"===typeof indexedDB}catch(e){return!1}}class R extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(P,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new R(n,o,t)}}const P=/\{\$([^}]+)}/g;function O(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(D(n)&&D(o)){if(!O(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D(e){return null!==e&&"object"===typeof e}function L(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function M(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function j(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class F{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z(){}function U(e){return e&&e._delegate?e._delegate:e}class V{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const B="[DEFAULT]";class W{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new w;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:B})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===B?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.component?this.component.multipleInstances?e:B:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class q{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new W(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const H=[];var G;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(G||(G={}));const K={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},Q=G.INFO,Y={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},X=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Y[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class ${constructor(e){this.name=e,this._logLevel=Q,this._logHandler=X,this._userLogHandler=null,H.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?K[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...t),this._logHandler(this,G.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...t),this._logHandler(this,G.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.INFO,...t),this._logHandler(this,G.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.WARN,...t),this._logHandler(this,G.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.ERROR,...t),this._logHandler(this,G.ERROR,...t)}}let J,Z;const ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap;let oe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return te.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ne.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return le(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function se(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ce(this),n),le(ee.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return le(e.apply(ce(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(ce(this),t,...r);return ne.set(o,t.sort?t.sort():[t]),le(o)}}function ae(e){return"function"===typeof e?se(e):(e instanceof IDBTransaction&&function(e){if(te.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});te.set(e,t)}(e),t=e,(J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,oe):e);var t}function le(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(le(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&ee.set(t,e)}).catch(()=>{}),ie.set(t,e),t}(e);if(re.has(e))return re.get(e);const t=ae(e);return t!==e&&(re.set(e,t),ie.set(t,e)),t}const ce=e=>ie.get(e);const ue=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],he=new Map;function fe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(he.get(t))return he.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=de.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ue.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return he.set(t,o),o}oe=(e=>c(c({},e),{},{get:(t,n,r)=>fe(t,n)||e.get(t,n,r),has:(t,n)=>!!fe(t,n)||e.has(t,n)}))(oe);class pe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ge="@firebase/app",me="0.14.3",ye=new $("@firebase/app"),ve="@firebase/app-compat",be="@firebase/analytics-compat",we="@firebase/analytics",xe="@firebase/app-check-compat",Se="@firebase/app-check",ke="@firebase/auth",Ee="@firebase/auth-compat",Ce="@firebase/database",_e="@firebase/data-connect",Te="@firebase/database-compat",Ie="@firebase/functions",Ae="@firebase/functions-compat",Re="@firebase/installations",Ne="@firebase/installations-compat",Pe="@firebase/messaging",Oe="@firebase/messaging-compat",De="@firebase/performance",Le="@firebase/performance-compat",Me="@firebase/remote-config",je="@firebase/remote-config-compat",Fe="@firebase/storage",ze="@firebase/storage-compat",Ue="@firebase/firestore",Ve="@firebase/ai",Be="@firebase/firestore-compat",We="firebase",qe="[DEFAULT]",He={[ge]:"fire-core",[ve]:"fire-core-compat",[we]:"fire-analytics",[be]:"fire-analytics-compat",[Se]:"fire-app-check",[xe]:"fire-app-check-compat",[ke]:"fire-auth",[Ee]:"fire-auth-compat",[Ce]:"fire-rtdb",[_e]:"fire-data-connect",[Te]:"fire-rtdb-compat",[Ie]:"fire-fn",[Ae]:"fire-fn-compat",[Re]:"fire-iid",[Ne]:"fire-iid-compat",[Pe]:"fire-fcm",[Oe]:"fire-fcm-compat",[De]:"fire-perf",[Le]:"fire-perf-compat",[Me]:"fire-rc",[je]:"fire-rc-compat",[Fe]:"fire-gcs",[ze]:"fire-gcs-compat",[Ue]:"fire-fst",[Be]:"fire-fst-compat",[Ve]:"fire-vertex","fire-js":"fire-js",[We]:"fire-js-all"},Ge=new Map,Ke=new Map,Qe=new Map;function Ye(e,t){try{e.container.addComponent(t)}catch(n){ye.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Xe(e){const t=e.name;if(Qe.has(t))return ye.debug("There were multiple attempts to register component ".concat(t,".")),!1;Qe.set(t,e);for(const n of Ge.values())Ye(n,e);for(const n of Ke.values())Ye(n,e);return!0}function $e(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Je(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Ze=new N("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class et{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new V("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ze.create("app-deleted",{appName:this._name})}}const tt="12.3.0";function nt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:qe,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Ze.create("bad-app-name",{appName:String(i)});if(n||(n=v()),!n)throw Ze.create("no-options");const o=Ge.get(i);if(o){if(O(n,o.options)&&O(r,o.config))return o;throw Ze.create("duplicate-app",{appName:i})}const s=new q(i);for(const l of Qe.values())s.addComponent(l);const a=new et(n,r,s);return Ge.set(i,a),a}function rt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;const t=Ge.get(e);if(!t&&e===qe&&v())return nt();if(!t)throw Ze.create("no-app",{appName:e});return t}function it(e,t,n){var r;let i=null!==(r=He[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ye.warn(e.join(" "))}Xe(new V("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ot="firebase-heartbeat-store";let st=null;function at(){return st||(st=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=le(s);return r&&s.addEventListener("upgradeneeded",e=>{r(le(s.result),e.oldVersion,e.newVersion,le(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ot)}catch(n){console.warn(n)}}}).catch(e=>{throw Ze.create("idb-open",{originalErrorMessage:e.message})})),st}async function lt(e,t){try{const n=(await at()).transaction(ot,"readwrite"),r=n.objectStore(ot);await r.put(t,ct(e)),await n.done}catch(n){if(n instanceof R)ye.warn(n.message);else{const e=Ze.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ye.warn(e.message)}}}function ct(e){return"".concat(e.name,"!").concat(e.options.appId)}class ut{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ht(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dt();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ye.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=dt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ft(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ft(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ye.warn(t),""}}}function dt(){return(new Date).toISOString().substring(0,10)}class ht{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!A()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await at()).transaction(ot),n=await t.objectStore(ot).get(ct(e));return await t.done,n}catch(t){if(t instanceof R)ye.warn(t.message);else{const e=Ze.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ye.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return lt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return lt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ft(e){return f(JSON.stringify({version:2,heartbeats:e})).length}var pt;pt="",Xe(new V("platform-logger",e=>new pe(e),"PRIVATE")),Xe(new V("heartbeat",e=>new ut(e),"PRIVATE")),it(ge,me,pt),it(ge,me,"esm2020"),it("fire-js","");function gt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}it("firebase","12.3.0","app");const mt=["providerId"],yt=["uid","auth","stsTokenManager"],vt=["providerId","signInMethod"];function bt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wt=bt,xt=new N("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),St=new $("@firebase/auth");function kt(e){if(St.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];St.error("Auth (".concat(tt,"): ").concat(e),...n)}}function Et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw It(e,...n)}function Ct(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return It(e,...n)}function _t(e,t,n){const r=c(c({},wt()),{},{[t]:n});return new N("auth","Firebase",r).create(t,{appName:e.name})}function Tt(e){return _t(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function It(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return xt.create(e,...n)}function At(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw It(t,...r)}}function Rt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kt(t),new Error(t)}function Nt(e,t){e||Rt(t)}function Pt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ot(){return"http:"===Dt()||"https:"===Dt()}function Dt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Lt(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ot()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Mt{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Lt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jt(e,t){Nt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ft{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ut=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vt=new Mt(3e4,6e4);function Bt(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function Wt(e,t,n,r){return qt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=L(c({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&x(e.emulatorConfig.host)&&(l.credentials="include"),Ft.fetch()(await Gt(e,e.config.apiHost,n,s),l)})}async function qt(e,t,n){e._canInitEmulator=!1;const r=c(c({},zt),t);try{const t=new Qt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Yt(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Yt(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Yt(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Yt(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw _t(e,a,s);Et(e,a)}}catch(i){if(i instanceof R)throw i;Et(e,"network-request-failed",{message:String(i)})}}async function Ht(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Wt(e,t,n,r,i);return"mfaPendingCredential"in o&&Et(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function Gt(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,s=o.config.emulator?jt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Ut.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function Kt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Ct(this.auth,"network-request-failed")),Vt.get())})}}function Yt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ct(e,t,r);return i.customData._tokenResponse=n,i}function Xt(e){return void 0!==e&&void 0!==e.enterprise}class $t{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Kt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jt(e,t){return Wt(e,"GET","/v2/recaptchaConfig",Bt(e,t))}async function Zt(e,t){return Wt(e,"POST","/v1/accounts:lookup",t)}function en(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function tn(e){return 1e3*Number(e)}function nn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return kt("JWT malformed, contained fewer than 3 sections"),null;try{const e=p(n);return e?JSON.parse(e):(kt("Failed to decode base64 JWT payload"),null)}catch(i){return kt("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function rn(e){const t=nn(e);return At(t,"internal-error"),At("undefined"!==typeof t.exp,"internal-error"),At("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function on(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof R&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class sn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class an{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ln(e){var t;const n=e.auth,r=await e.getIdToken(),i=await on(e,Zt(n,{idToken:r}));At(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?cn(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new an(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function cn(e){return e.map(e=>{let{providerId:t}=e,n=gt(e,mt);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){At(e.idToken,"internal-error"),At("undefined"!==typeof e.idToken,"internal-error"),At("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):rn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){At(0!==e.length,"internal-error");const t=rn(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(At(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await qt(e,{},async()=>{const n=L({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await Gt(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&x(e.emulatorConfig.host)&&(a.credentials="include"),Ft.fetch()(o,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new un;return n&&(At("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(At("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(At("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new un,this.toJSON())}_performRefresh(){return Rt("not implemented")}}function dn(e,t){At("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class hn{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=gt(e,yt);this.providerId="firebase",this.proactiveRefresh=new sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new an(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await on(this,this.stsTokenManager.getToken(this.auth,e));return At(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=U(e),r=await n.getIdToken(t),i=nn(r);At(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:en(tn(i.auth_time)),issuedAtTime:en(tn(i.iat)),expirationTime:en(tn(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=U(e);await ln(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hn(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ln(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Je(this.auth.app))return Promise.reject(Tt(this.auth));const e=await this.getIdToken();return await on(this,async function(e,t){return Wt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:S,stsTokenManager:k}=t;At(b&&k,e,"internal-error");const E=un.fromJSON(this.name,k);At("string"===typeof b,e,"internal-error"),dn(d,e.name),dn(h,e.name),At("boolean"===typeof w,e,"internal-error"),At("boolean"===typeof x,e,"internal-error"),dn(f,e.name),dn(p,e.name),dn(g,e.name),dn(m,e.name),dn(y,e.name),dn(v,e.name);const C=new hn({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:E,createdAt:y,lastLoginAt:v});return S&&Array.isArray(S)&&(C.providerData=S.map(e=>c({},e))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new un;r.updateFromServerResponse(t);const i=new hn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ln(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];At(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?cn(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new un;s.updateFromIdToken(n);const a=new hn({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new an(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const fn=new Map;function pn(e){Nt(e instanceof Function,"Expected a class definition");let t=fn.get(e);return t?(Nt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fn.set(e,t),t)}class gn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gn.type="NONE";const mn=gn;function yn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class vn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=yn(this.userKey,r.apiKey,i),this.fullPersistenceKey=yn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Zt(this.auth,{idToken:e}).catch(()=>{});return t?hn._fromGetAccountInfoResponse(this.auth,t,e):null}return hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new vn(pn(mn),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||pn(mn);const o=yn(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await Zt(e,{idToken:t}).catch(()=>{});if(!r)break;n=await hn._fromGetAccountInfoResponse(e,r,t)}else n=hn._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(t){}})),new vn(i,e,n)):new vn(i,e,n)}}function bn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cn(t))return"Blackberry";if(_n(t))return"Webos";if(xn(t))return"Safari";if((t.includes("chrome/")||Sn(t))&&!t.includes("edge/"))return"Chrome";if(En(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/firefox\//i.test(e)}function xn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/crios\//i.test(e)}function kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/iemobile/i.test(e)}function En(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/android/i.test(e)}function Cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/blackberry/i.test(e)}function _n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/webos/i.test(e)}function Tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function In(){return function(){const e=_();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function An(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return Tn(e)||En(e)||_n(e)||Cn(e)||/windows phone/i.test(e)||kn(e)}function Rn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=bn(_());break;case"Worker":t="".concat(bn(_()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(tt,"/").concat(r)}class Nn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Pn{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class On{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ln(this),this.idTokenSubscription=new Ln(this),this.beforeStateQueue=new Nn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pn(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await vn.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Zt(this,{idToken:e}),n=await hn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Je(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(o=n)||void 0===o?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ln(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Je(this.app))return Promise.reject(Tt(this));const t=e?U(e):null;return t&&At(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&At(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Je(this.app)?Promise.reject(Tt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Je(this.app)?Promise.reject(Tt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pn(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Wt(e,"GET","/v2/passwordPolicy",Bt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Pn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new N("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Wt(e,"POST","/v2/accounts:revokeToken",Bt(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pn(e)||this._popupRedirectResolver;At(t,this,"argument-error"),this.redirectPersistenceManager=await vn.create(this,[pn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Je(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(St.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];St.warn("Auth (".concat(tt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Dn(e){return U(e)}class Ln{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new F(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jn(e){return Mn.loadJS(e)}function Fn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class zn{constructor(){this.enterprise=new Un}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Un{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Vn="NO_RECAPTCHA";class Bn{constructor(e){this.type="recaptcha-enterprise",this.auth=Dn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Xt(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Vn)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new zn).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Jt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new $t(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Xt(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Mn.recaptchaEnterpriseScript;0!==t.length&&(t+=i),jn(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Wn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Bn(e);let s;if(i)s=Vn;else try{s=await o.verify(n)}catch(l){s=await o.verify(n,!0)}const a=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qn(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Wn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Wn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await Wn(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Wn(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Wn(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Hn(e){const t=Dn(e),n=await Jt(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new $t(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Bn(t).verify()}}function Gn(e,t,n){const r=Dn(e);At(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=Kn(t),{host:s,port:a}=function(e){const t=Kn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Qn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Qn(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(o,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return At(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void At(O(c,r.config.emulator)&&O(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,x(s)?(S("".concat(o,"//").concat(s).concat(l)),C("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Kn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Yn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rt("not implemented")}_getIdTokenResponse(e){return Rt("not implemented")}_linkToIdToken(e,t){return Rt("not implemented")}_getReauthenticationResolver(e){return Rt("not implemented")}}async function Xn(e,t){return Wt(e,"POST","/v1/accounts:signUp",t)}async function $n(e,t){return Ht(e,"POST","/v1/accounts:signInWithPassword",Bt(e,t))}async function Jn(e,t){return Wt(e,"POST","/v1/accounts:sendOobCode",Bt(e,t))}async function Zn(e,t){return Jn(e,t)}class er extends Yn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new er(e,t,"password")}static _fromEmailAndCode(e,t){return new er(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return qn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",$n,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ht(e,"POST","/v1/accounts:signInWithEmailLink",Bt(e,t))}(e,{email:this._email,oobCode:this._password});default:Et(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return qn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ht(e,"POST","/v1/accounts:signInWithEmailLink",Bt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Et(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function tr(e,t){return Ht(e,"POST","/v1/accounts:signInWithIdp",Bt(e,t))}class nr extends Yn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new nr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Et("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=gt(t,vt);if(!n||!r)return null;const o=new nr(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return tr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,tr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=L(t)}return e}}async function rr(e,t){return Wt(e,"POST","/v1/accounts:sendVerificationCode",Bt(e,t))}const ir={USER_NOT_FOUND:"user-not-found"};class or extends Yn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new or({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new or({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ht(e,"POST","/v1/accounts:signInWithPhoneNumber",Bt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ht(e,"POST","/v1/accounts:signInWithPhoneNumber",Bt(e,t));if(n.temporaryProof)throw Yt(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ht(e,"POST","/v1/accounts:signInWithPhoneNumber",Bt(e,c(c({},t),{},{operation:"REAUTH"})),ir)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new or({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class sr{constructor(e){var t,n,r,i,o,s;const a=M(j(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);At(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=M(j(e)).link,n=t?M(j(t)).deep_link_id:null,r=M(j(e)).deep_link_id;return(r?M(j(r)).link:null)||r||n||t||e}(e);try{return new sr(t)}catch(n){return null}}}class ar{constructor(){this.providerId=ar.PROVIDER_ID}static credential(e,t){return er._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=sr.parseLink(t);return At(n,"argument-error"),er._fromEmailAndCode(e,n.code,n.tenantId)}}ar.PROVIDER_ID="password",ar.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ar.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class lr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cr extends lr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ur extends cr{constructor(){super("facebook.com")}static credential(e){return nr._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ur.credential(t.oauthAccessToken)}catch(n){return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com",ur.PROVIDER_ID="facebook.com";class dr extends cr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return nr._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return dr.credential(n,r)}catch(i){return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com",dr.PROVIDER_ID="google.com";class hr extends cr{constructor(){super("github.com")}static credential(e){return nr._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return hr.credential(t.oauthAccessToken)}catch(n){return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com",hr.PROVIDER_ID="github.com";class fr extends cr{constructor(){super("twitter.com")}static credential(e,t){return nr._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fr.credential(n,r)}catch(i){return null}}}async function pr(e,t){return Ht(e,"POST","/v1/accounts:signUp",Bt(e,t))}fr.TWITTER_SIGN_IN_METHOD="twitter.com",fr.PROVIDER_ID="twitter.com";class gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await hn._fromIdTokenResponse(e,n,r),o=mr(n);return new gr({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=mr(n);return new gr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function mr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class yr extends R{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,yr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new yr(e,t,n,r)}}function vr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw yr._fromErrorAndOperation(e,n,t,r);throw n})}async function br(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await on(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gr._forOperation(e,"link",r)}async function wr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Je(r.app))return Promise.reject(Tt(r));const i="reauthenticate";try{const o=await on(e,vr(r,i,t,e),n);At(o.idToken,r,"internal-error");const s=nn(o.idToken);At(s,r,"internal-error");const{sub:a}=s;return At(e.uid===a,r,"user-mismatch"),gr._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&Et(r,"user-mismatch"),o}}async function xr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Je(e.app))return Promise.reject(Tt(e));const r="signIn",i=await vr(e,r,t),o=await gr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Sr(e,t){return xr(Dn(e),t)}function kr(e,t,n){var r;At((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),At("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),At("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(At(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(At(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Er(e){const t=Dn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Cr(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=U(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await on(i,async function(e,t){return Wt(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function _r(e,t){return Wt(e,"POST","/v2/accounts/mfaEnrollment:start",Bt(e,t))}new WeakMap;const Tr="__sak";class Ir{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tr,"1"),this.storage.removeItem(Tr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ar extends Ir{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=An(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);In()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ar.type="LOCAL";const Rr=Ar;function Nr(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Pr(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Or{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Pr(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Nr(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Pr(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Pr(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Nr(n);const i=setInterval(()=>{const e=Nr(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Or.type="COOKIE";class Dr extends Ir{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Dr.type="SESSION";const Lr=Dr;class Mr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Mr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Mr.receivers=[];class Fr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=jr("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function zr(){return window}function Ur(){return"undefined"!==typeof zr().WorkerGlobalScope&&"function"===typeof zr().importScripts}const Vr="firebaseLocalStorageDb",Br="firebaseLocalStorage",Wr="fbase_key";class qr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hr(e,t){return e.transaction([Br],t?"readwrite":"readonly").objectStore(Br)}function Gr(){const e=indexedDB.open(Vr,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Br,{keyPath:Wr})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Br)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Vr);return new qr(e).toPromise()}(),t(await Gr()))})})}async function Kr(e,t,n){const r=Hr(e,!0).put({[Wr]:t,value:n});return new qr(r).toPromise()}function Qr(e,t){const n=Hr(e,!0).delete(t);return new qr(n).toPromise()}class Yr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Gr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ur()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mr._getInstance(Ur()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Fr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gr();return await Kr(e,Tr,"1"),await Qr(e,Tr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kr(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Hr(e,!1).get(t),r=await new qr(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Hr(e,!1).getAll();return new qr(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Yr.type="LOCAL";const Xr=Yr;function $r(e,t){return Wt(e,"POST","/v2/accounts/mfaSignIn:start",Bt(e,t))}Fn("rcb"),new Mt(3e4,6e4);const Jr="recaptcha";async function Zr(e,t,n){if(!e._getRecaptchaConfig())try{await Hn(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){At("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=qn(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Vn){At((null===n||void 0===n?void 0:n.type)===Jr,e,"argument-error");return _r(e,await ei(e,t,n))}return _r(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;At("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;At(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=qn(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Vn){At((null===n||void 0===n?void 0:n.type)===Jr,e,"argument-error");return $r(e,await ei(e,t,n))}return $r(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=qn(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Vn){At((null===n||void 0===n?void 0:n.type)===Jr,e,"argument-error");return rr(e,await ei(e,t,n))}return rr(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ei(e,t,n){At(n.type===Jr,e,"argument-error");const r=await n.verify();At("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class ti{constructor(e){this.providerId=ti.PROVIDER_ID,this.auth=Dn(e)}verifyPhoneNumber(e,t){return Zr(this.auth,e,U(t))}static credential(e,t){return or._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ti.credentialFromTaggedObject(t)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?or._fromTokenResponse(n,r):null}}function ni(e,t){return t?pn(t):(At(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ti.PROVIDER_ID="phone",ti.PHONE_SIGN_IN_METHOD="phone";class ri extends Yn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ii(e){return xr(e.auth,new ri(e),e.bypassAuthState)}function oi(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),wr(n,new ri(e),e.bypassAuthState)}async function si(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),br(n,new ri(e),e.bypassAuthState)}class ai{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ii;case"linkViaPopup":case"linkViaRedirect":return si;case"reauthViaPopup":case"reauthViaRedirect":return oi;default:Et(this.auth,"internal-error")}}resolve(e){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const li=new Mt(2e3,1e4);class ci extends ai{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ci.currentPopupAction&&ci.currentPopupAction.cancel(),ci.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return At(e,this.auth,"internal-error"),e}async onExecution(){Nt(1===this.filter.length,"Popup operations only handle one event");const e=jr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ct(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ci.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ct(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,li.get())};e()}}ci.currentPopupAction=null;const ui=new Map;class di extends ai{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ui.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=pi(t),r=fi(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ui.set(this.auth._key(),e)}return this.bypassAuthState||ui.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function hi(e,t){ui.set(e._key(),t)}function fi(e){return pn(e._redirectPersistence)}function pi(e){return yn("pendingRedirect",e.config.apiKey,e.name)}async function gi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Je(e.app))return Promise.reject(Tt(e));const r=Dn(e),i=ni(r,t),o=new di(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class mi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!vi(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ct(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yi(e))}saveEventToCache(e){this.cachedEventUids.add(yi(e)),this.lastProcessedEventTime=Date.now()}}function yi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function vi(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const bi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wi=/^https?/;async function xi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Wt(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Si(r))return}catch(n){}Et(e,"unauthorized-domain")}function Si(e){const t=Pt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!wi.test(n))return!1;if(bi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ki=new Mt(3e4,6e4);function Ei(){const e=zr().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ci(e){return new Promise((t,n)=>{var r,i;function o(){Ei(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ei(),n(Ct(e,"network-request-failed"))},timeout:ki.get()})}if(null!==(r=zr().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=zr().gapi)||void 0===i||!i.load){const t=Fn("iframefcb");return zr()[t]=()=>{gapi.load?o():n(Ct(e,"network-request-failed"))},jn("".concat(Mn.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw _i=null,e})}let _i=null;const Ti=new Mt(5e3,15e3),Ii={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ai=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ri(e){const t=e.config;At(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?jt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:tt},i=Ai.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(L(r).slice(1))}async function Ni(e){const t=await function(e){return _i=_i||Ci(e),_i}(e),n=zr().gapi;return At(n,e,"internal-error"),t.open({where:document.body,url:Ri(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ii,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ct(e,"network-request-failed"),o=zr().setTimeout(()=>{r(i)},Ti.get());function s(){zr().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const Pi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Oi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Di(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=c(c({},Pi),{},{width:r.toString(),height:i.toString(),top:o,left:s}),u=_().toLowerCase();n&&(a=Sn(u)?"_blank":n),wn(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Tn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Oi(null);const h=window.open(t||"",a,d);At(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Oi(h)}const Li="__/auth/handler",Mi="emulator/auth/handler",ji=encodeURIComponent("fac");async function Fi(e,t,n,r,i,o){At(e.config.authDomain,e,"auth-domain-config-required"),At(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:tt,eventId:i};if(t instanceof lr){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof cr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ji,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Li);return jt(t,Mi)}(e),"?").concat(L(a).slice(1)).concat(c)}const zi="webStorageSupport";const Ui=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lr,this._completeRedirectFn=gi,this._overrideRedirectResult=hi}async _openPopup(e,t,n,r){var i;Nt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Di(e,await Fi(e,t,n,Pt(),r),jr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){zr().location.href=e}(await Fi(e,t,n,Pt(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Nt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ni(e),n=new mi(e);return t.register("authEvent",t=>{At(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zi,{type:zi},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[zi];void 0!==i&&t(!!i),Et(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return An()||xn()||Tn()}};var Vi="@firebase/auth",Bi="1.11.0";class Wi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qi=b("authIdTokenMaxAge")||300;let Hi=null;var Gi;Mn={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ct("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Gi="Browser",Xe(new V("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;At(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Gi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rn(Gi)},c=new On(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pn);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Xe(new V("auth-internal",e=>(e=>new Wi(e))(Dn(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),it(Vi,Bi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Gi)),it(Vi,Bi,"esm2020");var Ki,Qi,Yi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Xi={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o,s=e.g[3];o=t+(s^n&(i^s))+r[0]+3614090360&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[3]+3250441966&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[4]+4118548399&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[7]+4249261313&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[8]+1770035416&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[11]+2304563134&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[12]+1804603682&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[15]+1236535329&4294967295,o=t+(i^s&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[0]+3921069994&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[4]+3889429448&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[8]+1163531501&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[12]+2368359562&4294967295,o=t+((n=i+(o<<20&4294967295|o>>>12))^i^s)+r[5]+4294588738&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[14]+4259657740&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[1]+2763975236&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[10]+3200236656&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[13]+681279174&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[6]+76029189&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[9]+3654602809&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[2]+3299628645&4294967295,o=t+(i^((n=i+(o<<23&4294967295|o>>>9))|~s))+r[0]+4096336452&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[5]+4237533241&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[12]+1700485571&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[1]+2240044497&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[8]+1873313359&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[13]+1309151649&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[4]+4149444226&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let o=this.h,s=0;for(;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function o(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return h(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(a,a);if(d(e))return t=m(h(e),t),new g(h(t.g),h(t.h));if(d(t))return t=m(e,h(t)),new g(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);c.l(e)<=0&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(o=s(n)).j(t);d(c)||c.l(e)>0;)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new g(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,o=[];for(let r=0;r<i;r++)o[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const i=m(n,t).g;let o=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),o=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,t&=65535,o&=65535,n[r]=o<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,o=65535&this.i(i),s=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=o*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=o*s,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*s,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return m(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Qi=Xi.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+o),n);o<8?(o=s(Math.pow(n,o)),i=i.j(o).add(s(e))):(i=i.j(r),i=i.add(s(e)))}return i},Ki=Xi.Integer=r}).apply("undefined"!==typeof Yi?Yi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var $i,Ji,Zi,eo,to,no,ro,io,oo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},so={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof oo&&oo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},o=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){o.setTimeout(()=>{throw e},0)}function g(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var m=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=m.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(S)}};function S(){for(var e;e=g();){try{e.h.call(e.g)}catch(n){p(n)}var t=m;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function k(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function _(e){return/^[\s\xa0]*$/.test(e)}function T(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(T,E),T.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var I="closure_listenable_"+(1e6*Math.random()|0),A=0;function R(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++A,this.da=this.fa=!1}function N(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function P(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function O(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function M(e){this.src=e,this.g={},this.h=0}function j(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(N(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}M.prototype.add=function(e,t,n,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const s=F(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new R(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var z="closure_lm_"+(1e6*Math.random()|0),U={};function V(e,t,n,r,i){if(r&&r.once)return W(e,t,n,r,i);if(Array.isArray(t)){for(let o=0;o<t.length;o++)V(e,t[o],n,r,i);return null}return n=X(n),e&&e[I]?e.J(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");const a=s(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[z]=l=new M(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=K;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)C||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(G(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function W(e,t,n,r,i){if(Array.isArray(t)){for(let o=0;o<t.length;o++)W(e,t[o],n,r,i);return null}return n=X(n),e&&e[I]?e.K(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function q(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=X(n),e&&e[I]?(e=e.i,(o=String(t).toString())in e.g&&((n=F(t=e.g[o],n,r,i))>-1&&(N(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[o],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&H(n))}function H(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[I])j(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(G(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(j(n,e),0==n.h&&(n.src=null,t[z]=null)):N(e)}}}function G(e){return e in U?U[e]:U[e]="on"+e}function K(e,t){if(e.da)e=!0;else{t=new T(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&H(e),e=n.call(r,t)}return e}function Q(e){return(e=e[z])instanceof M?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){k.call(this),this.i=new M(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;L(t=new E(r,e),i)}let o,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)o=t.g=n[s],i=Z(o,r,!0,t)&&i;if(o=t.g=e,i=Z(o,r,!0,t)&&i,i=Z(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Z(o,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){const s=t[o];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&j(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,k),$.prototype[I]=!0,$.prototype.removeEventListener=function(e,t,n,r){q(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)N(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends k{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){k.call(this),this.h=e,this.g={}}u(ne,k);var re=[];function ie(e){P(e.g,function(e,t){this.g.hasOwnProperty(t)&&H(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=o.JSON.stringify,se=o.JSON.parse,ae=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){E.call(this,"d")}function he(){E.call(this,"c")}u(de,E),u(he,E);var fe={},pe=null;function ge(){return pe=pe||new $}function me(e){E.call(this,fe.Ia,e)}function ye(e){const t=ge();J(t,new me(t))}function ve(e,t){E.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=ge();J(t,new ve(t,e))}function we(e,t){E.call(this,fe.Ja,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function Se(){this.g=!0}function ke(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const o=JSON.parse(t);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return oe(o)}catch(o){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(me,E),fe.STAT_EVENT="statevent",u(ve,E),fe.Ja="timingevent",u(we,E),Se.prototype.ua=function(){this.g=!1},Se.prototype.info=function(){};var Ee,Ce={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_e={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Te(){}function Ie(e){return encodeURIComponent(String(e))}function Ae(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}u(Te,le),Te.prototype.g=function(){return new XMLHttpRequest},Ee=new Te;var Pe={},Oe={};function De(e,t,n){e.M=1,e.A=ot(et(t)),e.u=n,e.R=!0,Le(e,null)}function Le(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ne,e.g=sn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let o=0;o<i.length;o++){const e=V(n,i[o],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?O(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o){var s="",a=o.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Me(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function je(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Oe:(n=Number(t.substring(n,r)),isNaN(n)?Pe:(r+=1)+n>t.length?Oe:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,ze(e,e.H)}function ze(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=xe(l(e.aa,e),t)}function Ue(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function Ve(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ue(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function We(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),Wt(n)}Xt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=xe(l(n.Va,n),6e3));Ke(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!_(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Ye(o,o.h),o.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),s.L){Xe(r.h,s);var a=s,c=r.O;c&&(a.H=c),a.D&&(Ue(a),Fe(a)),r.g=s}else Yt(r);n.i.length>0&&Ht(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(u){}}Re.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||4!=l||7==c||ye(),Ue(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Me(e))return e.g.la();const t=zt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),Ve(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,be(12),Be(this),Ve(this);break e}ke(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,We(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=je(this,n),t==Oe){4==l&&(this.m=4,be(14),e=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(t==Pe){this.m=4,be(15),ke(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}ke(this.i,this.l,t,null),We(this,t)}if(Me(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(a),a.P=!0,be(11))}}else ke(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),Ve(this)}else ke(this.i,this.l,n,null),We(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(_(e[r]))continue;var n=Ae(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),Ve(this)}}}catch(Vo){}},Re.prototype.cancel=function(){this.K=!0,Be(this)},Re.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),Be(this),this.m=2,Ve(this)):ze(this,this.T-e)};var qe=class{constructor(e,t){this.g=e,this.map=t}};function He(e){this.l=e||10,o.PerformanceNavigationTiming?e=(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ge(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ke(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}He.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(gt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(mt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,ht)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function ot(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(Ie(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function mt(e,t){gt(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return gt(e),t=xt(e,t),e.g.has(t)}function vt(e,t){gt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(xt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){mt(e,t),n.length>0&&(e.i=null,e.g.set(xt(e,t),h(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function kt(){this.g=new ae}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function Ct(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function _t(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,It(e)}function It(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function At(e){let t="";return P(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Rt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=At(n),"string"===typeof e?null!=n&&Ie(n):it(e,t,n))}function Nt(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){gt(this),this.i=null,e=xt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){gt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return gt(this),this.i=null,yt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ie(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ie(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new Ct(this.i,this.h)},u(Ct,$),(e=Ct.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,It(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_t(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):It(this),3==this.readyState&&_t(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Na=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ct.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Nt,$);var Pt=/^https?$/i,Ot=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Lt(e),jt(e)}function Lt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Mt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!Pt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var s=Ft(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Lt(e)}}finally{jt(e)}}}function jt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function zt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ut(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vt(e){this.za=0,this.i=[],this.j=new Se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ut("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ut("baseRetryDelayMs",5e3,e),this.Za=Ut("retryDelaySeedMs",1e4,e),this.Ta=Ut("forwardChannelMaxRetries",2,e),this.va=Ut("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new He(e&&e.concurrentRequestLimit),this.Ba=new kt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(qt(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Kt(e,n),(t=new Re(e,e.j,t)).M=2,t.A=ot(et(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.A,n=!0),n||(t.g=sn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function Wt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function qt(e){Wt(e),e.v&&(o.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&o.clearTimeout(e.m),e.m=null)}function Ht(e){if(!Ge(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||x(),b||(v(),b=!0),w.add(t,e),e.D=0}}function Gt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Kt(e,r),e.u&&e.o&&Rt(r,e.u,e.o),n=new Re(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),De(n,r,t)}function Kt(e,t){e.H&&P(e.H,function(e,n){it(t,n,e)}),e.l&&P({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var o=i[c].g;const n=i[c].map;if((o-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{o="req"+o+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=oe(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(lo){throw e.push(o+"type="+encodeURIComponent("_badmap")),lo}}catch(lo){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||x(),b||(v(),b=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=xe(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Kt(e,t),e.u&&e.o&&Rt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=ot(et(t)),n.u=null,n.R=!0,Le(n,e)}function Zt(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=ge(),new we(r,n)),Ht(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ke(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=xe(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||tt(r,"https"),ot(r),t?function(e,t){const n=new Se;if(o.Image){const r=new Image;r.onload=c(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(St,n,"TestLoadImage: error",!1,t,r),r.onabort=c(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(St,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Se;const n=new AbortController,r=setTimeout(()=>{n.abort(),St(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)}).catch(()=>{clearTimeout(r),St(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),qt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Kt(e,r),r}function sn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Nt(new Et({ab:n})):new Nt(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){$.call(this),this.g=new Vt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!_(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=Nt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Dt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(Ot,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Dt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),jt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jt(this,!0)),Nt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Mt(this):this.Xa())},e.Xa=function(){Mt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Vt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),Ht(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Re(this,this.j,e);let o=this.o;if(this.U&&(o?(o=O(o),L(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Kt(this,n),o&&(this.R?t="headers="+Ie(At(o))+"&"+t:this.u&&Rt(n,this.u,o)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,De(i,n,null)):De(i,n,t),this.I=2}}else 3==this.I&&(e?Gt(this,e):0==this.i.length||Ge(this.h)||Gt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Wt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,Wt(this),Xt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=oe(e),e=n);t.i.push(new qe(t.Ya++,e)),3==t.I&&Ht(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,an),hn.prototype.ra=function(){J(this.g,"a")},hn.prototype.qa=function(e){J(this.g,new un(e))},hn.prototype.pa=function(e){J(this.g,new dn)},hn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,io=so.createWebChannelTransport=function(){return new ln},ro=so.getStatEventTarget=function(){return ge()},no=so.Event=fe,to=so.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,eo=so.ErrorCode=Ce,_e.COMPLETE="complete",Zi=so.EventType=_e,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,Ji=so.WebChannel=ce,so.FetchXmlHttpFactory=Et,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,$i=so.XhrIo=Nt}).apply("undefined"!==typeof oo?oo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ao="@firebase/firestore",lo="4.9.2";class co{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}co.UNAUTHENTICATED=new co(null),co.GOOGLE_CREDENTIALS=new co("google-credentials-uid"),co.FIRST_PARTY=new co("first-party-uid"),co.MOCK_USER=new co("mock-user");let uo="12.3.0";const ho=new $("@firebase/firestore");function fo(){return ho.logLevel}function po(e){if(ho.logLevel<=G.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(yo);ho.debug("Firestore (".concat(uo,"): ").concat(e),...i)}}function go(e){if(ho.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(yo);ho.error("Firestore (".concat(uo,"): ").concat(e),...i)}}function mo(e){if(ho.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(yo);ho.warn("Firestore (".concat(uo,"): ").concat(e),...i)}}function yo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function vo(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,bo(e,r,n)}function bo(e,t,n){let r="FIRESTORE (".concat(uo,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw go(r),new Error(r)}function wo(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||bo(t,i,r)}function xo(e,t){return e}const So={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ko extends R{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Eo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Co{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class _o{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(co.UNAUTHENTICATED))}shutdown(){}}class To{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Io{constructor(e){this.t=e,this.currentUser=co.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wo(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Eo,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{po("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(po("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Eo)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(po("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(wo("string"==typeof t.accessToken,31837,{l:t}),new Co(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wo(null===e||"string"==typeof e,2055,{h:e}),new co(e)}}class Ao{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=co.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ro{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Ao(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(co.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class No{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Po{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Je(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wo(void 0===this.o,3512);const n=e=>{null!=e.error&&po("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,po("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{po("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):po("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new No(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(wo("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new No(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Oo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Do{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Oo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Lo(e,t){return e<t?-1:e>t?1:0}function Mo(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return zo(n)===zo(i)?Lo(n,i):zo(n)?1:-1}return Lo(e.length,t.length)}const jo=55296,Fo=57343;function zo(e){const t=e.charCodeAt(0);return t>=jo&&t<=Fo}function Uo(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Vo="__name__";class Bo{constructor(e,t,n){void 0===t?t=0:t>e.length&&vo(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&vo(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Bo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bo?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Bo.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Lo(e.length,t.length)}static compareSegments(e,t){const n=Bo.isNumericId(e),r=Bo.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Bo.extractNumericId(e).compare(Bo.extractNumericId(t)):Mo(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class Wo extends Bo{construct(e,t,n){return new Wo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ko(So.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Wo(e)}static emptyPath(){return new Wo([])}}const qo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ho extends Bo{construct(e,t,n){return new Ho(e,t,n)}static isValidIdentifier(e){return qo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ho.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Vo}static keyField(){return new Ho([Vo])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ko(So.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ko(So.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ko(So.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ko(So.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ho(t)}static emptyPath(){return new Ho([])}}class Go{constructor(e){this.path=e}static fromPath(e){return new Go(Wo.fromString(e))}static fromName(e){return new Go(Wo.fromString(e).popFirst(5))}static empty(){return new Go(Wo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Go(new Wo(e.slice()))}}function Ko(e,t,n){if(!n)throw new ko(So.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Qo(e){if(!Go.isDocumentKey(e))throw new ko(So.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Yo(e){if(Go.isDocumentKey(e))throw new ko(So.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xo(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function $o(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":vo(12329,{type:typeof e})}function Jo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ko(So.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$o(e);throw new ko(So.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Zo(e,t){if(t<=0)throw new ko(So.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function es(e,t){const n={typeString:e};return t&&(n.value=t),n}function ts(e,t){if(!Xo(e))throw new ko(So.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&s!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new ko(So.INVALID_ARGUMENT,n);return!0}const ns=-62135596800,rs=1e6;class is{static now(){return is.fromMillis(Date.now())}static fromDate(e){return is.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*rs);return new is(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ko(So.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ko(So.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ns)throw new ko(So.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ko(So.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rs}_compareTo(e){return this.seconds===e.seconds?Lo(this.nanoseconds,e.nanoseconds):Lo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:is._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ts(e,is._jsonSchema))return new is(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ns;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}is._jsonSchemaVersion="firestore/timestamp/1.0",is._jsonSchema={type:es("string",is._jsonSchemaVersion),seconds:es("number"),nanoseconds:es("number")};class os{static fromTimestamp(e){return new os(e)}static min(){return new os(new is(0,0))}static max(){return new os(new is(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ss=-1;class as{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}as.UNKNOWN_ID=-1;function ls(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=os.fromTimestamp(1e9===r?new is(n+1,0):new is(n,r));return new us(i,Go.empty(),t)}function cs(e){return new us(e.readTime,e.key,ss)}class us{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new us(os.min(),Go.empty(),ss)}static max(){return new us(os.max(),Go.empty(),ss)}}function ds(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Go.comparator(e.documentKey,t.documentKey),0!==n?n:Lo(e.largestBatchId,t.largestBatchId))}const hs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ps(e){if(e.code!==So.FAILED_PRECONDITION||e.message!==hs)throw e;po("LocalStore","Unexpectedly lost primary lease")}class gs{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vo(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new gs((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof gs?t:gs.resolve(t)}catch(e){return gs.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):gs.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):gs.reject(t)}static resolve(e){return new gs((t,n)=>{t(e)})}static reject(e){return new gs((t,n)=>{n(e)})}static waitFor(e){return new gs((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=gs.resolve(!1);for(const n of e)t=t.next(e=>e?gs.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new gs((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new gs((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function ms(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ys(e){return"IndexedDbTransactionError"===e.name}class vs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vs.ce=-1;const bs=-1;function ws(e){return null==e}function xs(e){return 0===e&&1/e==-1/0}function Ss(e){return"number"==typeof e&&Number.isInteger(e)&&!xs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ks="\x01";function Es(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=_s(t)),t=Cs(e.get(n),t);return _s(t)}function Cs(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case ks:n+="\x01\x11";break;default:n+=t}}return n}function _s(e){return e+ks+"\x01"}const Ts="remoteDocuments",Is="owner",As="mutationQueues",Rs="mutations";const Ns="documentMutations",Ps="remoteDocumentsV14",Os="remoteDocumentGlobal",Ds="targets",Ls="targetDocuments",Ms="targetGlobal",js="collectionParents",Fs="clientMetadata",zs="bundles",Us="namedQueries",Vs="indexConfiguration",Bs="indexState",Ws="indexEntries",qs="documentOverlays",Hs="globals",Gs=[As,Rs,Ns,Ts,Ds,Is,Ms,Ls,Fs,Os,js,zs,Us],Ks=[As,Rs,Ns,Ps,Ds,Is,Ms,Ls,Fs,Os,js,zs,Us,qs],Qs=Ks,Ys=[...Qs,Vs,Bs,Ws];function Xs(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $s(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Js(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Zs{constructor(e,t){this.comparator=e,this.root=t||ta.EMPTY}insert(e,t){return new Zs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ta.BLACK,null,null))}remove(e){return new Zs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ta.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ea(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ea(this.root,e,this.comparator,!1)}getReverseIterator(){return new ea(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ea(this.root,e,this.comparator,!0)}}class ea{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ta{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ta.RED,this.left=null!=r?r:ta.EMPTY,this.right=null!=i?i:ta.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ta(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ta.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ta.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ta.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ta.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vo(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vo(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vo(27949);return e+(this.isRed()?0:1)}}ta.EMPTY=null,ta.RED=!0,ta.BLACK=!1,ta.EMPTY=new class{constructor(){this.size=0}get key(){throw vo(57766)}get value(){throw vo(16141)}get color(){throw vo(16727)}get left(){throw vo(29726)}get right(){throw vo(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ta(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class na{constructor(e){this.comparator=e,this.data=new Zs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ra(this.data.getIterator())}getIteratorFrom(e){return new ra(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof na))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new na(this.comparator);return t.data=e,t}}class ra{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ia{constructor(e){this.fields=e,e.sort(Ho.comparator)}static empty(){return new ia([])}unionWith(e){let t=new na(Ho.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ia(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class oa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oa("Invalid base64 string: "+e):e}}(e);return new sa(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new sa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sa.EMPTY_BYTE_STRING=new sa("");const aa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(e){if(wo(!!e,39018),"string"==typeof e){let t=0;const n=aa.exec(e);if(wo(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ca(e.seconds),nanos:ca(e.nanos)}}function ca(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ua(e){return"string"==typeof e?sa.fromBase64String(e):sa.fromUint8Array(e)}const da="server_timestamp",ha="__type__",fa="__previous_value__",pa="__local_write_time__";function ga(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ha])||void 0===t?void 0:t.stringValue)===da}function ma(e){const t=e.mapValue.fields[fa];return ga(t)?ma(t):t}function ya(e){const t=la(e.mapValue.fields[pa].timestampValue);return new is(t.seconds,t.nanos)}class va{constructor(e,t,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const ba="(default)";class wa{constructor(e,t){this.projectId=e,this.database=t||ba}static empty(){return new wa("","")}get isDefaultDatabase(){return this.database===ba}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}const xa="__type__",Sa="__max__",ka={mapValue:{fields:{__type__:{stringValue:Sa}}}},Ea="__vector__",Ca="value";function _a(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ga(e)?4:Wa(e)?9007199254740991:Va(e)?10:11:vo(28295,{value:e})}function Ta(e,t){if(e===t)return!0;const n=_a(e);if(n!==_a(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ya(e).isEqual(ya(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=la(e.timestampValue),r=la(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ua(e.bytesValue).isEqual(ua(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ca(e.geoPointValue.latitude)===ca(t.geoPointValue.latitude)&&ca(e.geoPointValue.longitude)===ca(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ca(e.integerValue)===ca(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ca(e.doubleValue),r=ca(t.doubleValue);return n===r?xs(n)===xs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Uo(e.arrayValue.values||[],t.arrayValue.values||[],Ta);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Xs(n)!==Xs(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ta(n[i],r[i])))return!1;return!0}(e,t);default:return vo(52216,{left:e})}}function Ia(e,t){return void 0!==(e.values||[]).find(e=>Ta(e,t))}function Aa(e,t){if(e===t)return 0;const n=_a(e),r=_a(t);if(n!==r)return Lo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ca(e.integerValue||e.doubleValue),r=ca(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ra(e.timestampValue,t.timestampValue);case 4:return Ra(ya(e),ya(t));case 5:return Mo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ua(e),r=ua(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Lo(n[i],r[i]);if(0!==e)return e}return Lo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Lo(ca(e.latitude),ca(t.latitude));return 0!==n?n:Lo(ca(e.longitude),ca(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Na(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,o){const s=e.fields||{},a=t.fields||{},l=null===(n=s[Ca])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Ca])||void 0===r?void 0:r.arrayValue,u=Lo((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Na(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ka.mapValue&&t===ka.mapValue)return 0;if(e===ka.mapValue)return 1;if(t===ka.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Mo(r[s],o[s]);if(0!==e)return e;const t=Aa(n[r[s]],i[o[s]]);if(0!==t)return t}return Lo(r.length,o.length)}(e.mapValue,t.mapValue);default:throw vo(23264,{he:n})}}function Ra(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Lo(e,t);const n=la(e),r=la(t),i=Lo(n.seconds,r.seconds);return 0!==i?i:Lo(n.nanos,r.nanos)}function Na(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Aa(n[i],r[i]);if(e)return e}return Lo(n.length,r.length)}function Pa(e){return Oa(e)}function Oa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=la(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ua(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Go.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Oa(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Oa(e.fields[i]));return n+"}"}(e.mapValue):vo(61005,{value:e})}function Da(e){switch(_a(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ma(e);return t?16+Da(t):16;case 5:return 2*e.stringValue.length;case 6:return ua(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Da(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return $s(e.fields,(e,n)=>{t+=e.length+Da(n)}),t}(e.mapValue);default:throw vo(13486,{value:e})}}function La(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ma(e){return!!e&&"integerValue"in e}function ja(e){return!!e&&"arrayValue"in e}function Fa(e){return!!e&&"nullValue"in e}function za(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ua(e){return!!e&&"mapValue"in e}function Va(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[xa])||void 0===t?void 0:t.stringValue)===Ea}function Ba(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return $s(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Ba(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ba(e.arrayValue.values[n]);return t}return c({},e)}function Wa(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Sa}class qa{constructor(e){this.value=e}static empty(){return new qa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ua(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(t)}setAll(e){let t=Ho.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ba(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ua(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ta(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ua(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){$s(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new qa(Ba(this.value))}}function Ha(e){const t=[];return $s(e.fields,(e,n)=>{const r=new Ho([e]);if(Ua(n)){const e=Ha(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ia(t)}class Ga{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ga(e,0,os.min(),os.min(),os.min(),qa.empty(),0)}static newFoundDocument(e,t,n,r){return new Ga(e,1,t,os.min(),n,r,0)}static newNoDocument(e,t){return new Ga(e,2,t,os.min(),os.min(),qa.empty(),0)}static newUnknownDocument(e,t){return new Ga(e,3,t,os.min(),os.min(),qa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(os.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=os.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ga&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ga(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ka{constructor(e,t){this.position=e,this.inclusive=t}}function Qa(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Go.comparator(Go.fromName(s.referenceValue),n.key):Aa(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Ya(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ta(e.position[n],t.position[n]))return!1;return!0}class Xa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function $a(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ja{}class Za extends Ja{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new al(e,t,n):"array-contains"===t?new dl(e,n):"in"===t?new hl(e,n):"not-in"===t?new fl(e,n):"array-contains-any"===t?new pl(e,n):new Za(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ll(e,n):new cl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Aa(t,this.value)):null!==t&&_a(this.value)===_a(t)&&this.matchesComparison(Aa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vo(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class el extends Ja{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new el(e,t)}matches(e){return tl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tl(e){return"and"===e.op}function nl(e){return rl(e)&&tl(e)}function rl(e){for(const t of e.filters)if(t instanceof el)return!1;return!0}function il(e){if(e instanceof Za)return e.field.canonicalString()+e.op.toString()+Pa(e.value);if(nl(e))return e.filters.map(e=>il(e)).join(",");{const t=e.filters.map(e=>il(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function ol(e,t){return e instanceof Za?function(e,t){return t instanceof Za&&e.op===t.op&&e.field.isEqual(t.field)&&Ta(e.value,t.value)}(e,t):e instanceof el?function(e,t){return t instanceof el&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ol(n,t.filters[r]),!0)}(e,t):void vo(19439)}function sl(e){return e instanceof Za?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Pa(e.value))}(e):e instanceof el?function(e){return e.op.toString()+" {"+e.getFilters().map(sl).join(" ,")+"}"}(e):"Filter"}class al extends Za{constructor(e,t,n){super(e,t,n),this.key=Go.fromName(n.referenceValue)}matches(e){const t=Go.comparator(e.key,this.key);return this.matchesComparison(t)}}class ll extends Za{constructor(e,t){super(e,"in",t),this.keys=ul("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cl extends Za{constructor(e,t){super(e,"not-in",t),this.keys=ul("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ul(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Go.fromName(e.referenceValue))}class dl extends Za{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ja(t)&&Ia(t.arrayValue,this.value)}}class hl extends Za{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ia(this.value.arrayValue,t)}}class fl extends Za{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ia(this.value.arrayValue,t)}}class pl extends Za{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ja(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ia(this.value.arrayValue,e))}}class gl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Te=null}}function ml(e){return new gl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function yl(e){const t=xo(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>il(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),ws(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Pa(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Pa(e)).join(",")),t.Te=e}return t.Te}function vl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$a(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ol(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ya(e.startAt,t.startAt)&&Ya(e.endAt,t.endAt)}function bl(e){return Go.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class wl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xl(e,t,n,r,i,o,s,a){return new wl(e,t,n,r,i,o,s,a)}function Sl(e){return new wl(e)}function kl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function El(e){return null!==e.collectionGroup}function Cl(e){const t=xo(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new na(Ho.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Xa(r,n))}),e.has(Ho.keyField().canonicalString())||t.Ie.push(new Xa(Ho.keyField(),n))}return t.Ie}function _l(e){const t=xo(e);return t.Ee||(t.Ee=Tl(t,Cl(e))),t.Ee}function Tl(e,t){if("F"===e.limitType)return ml(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Xa(e.field,t)});const n=e.endAt?new Ka(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ka(e.startAt.position,e.startAt.inclusive):null;return ml(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Il(e,t){const n=e.filters.concat([t]);return new wl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Al(e,t,n){return new wl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rl(e,t){return vl(_l(e),_l(t))&&e.limitType===t.limitType}function Nl(e){return"".concat(yl(_l(e)),"|lt:").concat(e.limitType)}function Pl(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>sl(e)).join(", "),"]")),ws(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Pa(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Pa(e)).join(",")),"Target(".concat(t,")")}(_l(e)),"; limitType=").concat(e.limitType,")")}function Ol(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Go.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Cl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Qa(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cl(e),t))&&!(e.endAt&&!function(e,t,n){const r=Qa(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cl(e),t))}(e,t)}function Dl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ll(e){return(t,n)=>{let r=!1;for(const i of Cl(e)){const e=Ml(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ml(e,t,n){const r=e.field.isKeyField()?Go.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Aa(r,i):vo(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vo(19790,{direction:e.dir})}}class jl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Js(this.inner)}size(){return this.innerSize}}const Fl=new Zs(Go.comparator);function zl(){return Fl}const Ul=new Zs(Go.comparator);function Vl(){let e=Ul;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Bl(e){let t=Ul;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Wl(){return Hl()}function ql(){return Hl()}function Hl(){return new jl(e=>e.toString(),(e,t)=>e.isEqual(t))}const Gl=new Zs(Go.comparator),Kl=new na(Go.comparator);function Ql(){let e=Kl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Yl=new na(Lo);function Xl(){return Yl}function $l(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xs(t)?"-0":t}}function Jl(e){return{integerValue:""+e}}function Zl(e,t){return Ss(t)?Jl(t):$l(e,t)}class ec{constructor(){this._=void 0}}function tc(e,t,n){return e instanceof ic?function(e,t){const n={fields:{[ha]:{stringValue:da},[pa]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ga(t)&&(t=ma(t)),t&&(n.fields[fa]=t),{mapValue:n}}(n,t):e instanceof oc?sc(e,t):e instanceof ac?lc(e,t):function(e,t){const n=rc(e,t),r=uc(n)+uc(e.Ae);return Ma(n)&&Ma(e.Ae)?Jl(r):$l(e.serializer,r)}(e,t)}function nc(e,t,n){return e instanceof oc?sc(e,t):e instanceof ac?lc(e,t):n}function rc(e,t){return e instanceof cc?function(e){return Ma(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ic extends ec{}class oc extends ec{constructor(e){super(),this.elements=e}}function sc(e,t){const n=dc(t);for(const r of e.elements)n.some(e=>Ta(e,r))||n.push(r);return{arrayValue:{values:n}}}class ac extends ec{constructor(e){super(),this.elements=e}}function lc(e,t){let n=dc(t);for(const r of e.elements)n=n.filter(e=>!Ta(e,r));return{arrayValue:{values:n}}}class cc extends ec{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function uc(e){return ca(e.integerValue||e.doubleValue)}function dc(e){return ja(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class hc{constructor(e,t){this.version=e,this.transformResults=t}}class fc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fc}static exists(e){return new fc(void 0,e)}static updateTime(e){return new fc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class gc{}function mc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _c(e.key,fc.none()):new xc(e.key,e.data,fc.none());{const n=e.data,r=qa.empty();let i=new na(Ho.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Sc(e.key,r,new ia(i.toArray()),fc.none())}}function yc(e,t,n){e instanceof xc?function(e,t,n){const r=e.value.clone(),i=Ec(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Sc?function(e,t,n){if(!pc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ec(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(kc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vc(e,t,n,r){return e instanceof xc?function(e,t,n,r){if(!pc(e.precondition,t))return n;const i=e.value.clone(),o=Cc(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Sc?function(e,t,n,r){if(!pc(e.precondition,t))return n;const i=Cc(e.fieldTransforms,r,t),o=t.data;return o.setAll(kc(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return pc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function bc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=rc(r.transform,e||null);null!=i&&(null===n&&(n=qa.empty()),n.set(r.field,i))}return n||null}function wc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Uo(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof oc&&t instanceof oc||e instanceof ac&&t instanceof ac?Uo(e.elements,t.elements,Ta):e instanceof cc&&t instanceof cc?Ta(e.Ae,t.Ae):e instanceof ic&&t instanceof ic}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xc extends gc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sc extends gc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kc(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ec(e,t,n){const r=new Map;wo(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,nc(s,a,n[i]))}return r}function Cc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,tc(e,o,t))}return r}class _c extends gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tc extends gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ic{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&yc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=vc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=vc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ql();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=mc(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(os.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ql())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(e,t)=>wc(e,t))&&Uo(this.baseMutations,e.baseMutations,(e,t)=>wc(e,t))}}class Ac{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){wo(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Gl;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Ac(e,t,n,r)}}class Rc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Nc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pc,Oc;function Dc(e){switch(e){case So.OK:return vo(64938);case So.CANCELLED:case So.UNKNOWN:case So.DEADLINE_EXCEEDED:case So.RESOURCE_EXHAUSTED:case So.INTERNAL:case So.UNAVAILABLE:case So.UNAUTHENTICATED:return!1;case So.INVALID_ARGUMENT:case So.NOT_FOUND:case So.ALREADY_EXISTS:case So.PERMISSION_DENIED:case So.FAILED_PRECONDITION:case So.ABORTED:case So.OUT_OF_RANGE:case So.UNIMPLEMENTED:case So.DATA_LOSS:return!0;default:return vo(15467,{code:e})}}function Lc(e){if(void 0===e)return go("GRPC error has no .code"),So.UNKNOWN;switch(e){case Pc.OK:return So.OK;case Pc.CANCELLED:return So.CANCELLED;case Pc.UNKNOWN:return So.UNKNOWN;case Pc.DEADLINE_EXCEEDED:return So.DEADLINE_EXCEEDED;case Pc.RESOURCE_EXHAUSTED:return So.RESOURCE_EXHAUSTED;case Pc.INTERNAL:return So.INTERNAL;case Pc.UNAVAILABLE:return So.UNAVAILABLE;case Pc.UNAUTHENTICATED:return So.UNAUTHENTICATED;case Pc.INVALID_ARGUMENT:return So.INVALID_ARGUMENT;case Pc.NOT_FOUND:return So.NOT_FOUND;case Pc.ALREADY_EXISTS:return So.ALREADY_EXISTS;case Pc.PERMISSION_DENIED:return So.PERMISSION_DENIED;case Pc.FAILED_PRECONDITION:return So.FAILED_PRECONDITION;case Pc.ABORTED:return So.ABORTED;case Pc.OUT_OF_RANGE:return So.OUT_OF_RANGE;case Pc.UNIMPLEMENTED:return So.UNIMPLEMENTED;case Pc.DATA_LOSS:return So.DATA_LOSS;default:return vo(39323,{code:e})}}(Oc=Pc||(Pc={}))[Oc.OK=0]="OK",Oc[Oc.CANCELLED=1]="CANCELLED",Oc[Oc.UNKNOWN=2]="UNKNOWN",Oc[Oc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oc[Oc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oc[Oc.NOT_FOUND=5]="NOT_FOUND",Oc[Oc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oc[Oc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oc[Oc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oc[Oc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oc[Oc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oc[Oc.ABORTED=10]="ABORTED",Oc[Oc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oc[Oc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oc[Oc.INTERNAL=13]="INTERNAL",Oc[Oc.UNAVAILABLE=14]="UNAVAILABLE",Oc[Oc.DATA_LOSS=15]="DATA_LOSS";let Mc=null;function jc(){return new TextEncoder}const Fc=new Ki([4294967295,4294967295],0);function zc(e){const t=jc().encode(e),n=new Qi;return n.update(t),new Uint8Array(n.digest())}function Uc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ki([n,r],0),new Ki([i,o],0)]}class Vc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Bc("Invalid padding: ".concat(t));if(n<0)throw new Bc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Bc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Bc("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Ki.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Ki.fromNumber(n)));return 1===r.compare(Fc)&&(r=new Ki([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=zc(e),[n,r]=Uc(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Vc(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.ge)return;const t=zc(e),[n,r]=Uc(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wc(os.min(),r,new Zs(Lo),zl(),Ql())}}class qc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new qc(n,t,Ql(),Ql(),Ql())}}class Hc{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Gc{constructor(e,t){this.targetId=e,this.Ce=t}}class Kc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sa.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Qc{constructor(){this.ve=0,this.Fe=$c(),this.Me=sa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ql(),t=Ql(),n=Ql();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vo(38017,{changeType:i})}}),new qc(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=$c()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wo(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Yc{constructor(e){this.Ge=e,this.ze=new Map,this.je=zl(),this.Je=Xc(),this.He=Xc(),this.Ye=new Zs(Lo)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:vo(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(bl(o))if(0===n){const e=new Go(o.path);this.et(t,e,Ga.newNoDocument(e,os.min()))}else wo(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Mc)||void 0===i||i.lt(function(e,t,n,r,i,o,s,a,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(o=null===d||void 0===d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(s=null===d||void 0===d||null===(a=d.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=ua(n).toUint8Array()}catch(e){if(e instanceof oa)return mo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Vc(o,r,i)}catch(e){return mo(e instanceof Bc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&bl(i.target)){const t=new Go(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Ga.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Ql();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Wc(e,t,this.Ye,this.je,n);return this.je=zl(),this.Je=Xc(),this.He=Xc(),this.Ye=new Zs(Lo),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Qc,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new na(Lo),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new na(Lo),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||po("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qc),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Xc(){return new Zs(Go.comparator)}function $c(){return new Zs(Go.comparator)}const Jc={asc:"ASCENDING",desc:"DESCENDING"},Zc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eu={and:"AND",or:"OR"};class tu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nu(e,t){return e.useProto3Json||ws(t)?t:{value:t}}function ru(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function iu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ou(e,t){return ru(e,t.toTimestamp())}function su(e){return wo(!!e,49232),os.fromTimestamp(function(e){const t=la(e);return new is(t.seconds,t.nanos)}(e))}function au(e,t){return lu(e,t).canonicalString()}function lu(e,t){const n=function(e){return new Wo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function cu(e){const t=Wo.fromString(e);return wo(Au(t),10190,{key:t.toString()}),t}function uu(e,t){return au(e.databaseId,t.path)}function du(e,t){const n=cu(t);if(n.get(1)!==e.databaseId.projectId)throw new ko(So.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ko(So.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Go(gu(n))}function hu(e,t){return au(e.databaseId,t)}function fu(e){const t=cu(e);return 4===t.length?Wo.emptyPath():gu(t)}function pu(e){return new Wo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gu(e){return wo(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function mu(e,t,n){return{name:uu(e,t),fields:n.value.mapValue.fields}}function yu(e,t){let n;if(t instanceof xc)n={update:mu(e,t.key,t.value)};else if(t instanceof _c)n={delete:uu(e,t.key)};else if(t instanceof Sc)n={update:mu(e,t.key,t.data),updateMask:Iu(t.fieldMask)};else{if(!(t instanceof Tc))return vo(16599,{Vt:t.type});n={verify:uu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ic)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof oc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ac)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cc)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw vo(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ou(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vo(27497)}(e,t.precondition)),n}function vu(e,t){return{documents:[hu(e,t.path)]}}function bu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hu(e,i);const o=function(e){if(0!==e.length)return Tu(el.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Cu(e.field),direction:Su(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=nu(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function wu(e){let t=fu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wo(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=xu(e);return t instanceof el&&nl(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new Xa(_u(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ws(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ka(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ka(n,t)}(n.endAt)),xl(t,i,s,o,a,"F",l,c)}function xu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_u(e.unaryFilter.field);return Za.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=_u(e.unaryFilter.field);return Za.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_u(e.unaryFilter.field);return Za.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_u(e.unaryFilter.field);return Za.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vo(61313);default:return vo(60726)}}(e):void 0!==e.fieldFilter?function(e){return Za.create(_u(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vo(58110);default:return vo(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return el.create(e.compositeFilter.filters.map(e=>xu(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return vo(1026)}}(e.compositeFilter.op))}(e):vo(30097,{filter:e})}function Su(e){return Jc[e]}function ku(e){return Zc[e]}function Eu(e){return eu[e]}function Cu(e){return{fieldPath:e.canonicalString()}}function _u(e){return Ho.fromServerFormat(e.fieldPath)}function Tu(e){return e instanceof Za?function(e){if("=="===e.op){if(za(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NAN"}};if(Fa(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(za(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NOT_NAN"}};if(Fa(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cu(e.field),op:ku(e.op),value:e.value}}}(e):e instanceof el?function(e){const t=e.getFilters().map(e=>Tu(e));return 1===t.length?t[0]:{compositeFilter:{op:Eu(e.op),filters:t}}}(e):vo(54877,{filter:e})}function Iu(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Au(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ru{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:os.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:os.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sa.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Ru(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nu{constructor(e){this.yt=e}}function Pu(e){const t=wu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Al(t,t.limit,"L"):t}class Ou{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ca(e.integerValue));else if("doubleValue"in e){const n=ca(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),xs(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=la(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ua(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Wa(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Va(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):vo(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Ca,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(ca(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Go.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ou.Kt=new Ou;class Du{constructor(){this.Cn=new Lu}addToCollectionParentIndex(e,t){return this.Cn.add(t),gs.resolve()}getCollectionParents(e,t){return gs.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return gs.resolve()}deleteFieldIndex(e,t){return gs.resolve()}deleteAllFieldIndexes(e){return gs.resolve()}createTargetIndexes(e,t){return gs.resolve()}getDocumentsMatchingTarget(e,t){return gs.resolve(null)}getIndexType(e,t){return gs.resolve(0)}getFieldIndexes(e,t){return gs.resolve([])}getNextCollectionGroupToUpdate(e){return gs.resolve(null)}getMinOffset(e,t){return gs.resolve(us.min())}getMinOffsetFromCollectionGroup(e,t){return gs.resolve(us.min())}updateCollectionGroup(e,t,n){return gs.resolve()}updateIndexEntries(e,t){return gs.resolve()}}class Lu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new na(Wo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new na(Wo.comparator)).toArray()}}new Uint8Array(0);const Mu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ju=41943040;class Fu{static withCacheSize(e){return new Fu(e,Fu.DEFAULT_COLLECTION_PERCENTILE,Fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Fu.DEFAULT_COLLECTION_PERCENTILE=10,Fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fu.DEFAULT=new Fu(ju,Fu.DEFAULT_COLLECTION_PERCENTILE,Fu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fu.DISABLED=new Fu(-1,0,0);class zu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zu(0)}static cr(){return new zu(-1)}}const Uu="LruGarbageCollector",Vu=1048576;function Bu(e,t){let[n,r]=e,[i,o]=t;const s=Lo(n,i);return 0===s?Lo(r,o):s}class Wu{constructor(e){this.Ir=e,this.buffer=new na(Bu),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Bu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qu{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){po(Uu,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ys(e)?po(Uu,"Ignoring IndexedDB error during garbage collection: ",e):await ps(e)}await this.Vr(3e5)})}}class Hu{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return gs.resolve(vs.ce);const n=new Wu(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(po("LruGarbageCollector","Garbage collection skipped; disabled"),gs.resolve(Mu)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(po("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Mu):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(po("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),fo()<=G.DEBUG&&po("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),gs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Gu(e,t){return new Hu(e,t)}class Ku{constructor(){this.changes=new jl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ga.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?gs.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Yu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&vc(n.mutation,e,ia.empty(),is.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Ql()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ql();const r=Wl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Vl();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Wl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ql()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=zl();const o=Hl(),s=Hl();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Sc)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),vc(s.mutation,t,s.mutation.getFieldMask(),is.now())):o.set(t.key,ia.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Qu(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=Hl();let r=new Zs((e,t)=>e-t),i=Ql();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||ia.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Ql()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=ql();l.forEach(e=>{if(!i.has(e)){const r=mc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return gs.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Go.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):El(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):gs.resolve(Wl());let s=ss,a=i;return o.next(t=>gs.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?gs.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Ql())).next(e=>({batchId:s,changes:Bl(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Go(t)).next(e=>{let t=Vl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Vl();return this.indexManager.getCollectionParents(e,i).next(s=>gs.forEach(s,s=>{const a=function(e,t){return new wl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ga.newInvalidDocument(r)))});let n=Vl();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&vc(o.mutation,r,ia.empty(),is.now()),Ol(t,r)&&(n=n.insert(e,r))}),n})}}class Xu{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return gs.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:su(e.createTime)}}(t)),gs.resolve()}getNamedQuery(e,t){return gs.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Pu(e.bundledQuery),readTime:su(e.readTime)}}(t)),gs.resolve()}}class $u{constructor(){this.overlays=new Zs(Go.comparator),this.qr=new Map}getOverlay(e,t){return gs.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Wl();return gs.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),gs.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),gs.resolve()}getOverlaysForCollection(e,t,n){const r=Wl(),i=t.length+1,o=new Go(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return gs.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Zs((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Wl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Wl(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return gs.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Rc(t,n));let i=this.qr.get(t);void 0===i&&(i=Ql(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Ju{constructor(){this.sessionToken=sa.EMPTY_BYTE_STRING}getSessionToken(e){return gs.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,gs.resolve()}}class Zu{constructor(){this.Qr=new na(ed.$r),this.Ur=new na(ed.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ed(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new ed(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Go(new Wo([])),n=new ed(t,e),r=new ed(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Go(new Wo([])),n=new ed(t,e),r=new ed(t,e+1);let i=Ql();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new ed(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ed{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Go.comparator(e.key,t.key)||Lo(e.Yr,t.Yr)}static Kr(e,t){return Lo(e.Yr,t.Yr)||Go.comparator(e.key,t.key)}}class td{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new na(ed.$r)}checkEmpty(e){return gs.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ic(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Zr=this.Zr.add(new ed(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return gs.resolve(o)}lookupMutationBatch(e,t){return gs.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return gs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return gs.resolve(0===this.mutationQueue.length?bs:this.tr-1)}getAllMutationBatches(e){return gs.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ed(t,0),r=new ed(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),gs.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new na(Lo);return t.forEach(e=>{const t=new ed(e,0),r=new ed(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),gs.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Go.isDocumentKey(i)||(i=i.child(""));const o=new ed(new Go(i),0);let s=new na(Lo);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},o),gs.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){wo(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return gs.forEach(t.mutations,r=>{const i=new ed(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new ed(t,0),r=this.Zr.firstAfterOrEqual(n);return gs.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,gs.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nd{constructor(e){this.ri=e,this.docs=new Zs(Go.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return gs.resolve(n?n.document.mutableCopy():Ga.newInvalidDocument(t))}getEntries(e,t){let n=zl();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ga.newInvalidDocument(e))}),gs.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=zl();const o=t.path,s=new Go(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||ds(cs(s),n)<=0||(r.has(s.key)||Ol(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return gs.resolve(i)}getAllFromCollectionGroup(e,t,n,r){vo(9500)}ii(e,t){return gs.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new rd(this)}getSize(e){return gs.resolve(this.size)}}class rd extends Ku{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),gs.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class id{constructor(e){this.persistence=e,this.si=new jl(e=>yl(e),vl),this.lastRemoteSnapshotVersion=os.min(),this.highestTargetId=0,this.oi=0,this._i=new Zu,this.targetCount=0,this.ai=zu.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),gs.resolve()}getLastRemoteSnapshotVersion(e){return gs.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gs.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),gs.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),gs.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new zu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,gs.resolve()}updateTargetData(e,t){return this.Pr(t),gs.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,gs.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),gs.waitFor(i).next(()=>r)}getTargetCount(e){return gs.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return gs.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),gs.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),gs.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),gs.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return gs.resolve(n)}containsKey(e,t){return gs.resolve(this._i.containsKey(t))}}class od{constructor(e,t){this.ui={},this.overlays={},this.ci=new vs(0),this.li=!1,this.li=!0,this.hi=new Ju,this.referenceDelegate=e(this),this.Pi=new id(this),this.indexManager=new Du,this.remoteDocumentCache=function(e){return new nd(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Nu(t),this.Ii=new Xu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $u,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new td(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){po("MemoryPersistence","Starting transaction:",e);const r=new sd(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return gs.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class sd extends fs{constructor(e){super(),this.currentSequenceNumber=e}}class ad{constructor(e){this.persistence=e,this.Ri=new Zu,this.Vi=null}static mi(e){return new ad(e)}get fi(){if(this.Vi)return this.Vi;throw vo(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),gs.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),gs.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),gs.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gs.forEach(this.fi,n=>{const r=Go.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,os.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return gs.or([()=>gs.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ld{constructor(e,t){this.persistence=e,this.pi=new jl(e=>Es(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Gu(this,t)}static mi(e,t){return new ld(e,t)}Ei(){}di(e){return gs.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return gs.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?gs.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,os.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),gs.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),gs.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),gs.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),gs.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Da(e.data.value)),t}br(e,t,n){return gs.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return gs.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Ql(),r=Ql();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new cd(e,t.fromCache,n,r)}}class ud{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dd{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=I()?8:ms(_())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new ud;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(fo()<=G.DEBUG&&po("QueryEngine","SDK will not create cache indexes for query:",Pl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),gs.resolve()):(fo()<=G.DEBUG&&po("QueryEngine","Query:",Pl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(fo()<=G.DEBUG&&po("QueryEngine","The SDK decides to create cache indexes for query:",Pl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_l(t))):gs.resolve())}ys(e,t){if(kl(t))return gs.resolve(null);let n=_l(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Al(t,null,"F"),n=_l(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Ql(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,Al(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return kl(t)||r.isEqual(os.min())?gs.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?gs.resolve(null):(fo()<=G.DEBUG&&po("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pl(t)),this.vs(e,o,t,ls(r,ss)).next(e=>e))})}Ds(e,t){let n=new na(Ll(e));return t.forEach((t,r)=>{Ol(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return fo()<=G.DEBUG&&po("QueryEngine","Using full collection scan to execute query:",Pl(t)),this.ps.getDocumentsMatchingQuery(e,t,us.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const hd="LocalStore";class fd{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Zs(Lo),this.xs=new jl(e=>yl(e),vl),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yu(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function pd(e,t,n,r){return new fd(e,t,n,r)}async function gd(e,t){const n=xo(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=Ql();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}function md(e){const t=xo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function yd(e,t,n){let r=Ql(),i=Ql();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=zl();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(os.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):po(hd,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{ks:r,qs:i}})}function vd(e,t){const n=xo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=bs),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function bd(e,t){const n=xo(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,gs.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Ru(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function wd(e,t,n){const r=xo(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!ys(e))throw e;po(hd,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function xd(e,t,n){const r=xo(e);let i=os.min(),o=Ql();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=xo(e),i=r.xs.get(n);return void 0!==i?gs.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,_l(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:os.min(),n?o:Ql())).next(e=>(Sd(r,Dl(t),e),{documents:e,Qs:o})))}function Sd(e,t,n){let r=e.Os.get(t)||os.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class kd{constructor(){this.activeTargetIds=Xl()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ed{constructor(){this.Mo=new kd,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cd{Oo(e){}shutdown(){}}const _d="ConnectivityMonitor";class Td{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){po(_d,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){po(_d,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Id=null;function Ad(){return null===Id?Id=268435456+Math.round(2147483648*Math.random()):Id++,"0x"+Id.toString(16)}const Rd="RestConnection",Nd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pd{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===ba?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const o=Ad(),s=this.zo(e,t.toUriEncodedString());po(Rd,"Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(s),c=x(l);return this.Jo(e,s,a,n,c).then(t=>(po(Rd,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw mo(Rd,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+uo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Nd[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Od{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Dd="WebChannelConnection";class Ld extends Pd{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=Ad();return new Promise((i,s)=>{const a=new $i;a.setWithCredentials(!0),a.listenOnce(Zi.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case eo.NO_ERROR:const n=a.getResponseJson();po(Dd,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case eo.TIMEOUT:po(Dd,"RPC '".concat(e,"' ").concat(o," timed out")),s(new ko(So.DEADLINE_EXCEEDED,"Request time out"));break;case eo.HTTP_ERROR:const r=a.getStatus();if(po(Dd,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(So).indexOf(t)>=0?t:So.UNKNOWN}(n.status);s(new ko(e,n.message))}else s(new ko(So.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ko(So.UNAVAILABLE,"Connection failed."));break;default:vo(9055,{l_:e,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{po(Dd,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);po(Dd,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Ad(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=io(),s=ro(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");po(Dd,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const f=new Od({Yo:t=>{h?po(Dd,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(po(Dd,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),po(Dd,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Ji.EventType.OPEN,()=>{h||(po(Dd,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Ji.EventType.CLOSE,()=>{h||(h=!0,po(Dd,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Ji.EventType.ERROR,t=>{h||(h=!0,mo(Dd,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new ko(So.UNAVAILABLE,"The operation could not be completed")))}),p(u,Ji.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];wo(!!i,16349);const o=i,s=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){po(Dd,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Pc[e];if(void 0!==t)return Lc(t)}(t),i=s.message;void 0===n&&(n=So.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new ko(n,i)),u.close()}else po(Dd,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(s,no.STAT_EVENT,t=>{t.stat===to.PROXY?po(Dd,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===to.NOPROXY&&po(Dd,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Md(){return"undefined"!=typeof document?document:null}function jd(e){return new tu(e,!0)}class Fd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&po("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const zd="PersistentStream";class Ud{constructor(e,t,n,r,i,o,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Fd(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===So.RESOURCE_EXHAUSTED?(go(t.toString()),go("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===So.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new ko(So.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return po(zd,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(po(zd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vd extends Ud{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vo(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(wo(void 0===t||"string"==typeof t,58123),sa.fromBase64String(t||"")):(wo(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),sa.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?So.UNKNOWN:Lc(e.code);return new ko(t,e.message||"")}(s);n=new Kc(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=du(e,r.document.name),o=su(r.document.updateTime),s=r.document.createTime?su(r.document.createTime):os.min(),a=new qa({mapValue:{fields:r.document.fields}}),l=Ga.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Hc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=du(e,r.document),o=r.readTime?su(r.readTime):os.min(),s=Ga.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Hc([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=du(e,r.document),o=r.removedTargetIds||[];n=new Hc([],o,i,null)}else{if(!("filter"in t))return vo(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Nc(r,i),s=e.targetId;n=new Gc(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return os.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?os.min():t.readTime?su(t.readTime):os.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=pu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=bl(r)?{documents:vu(e,r)}:{query:bu(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=iu(e,t.resumeToken);const r=nu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(os.min())>0){n.readTime=ru(e,t.snapshotVersion.toTimestamp());const r=nu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vo(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=pu(this.serializer),t.removeTarget=e,this.q_(t)}}class Bd extends Ud{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return wo(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wo(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){wo(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(wo(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?su(e.updateTime):su(t);return n.isEqual(os.min())&&(n=su(t)),new hc(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=su(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=pu(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>yu(this.serializer,e))};this.q_(t)}}class Wd{}class qd extends Wd{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ko(So.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Go(e,lu(t,n),r,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===So.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ko(So.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.Ho(e,lu(t,n),r,s,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===So.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ko(So.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Hd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(go(t),this.aa=!1):po("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Gd="RemoteStore";class Kd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{nh(this)&&(po(Gd,"Restarting streams for network reachability change."),await async function(e){const t=xo(e);t.Ea.add(4),await Yd(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Qd(t)}(this))})}),this.Ra=new Hd(n,r)}}async function Qd(e){if(nh(e))for(const t of e.da)await t(!0)}async function Yd(e){for(const t of e.da)await t(!1)}function Xd(e,t){const n=xo(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),th(n)?eh(n):xh(n).O_()&&Jd(n,t))}function $d(e,t){const n=xo(e),r=xh(n);n.Ia.delete(t),r.O_()&&Zd(n,t),0===n.Ia.size&&(r.O_()?r.L_():nh(n)&&n.Ra.set("Unknown"))}function Jd(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(os.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xh(e).Y_(t)}function Zd(e,t){e.Va.Ue(t),xh(e).Z_(t)}function eh(e){e.Va=new Yc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),xh(e).start(),e.Ra.ua()}function th(e){return nh(e)&&!xh(e).x_()&&e.Ia.size>0}function nh(e){return 0===xo(e).Ea.size}function rh(e){e.Va=void 0}async function ih(e){e.Ra.set("Online")}async function oh(e){e.Ia.forEach((t,n)=>{Jd(e,t)})}async function sh(e,t){rh(e),th(e)?(e.Ra.ha(t),eh(e)):e.Ra.set("Unknown")}async function ah(e,t,n){if(e.Ra.set("Online"),t instanceof Kc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){po(Gd,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await lh(e,n)}else if(t instanceof Hc?e.Va.Ze(t):t instanceof Gc?e.Va.st(t):e.Va.tt(t),!n.isEqual(os.min()))try{const t=await md(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(sa.EMPTY_BYTE_STRING,r.snapshotVersion)),Zd(e,t);const i=new Ru(r.target,t,n,r.sequenceNumber);Jd(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){po(Gd,"Failed to raise snapshot:",t),await lh(e,t)}}async function lh(e,t,n){if(!ys(t))throw t;e.Ea.add(1),await Yd(e),e.Ra.set("Offline"),n||(n=()=>md(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{po(Gd,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Qd(e)})}function ch(e,t){return t().catch(n=>lh(e,n,t))}async function uh(e){const t=xo(e),n=Sh(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bs;for(;dh(t);)try{const e=await vd(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,hh(t,e)}catch(e){await lh(t,e)}fh(t)&&ph(t)}function dh(e){return nh(e)&&e.Ta.length<10}function hh(e,t){e.Ta.push(t);const n=Sh(e);n.O_()&&n.X_&&n.ea(t.mutations)}function fh(e){return nh(e)&&!Sh(e).x_()&&e.Ta.length>0}function ph(e){Sh(e).start()}async function gh(e){Sh(e).ra()}async function mh(e){const t=Sh(e);for(const n of e.Ta)t.ea(n.mutations)}async function yh(e,t,n){const r=e.Ta.shift(),i=Ac.from(r,t,n);await ch(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await uh(e)}async function vh(e,t){t&&Sh(e).X_&&await async function(e,t){if(function(e){return Dc(e)&&e!==So.ABORTED}(t.code)){const n=e.Ta.shift();Sh(e).B_(),await ch(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await uh(e)}}(e,t),fh(e)&&ph(e)}async function bh(e,t){const n=xo(e);n.asyncQueue.verifyOperationInProgress(),po(Gd,"RemoteStore received new credentials");const r=nh(n);n.Ea.add(3),await Yd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Qd(n)}async function wh(e,t){const n=xo(e);t?(n.Ea.delete(2),await Qd(n)):t||(n.Ea.add(2),await Yd(n),n.Ra.set("Unknown"))}function xh(e){return e.ma||(e.ma=function(e,t,n){const r=xo(e);return r.sa(),new Vd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:ih.bind(null,e),t_:oh.bind(null,e),r_:sh.bind(null,e),H_:ah.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),th(e)?eh(e):e.Ra.set("Unknown")):(await e.ma.stop(),rh(e))})),e.ma}function Sh(e){return e.fa||(e.fa=function(e,t,n){const r=xo(e);return r.sa(),new Bd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:gh.bind(null,e),r_:vh.bind(null,e),ta:mh.bind(null,e),na:yh.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await uh(e)):(await e.fa.stop(),e.Ta.length>0&&(po(Gd,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class kh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new kh(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ko(So.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eh(e,t){if(go("AsyncQueue","".concat(t,": ").concat(e)),ys(e))return new ko(So.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Ch{static emptySet(e){return new Ch(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Go.comparator(t.key,n.key):(e,t)=>Go.comparator(e.key,t.key),this.keyedMap=Vl(),this.sortedSet=new Zs(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ch))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ch;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _h{constructor(){this.ga=new Zs(Go.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):vo(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Th{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Th(e,t,Ch.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ih{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ah{constructor(){this.queries=Rh(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=xo(e),r=n.queries;n.queries=Rh(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new ko(So.ABORTED,"Firestore shutting down"))}}function Rh(){return new jl(e=>Nl(e),Rl)}async function Nh(e,t){const n=xo(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new Ih,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Eh(e,"Initialization of query '".concat(Pl(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&Lh(n)}async function Ph(e,t){const n=xo(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Oh(e,t){const n=xo(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Lh(n)}function Dh(e,t,n){const r=xo(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function Lh(e){e.Ca.forEach(e=>{e.next()})}var Mh,jh;(jh=Mh||(Mh={})).Ma="default",jh.Cache="cache";class Fh{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Th(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mh.Cache}}class zh{constructor(e){this.key=e}}class Uh{constructor(e){this.key=e}}class Vh{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ql(),this.mutatedKeys=Ql(),this.eu=Ll(e),this.tu=new Ch(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new _h,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Ol(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:o,iu:n,Cs:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vo(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==o.length||l?{snapshot:new Th(this.query,e.tu,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _h,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ql(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Uh(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new zh(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ql();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Th.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Bh="SyncEngine";class Wh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class qh{constructor(e){this.key=e,this.hu=!1}}class Hh{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new jl(e=>Nl(e),Rl),this.Iu=new Map,this.Eu=new Set,this.du=new Zs(Go.comparator),this.Au=new Map,this.Ru=new Zu,this.Vu={},this.mu=new Map,this.fu=zu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Gh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=pf(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Qh(r,t,n,!0),i}async function Kh(e,t){const n=pf(e);await Qh(n,t,!0,!1)}async function Qh(e,t,n,r){const i=await bd(e.localStore,_l(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Yh(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Xd(e.remoteStore,i),a}async function Yh(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await xd(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return lf(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const o=await xd(e.localStore,t,!0),s=new Vh(t,o.Qs),a=s.ru(o.documents),l=qc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);lf(e,n,c.au);const u=new Wh(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Xh(e,t,n){const r=xo(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(e=>!Rl(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$d(r.remoteStore,i.targetId),sf(r,i.targetId)}).catch(ps)):(sf(r,i.targetId),await wd(r.localStore,i.targetId,!0))}async function $h(e,t){const n=xo(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$d(n.remoteStore,r.targetId))}async function Jh(e,t){const n=xo(e);try{const e=await function(e,t){const n=xo(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,o.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(sa.EMPTY_BYTE_STRING,os.min()).withLastLimboFreeSnapshotVersion(os.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.Pi.updateTargetData(e,c))});let a=zl(),l=Ql();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(yd(e,o,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(os.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return gs.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(wo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?wo(r.hu,14607):e.removedDocuments.size>0&&(wo(r.hu,42227),r.hu=!1))}),await df(n,e,t)}catch(e){await ps(e)}}function Zh(e,t,n){const r=xo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=xo(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Lh(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ef(e,t,n){const r=xo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let e=new Zs(Go.comparator);e=e.insert(o,Ga.newNoDocument(o,os.min()));const n=Ql().add(o),i=new Wc(os.min(),new Map,new Zs(Lo),e,n);await Jh(r,i),r.du=r.du.remove(o),r.Au.delete(t),uf(r)}else await wd(r.localStore,t,!1).then(()=>sf(r,t,n)).catch(ps)}async function tf(e,t){const n=xo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=xo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=gs.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);wo(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ql();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);of(n,r,null),rf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await df(n,e)}catch(e){await ps(e)}}async function nf(e,t,n){const r=xo(e);try{const e=await function(e,t){const n=xo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(wo(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);of(r,t,n),rf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await df(r,e)}catch(n){await ps(n)}}function rf(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function of(e,t,n){const r=xo(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function sf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||af(e,t)})}function af(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&($d(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),uf(e))}function lf(e,t,n){for(const r of n)r instanceof zh?(e.Ru.addReference(r.key,t),cf(e,r)):r instanceof Uh?(po(Bh,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||af(e,r.key)):vo(19791,{wu:r})}function cf(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(po(Bh,"New document in limbo: "+n),e.Eu.add(r),uf(e))}function uf(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Go(Wo.fromString(t)),r=e.fu.next();e.Au.set(r,new qh(n)),e.du=e.du.insert(n,r),Xd(e.remoteStore,new Ru(_l(Sl(n.path)),r,"TargetPurposeLimboResolution",vs.ce))}}async function df(e,t,n){const r=xo(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=cd.As(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=xo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>gs.forEach(t,t=>gs.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>gs.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!ys(e))throw e;po(hd,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,o))}async function hf(e,t){const n=xo(e);if(!n.currentUser.isEqual(t)){po(Bh,"User change. New user:",t.toKey());const e=await gd(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new ko(So.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await df(n,e.Ls)}}function ff(e,t){const n=xo(e),r=n.Au.get(t);if(r&&r.hu)return Ql().add(r.key);{let e=Ql();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function pf(e){const t=xo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ff.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ef.bind(null,t),t.Pu.H_=Oh.bind(null,t.eventManager),t.Pu.yu=Dh.bind(null,t.eventManager),t}function gf(e){const t=xo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nf.bind(null,t),t}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return pd(this.persistence,new dd,e.initialUser,this.serializer)}Cu(e){return new od(ad.mi,this.serializer)}Du(e){return new Ed}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class yf extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){wo(this.persistence.referenceDelegate instanceof ld,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new qu(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Fu.withCacheSize(this.cacheSizeBytes):Fu.DEFAULT;return new od(e=>ld.mi(e,t),this.serializer)}}class vf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Zh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=hf.bind(null,this.syncEngine),await wh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ah}createDatastore(e){const t=jd(e.databaseInfo.databaseId),n=function(e){return new Ld(e)}(e.databaseInfo);return function(e,t,n,r){return new qd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Kd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Zh(this.syncEngine,e,0),Td.v()?new Td:new Cd)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Hh(e,t,n,r,i,o);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=xo(e);po(Gd,"RemoteStore shutting down."),t.Ea.add(5),await Yd(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}vf.provider={build:()=>new vf};class bf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):go("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const wf="FirestoreClient";class xf{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=co.UNAUTHENTICATED,this.clientId=Do.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{po(wf,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(po(wf,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Eh(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Sf(e,t){e.asyncQueue.verifyOperationInProgress(),po(wf,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await gd(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function kf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ef(e);po(wf,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>bh(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>bh(t.remoteStore,n)),e._onlineComponents=t}async function Ef(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){po(wf,"Using user provided OfflineComponentProvider");try{await Sf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===So.FAILED_PRECONDITION||e.code===So.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Sf(e,new mf)}}else po(wf,"Using default OfflineComponentProvider"),await Sf(e,new yf(void 0));return e._offlineComponents}async function Cf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(po(wf,"Using user provided OnlineComponentProvider"),await kf(e,e._uninitializedComponentsProvider._online)):(po(wf,"Using default OnlineComponentProvider"),await kf(e,new vf))),e._onlineComponents}function _f(e){return Cf(e).then(e=>e.syncEngine)}async function Tf(e){const t=await Cf(e),n=t.eventManager;return n.onListen=Gh.bind(null,t.syncEngine),n.onUnlisten=Xh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Kh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$h.bind(null,t.syncEngine),n}function If(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Eo;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new bf({next:a=>{o.Nu(),t.enqueueAndForget(()=>Ph(e,s));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new ko(So.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new ko(So.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new Fh(Sl(n.path),o,{includeMetadataChanges:!0,qa:!0});return Nh(e,s)}(await Tf(e),e.asyncQueue,t,n,r)),r.promise}function Af(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Eo;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new bf({next:n=>{o.Nu(),t.enqueueAndForget(()=>Ph(e,s)),n.fromCache&&"server"===r.source?i.reject(new ko(So.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Fh(n,o,{includeMetadataChanges:!0,qa:!0});return Nh(e,s)}(await Tf(e),e.asyncQueue,t,n,r)),r.promise}function Rf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Nf=new Map,Pf="firestore.googleapis.com",Of=!0;class Df{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ko(So.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pf,this.ssl=Of}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Of;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ju;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Vu)throw new ko(So.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ko(So.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ko(So.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ko(So.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ko(So.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Df({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ko(So.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ko(So.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Df(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _o;switch(e.type){case"firstParty":return new Ro(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ko(So.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Nf.get(e);t&&(po("ComponentProvider","Removing Datastore"),Nf.delete(e),t.terminate())}(this),Promise.resolve()}}function Mf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Jo(e,Lf);const i=x(t),o=e._getSettings(),s=c(c({},o),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(S("https://".concat(a)),C("Firestore",!0)),o.host!==Pf&&o.host!==a&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},o),{},{host:a,ssl:i,emulatorOptions:r});if(!O(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=co.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new ko(So.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new co(i)}e._authCredentials=new To(new Co(t,n))}}class jf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new jf(this.firestore,e,this._query)}}class Ff{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ff(this.firestore,e,this._key)}toJSON(){return{type:Ff._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ts(t,Ff._jsonSchema))return new Ff(e,n||null,new Go(Wo.fromString(t.referencePath)))}}Ff._jsonSchemaVersion="firestore/documentReference/1.0",Ff._jsonSchema={type:es("string",Ff._jsonSchemaVersion),referencePath:es("string")};class zf extends jf{constructor(e,t,n){super(e,t,Sl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ff(this.firestore,null,new Go(e))}withConverter(e){return new zf(this.firestore,e,this._path)}}function Uf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=U(e),Ko("collection","path",t),e instanceof Lf){const n=Wo.fromString(t,...r);return Yo(n),new zf(e,null,n)}{if(!(e instanceof Ff||e instanceof zf))throw new ko(So.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wo.fromString(t,...r));return Yo(n),new zf(e.firestore,null,n)}}function Vf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=U(e),1===arguments.length&&(t=Do.newId()),Ko("doc","path",t),e instanceof Lf){const n=Wo.fromString(t,...r);return Qo(n),new Ff(e,null,new Go(n))}{if(!(e instanceof Ff||e instanceof zf))throw new ko(So.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wo.fromString(t,...r));return Qo(n),new Ff(e.firestore,e instanceof zf?e.converter:null,new Go(n))}}const Bf="AsyncQueue";class Wf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Fd(this,"async_queue_retry"),this._c=()=>{const e=Md();e&&po(Bf,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Md();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Md();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Eo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ys(e))throw e;po(Bf,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,go("INTERNAL UNHANDLED ERROR: ",qf(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=kh.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&vo(47125,{Pc:qf(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function qf(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Hf extends Lf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Wf,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wf(e),this._firestoreClient=void 0,await e}}}function Gf(e){if(e._terminated)throw new ko(So.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Kf(e),e._firestoreClient}function Kf(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new va(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Rf(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new xf(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Qf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qf(sa.fromBase64String(e))}catch(e){throw new ko(So.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Qf(sa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qf._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ts(e,Qf._jsonSchema))return Qf.fromBase64String(e.bytes)}}Qf._jsonSchemaVersion="firestore/bytes/1.0",Qf._jsonSchema={type:es("string",Qf._jsonSchemaVersion),bytes:es("string")};class Yf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ko(So.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ho(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xf{constructor(e){this._methodName=e}}class $f{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ko(So.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ko(So.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Lo(this._lat,e._lat)||Lo(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$f._jsonSchemaVersion}}static fromJSON(e){if(ts(e,$f._jsonSchema))return new $f(e.latitude,e.longitude)}}$f._jsonSchemaVersion="firestore/geoPoint/1.0",$f._jsonSchema={type:es("string",$f._jsonSchemaVersion),latitude:es("number"),longitude:es("number")};class Jf{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Jf._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ts(e,Jf._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Jf(e.vectorValues);throw new ko(So.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jf._jsonSchemaVersion="firestore/vectorValue/1.0",Jf._jsonSchema={type:es("string",Jf._jsonSchemaVersion),vectorValues:es("object")};const Zf=/^__.*__$/;class ep{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Sc(e,this.data,this.fieldMask,t,this.fieldTransforms):new xc(e,this.data,t,this.fieldTransforms)}}function tp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vo(40011,{Ac:e})}}class np{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new np(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(tp(this.Ac)&&Zf.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||jd(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new np({Ac:e,methodName:t,Dc:n,path:Ho.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ip(e){const t=e._freezeSettings(),n=jd(e._databaseId);return new rp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function op(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(o.merge||o.mergeFields?2:0,t,n,i);up("Data must be an object, but it was:",s,r);const a=lp(r,s);let l,c;if(o.merge)l=new ia(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=dp(t,r,n);if(!s.contains(i))throw new ko(So.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));gp(e,i)||e.push(i)}l=new ia(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new ep(new qa(a),l,c)}function sp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ap(n,e.Cc(r?4:3,t))}function ap(e,t){if(cp(e=U(e)))return up("Unsupported field value:",t,e),lp(e,t);if(e instanceof Xf)return function(e,t){if(!tp(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ap(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=U(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Zl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=is.fromDate(e);return{timestampValue:ru(t.serializer,n)}}if(e instanceof is){const n=new is(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ru(t.serializer,n)}}if(e instanceof $f)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Qf)return{bytesValue:iu(t.serializer,e._byteString)};if(e instanceof Ff){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:au(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Jf)return function(e,t){return{mapValue:{fields:{[xa]:{stringValue:Ea},[Ca]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return $l(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat($o(e)))}(e,t)}function lp(e,t){const n={};return Js(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$s(e,(e,r)=>{const i=ap(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function cp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof is||e instanceof $f||e instanceof Qf||e instanceof Ff||e instanceof Xf||e instanceof Jf)}function up(e,t,n){if(!cp(n)||!Xo(n)){const r=$o(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function dp(e,t,n){if((t=U(t))instanceof Yf)return t._internalPath;if("string"==typeof t)return fp(e,t);throw pp("Field path arguments must be of type string or ",e,!1,void 0,n)}const hp=new RegExp("[~\\*/\\[\\]]");function fp(e,t,n){if(t.search(hp)>=0)throw pp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Yf(...t.split("."))._internalPath}catch(r){throw pp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pp(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new ko(So.INVALID_ARGUMENT,a+e+l)}function gp(e,t){return e.some(e=>e.isEqual(t))}class mp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ff(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yp extends mp{data(){return super.data()}}function vp(e,t){return"string"==typeof t?fp(e,t):t instanceof Yf?t._internalPath:t._delegate._internalPath}function bp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ko(So.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wp{}class xp extends wp{}function Sp(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof wp&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Ep).length,n=e.filter(e=>e instanceof kp).length;if(t>1||t>0&&n>0)throw new ko(So.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class kp extends xp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new kp(e,t,n)}_apply(e){const t=this._parse(e);return Rp(e._query,t),new jf(e.firestore,e.converter,Il(e._query,t))}_parse(e){const t=ip(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ko(So.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Ap(s,o);const t=[];for(const n of s)t.push(Ip(r,e,n));a={arrayValue:{values:t}}}else a=Ip(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ap(s,o),a=sp(n,t,s,"in"===o||"not-in"===o);return Za.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Ep extends wp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ep(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:el.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Rp(n,i),n=Il(n,i)}(e._query,t),new jf(e.firestore,e.converter,Il(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cp extends xp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cp(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ko(So.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ko(So.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xa(t,n)}(e._query,this._field,this._direction);return new jf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new wl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function _p(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=vp("orderBy",e);return Cp._create(n,t)}class Tp extends xp{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Tp(e,t,n)}_apply(e){return new jf(e.firestore,e.converter,Al(e._query,this._limit,this._limitType))}}function Ip(e,t,n){if("string"==typeof(n=U(n))){if(""===n)throw new ko(So.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!El(t)&&-1!==n.indexOf("/"))throw new ko(So.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Wo.fromString(n));if(!Go.isDocumentKey(r))throw new ko(So.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return La(e,new Go(r))}if(n instanceof Ff)return La(e,n._key);throw new ko(So.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat($o(n),"."))}function Ap(e,t){if(!Array.isArray(e)||0===e.length)throw new ko(So.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Rp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ko(So.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ko(So.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Np{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ca(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw vo(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return $s(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Ca].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>ca(e.doubleValue));return new Jf(n)}convertGeoPoint(e){return new $f(ca(e.latitude),ca(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ma(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ya(e));default:return null}}convertTimestamp(e){const t=la(e);return new is(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Wo.fromString(e);wo(Au(n),9688,{name:e});const r=new wa(n.get(1),n.get(3)),i=new Go(n.popFirst(5));return r.isEqual(t)||go("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Pp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Op{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dp extends mp{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(vp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ko(So.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Dp._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Dp._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dp._jsonSchema={type:es("string",Dp._jsonSchemaVersion),bundleSource:es("string","DocumentSnapshot"),bundleName:es("string"),bundle:es("string")};class Lp extends Dp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Mp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Op(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Lp(this._firestore,this._userDataWriter,n.key,n,new Op(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ko(So.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Lp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Op(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Lp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Op(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:jp(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ko(So.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mp._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Do.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vo(61501,{type:e})}}function Fp(e){e=Jo(e,Ff);const t=Jo(e.firestore,Hf);return If(Gf(t),e._key).then(n=>Wp(t,e,n))}Mp._jsonSchemaVersion="firestore/querySnapshot/1.0",Mp._jsonSchema={type:es("string",Mp._jsonSchemaVersion),bundleSource:es("string","QuerySnapshot"),bundleName:es("string"),bundle:es("string")};class zp extends Np{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ff(this.firestore,null,t)}}function Up(e){e=Jo(e,jf);const t=Jo(e.firestore,Hf),n=Gf(t),r=new zp(t);return bp(e._query),Af(n,e._query).then(n=>new Mp(t,r,e,n))}function Vp(e,t,n){e=Jo(e,Ff);const r=Jo(e.firestore,Hf),i=Pp(e.converter,t,n);return Bp(r,[op(ip(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fc.none())])}function Bp(e,t){return function(e,t){const n=new Eo;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=gf(e);try{const e=await function(e,t){const n=xo(e),r=is.now(),i=t.reduce((e,t)=>e.add(t.key),Ql());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=zl(),l=Ql();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=bc(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Sc(e.key,t,Ha(t.value.mapValue),fc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:Bl(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Zs(Lo)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await df(r,e.changes),await uh(r.remoteStore)}catch(e){const t=Eh(e,"Failed to persist write");n.reject(t)}}(await _f(e),t,n)),n.promise}(Gf(e),t)}function Wp(e,t,n){const r=n.docs.get(t._key),i=new zp(e);return new Dp(e,i,t._key,r,new Op(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){uo=e}(tt),Xe(new V("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Hf(new Io(e.getProvider("auth-internal")),new Po(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ko(So.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(e.options.projectId,t)}(o,r),o);return i=c({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),it(ao,lo,e),it(ao,lo,"esm2020")}();const qp=nt({apiKey:"AIzaSyD8Z_6l1q5L3IJIYHrohCxuqRDuNO0ch4M",authDomain:"chicken-empire-game.firebaseapp.com",projectId:"chicken-empire-game",storageBucket:"chicken-empire-game.firebasestorage.app",messagingSenderId:"241070355339",appId:"1:241070355339:web:32fcd4dc8df78f46dcf58e",measurementId:"G-4GTRPE55WT"}),Hp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();const t=$e(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=$e(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(O(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Et(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ui,persistence:[Xr,Rr,Lr]}),r=b("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>qi)return;const r=null===t||void 0===t?void 0:t.token;Hi!==r&&(Hi=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){U(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){U(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=y("auth");return o&&Gn(n,"http://".concat(o)),n}(qp),Gp=function(e,t){const n="object"==typeof e?e:rt(),r="string"==typeof e?e:t||ba,i=$e(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=y(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Mf(i,...e)}return i}(qp);const Kp=new class{constructor(e,t){this.currentUser=null,this.isOnline=navigator.onLine,this.pendingSaves=[],this.onUserChange=e||(()=>{}),this.onConnectionChange=t||(()=>{}),function(e,t,n,r){U(e).onAuthStateChanged(t,n,r)}(Hp,e=>{this.currentUser=e,this.onUserChange(e),e?(console.log("\ud83d\udd10 User authenticated:",e.email),this.syncGameData()):console.log("\ud83d\udd10 User signed out")}),window.addEventListener("online",()=>{this.isOnline=!0,this.onConnectionChange(!0),this.syncPendingSaves(),console.log("\ud83c\udf10 Back online - syncing data...")}),window.addEventListener("offline",()=>{this.isOnline=!1,this.onConnectionChange(!1),console.log("\ud83d\udcf1 Offline mode - saving locally...")})}async registerUser(e,t,n){try{console.log("\ud83d\udcdd Creating account for:",e);const r=await async function(e,t,n){if(Je(e.app))return Promise.reject(Tt(e));const r=Dn(e),i=qn(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pr,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Er(e),t}),s=await gr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(Hp,e,t),i=r.user;return await Cr(i,{displayName:n}),await Vp(Vf(Gp,"users",i.uid),{username:n,email:e,createdAt:(new Date).toISOString(),totalPlayTime:0,highestMoney:0,gamesPlayed:0,lastActive:(new Date).toISOString()}),console.log("\u2705 Account created successfully"),{success:!0,user:i}}catch(r){return console.error("\u274c Registration failed:",r),{success:!1,error:this.getFirebaseErrorMessage(r)}}}async loginUser(e,t){try{console.log("\ud83d\udd10 Signing in:",e);const n=await function(e,t,n){return Je(e.app)?Promise.reject(Tt(e)):Sr(U(e),ar.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Er(e),t})}(Hp,e,t);return n.user&&await Vp(Vf(Gp,"users",n.user.uid),{lastActive:(new Date).toISOString()},{merge:!0}),console.log("\u2705 Login successful"),{success:!0,user:n.user}}catch(n){return console.error("\u274c Login failed:",n),{success:!1,error:this.getFirebaseErrorMessage(n)}}}async logoutUser(){try{return console.log("\ud83d\udc4b Signing out..."),await function(e){return U(e).signOut()}(Hp),{success:!0}}catch(e){return console.error("\u274c Logout failed:",e),{success:!1,error:e.message}}}async resetPassword(e){try{return await async function(e,t,n){const r=Dn(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&kr(r,i,n),await qn(r,i,"getOobCode",Zn,"EMAIL_PASSWORD_PROVIDER")}(Hp,e),{success:!0,message:"Password reset email sent successfully!"}}catch(t){console.error("Error sending password reset email: ",t);let e="Failed to send password reset email";switch(t.code){case"auth/user-not-found":e="No account found with this email address";break;case"auth/invalid-email":e="Please enter a valid email address";break;case"auth/too-many-requests":e="Too many attempts. Please try again later";break;default:e=t.message}return{success:!1,error:e}}}async saveGameData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.currentUser){const n=t?"chickenEmpire_save_".concat(t):"chickenEmpire_local";return localStorage.setItem(n,JSON.stringify(c(c({},e),{},{lastSaved:(new Date).toISOString()}))),{success:!0,location:"local"}}try{const n=c(c({},e),{},{lastSaved:(new Date).toISOString(),playerId:this.currentUser.uid,playerEmail:this.currentUser.email,playerName:this.currentUser.displayName||"Anonymous",saveName:t||"default"}),r=t?"".concat(this.currentUser.uid,"_").concat(t):this.currentUser.uid;return await Vp(Vf(Gp,"gameData",r),n),await this.updateUserStats(e),localStorage.setItem("chickenEmpire_backup",JSON.stringify(n)),console.log("\u2601\ufe0f Game saved to cloud successfully"),{success:!0,location:"cloud"}}catch(n){console.error("\u274c Cloud save failed:",n),this.pendingSaves.push({gameState:e,saveName:t});const r=t?"chickenEmpire_save_".concat(t):"chickenEmpire_local";return localStorage.setItem(r,JSON.stringify(c(c({},e),{},{lastSaved:(new Date).toISOString()}))),{success:!1,error:n.message,location:"local_fallback"}}}async loadGameData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.currentUser){const t=e?"chickenEmpire_save_".concat(e):"chickenEmpire_local",n=localStorage.getItem(t);return n?JSON.parse(n):null}try{const t=e?"".concat(this.currentUser.uid,"_").concat(e):this.currentUser.uid,n=await Fp(Vf(Gp,"gameData",t));if(n.exists()){const e=n.data(),t=localStorage.getItem("chickenEmpire_backup");if(t){const n=JSON.parse(t),r=new Date(e.lastSaved).getTime(),i=new Date(n.lastSaved).getTime();return console.log("\ud83d\udcca Comparing save times - Server:",new Date(r),"Local:",new Date(i)),i>r?n:e}return console.log("\u2601\ufe0f Game loaded from cloud"),e}if(e){const t=localStorage.getItem("chickenEmpire_save_".concat(e));return t?JSON.parse(t):null}{const e=localStorage.getItem("chickenEmpire_backup");return console.log("\ud83d\udcf1 No cloud save found, using local backup"),e?JSON.parse(e):null}}catch(t){console.error("\u274c Failed to load from cloud:",t);const n=e?"chickenEmpire_save_".concat(e):"chickenEmpire_local",r=localStorage.getItem(n);return r?JSON.parse(r):null}}async getAllSavedGames(){if(!this.currentUser)return this.getLocalSavedGames();try{const e=Sp(Uf(Gp,"gameData"),_p("lastSaved","desc")),t=await Up(e),n={};t.forEach(e=>{const t=e.data();if(t.playerId===this.currentUser.uid){const e=t.saveName||"default";n[e]=t}});const r=this.getLocalSavedGames();return c(c({},n),r)}catch(e){return console.error("\u274c Failed to get cloud saves:",e),this.getLocalSavedGames()}}getLocalSavedGames(){const e={};for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);if(r&&r.startsWith("chickenEmpire_save_")){const n=r.replace("chickenEmpire_save_","");try{const t=JSON.parse(localStorage.getItem(r));e[n]=t}catch(t){console.warn("\u26a0\ufe0f Invalid local save data for:",n)}}}return e}async deleteSavedGame(e){if(!this.currentUser)return localStorage.removeItem("chickenEmpire_save_".concat(e)),{success:!0,location:"local"};try{const n="".concat(this.currentUser.uid,"_").concat(e);return await(t=Vf(Gp,"gameData",n),Bp(Jo(t.firestore,Hf),[new _c(t._key,fc.none())])),localStorage.removeItem("chickenEmpire_save_".concat(e)),console.log("\ud83d\uddd1\ufe0f Save deleted from cloud"),{success:!0,location:"cloud"}}catch(n){return console.error("\u274c Failed to delete from cloud:",n),localStorage.removeItem("chickenEmpire_save_".concat(e)),{success:!1,error:n.message,location:"local_fallback"}}var t}async getGlobalLeaderboard(){try{const n=Sp(Uf(Gp,"gameData"),_p("money","desc"),(Zo("limit",e=100),Tp._create("limit",e,"F"))),r=await Up(n),i=[];for(const e of r.docs){const n=e.data();let r={username:"Anonymous"};if(n.playerId)try{const e=await Fp(Vf(Gp,"users",n.playerId));e.exists()&&(r=e.data())}catch(t){console.warn("\u26a0\ufe0f Could not fetch user data for leaderboard entry")}i.push({rank:i.length+1,username:n.playerName||r.username||"Anonymous",money:n.money||0,chickens:(n.chickens||0)+(n.goldenChickens||0),products:this.calculateTotalProducts(n.products||{}),lastPlayed:n.lastSaved,playTime:this.calculatePlayTime(n),isCurrentUser:this.currentUser&&n.playerId===this.currentUser.uid})}return console.log("\ud83c\udfc6 Global leaderboard loaded:",i.length,"players"),i}catch(t){return console.error("\u274c Failed to load global leaderboard:",t),[]}var e}calculateTotalProducts(e){return Object.values(e).reduce((e,t)=>e+(t||0),0)}calculatePlayTime(e){if(!e.gameStartTime)return 0;const t=new Date(e.gameStartTime).getTime(),n=e.lastSaved?new Date(e.lastSaved).getTime():Date.now();return Math.floor((n-t)/1e3/60)}async updateUserStats(e){if(this.currentUser)try{const t=Vf(Gp,"users",this.currentUser.uid),n=await Fp(t);if(n.exists()){const r=n.data(),i={highestMoney:Math.max(r.highestMoney||0,e.money||0),totalPlayTime:(r.totalPlayTime||0)+this.calculatePlayTime(e)/60,gamesPlayed:(r.gamesPlayed||0)+1,lastActive:(new Date).toISOString()};await Vp(t,i,{merge:!0})}}catch(t){console.error("\u274c Failed to update user stats:",t)}}async syncPendingSaves(){if(!this.currentUser||!this.isOnline||0===this.pendingSaves.length)return;console.log("\ud83d\udd04 Syncing",this.pendingSaves.length,"pending saves...");const e=[...this.pendingSaves];this.pendingSaves=[];for(const{gameState:n,saveName:r}of e)try{await this.saveGameData(n,r),console.log("\u2705 Synced save:",r||"default")}catch(t){console.error("\u274c Failed to sync save:",t),this.pendingSaves.push({gameState:n,saveName:r})}}async syncGameData(){}getFirebaseErrorMessage(e){switch(e.code){case"auth/email-already-in-use":return"An account with this email already exists";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/invalid-email":return"Please enter a valid email address";case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/too-many-requests":return"Too many failed attempts. Please try again later";case"auth/network-request-failed":return"Network error. Please check your connection";default:return e.message}}isAuthenticated(){return!!this.currentUser}getCurrentUser(){return this.currentUser}isOnlineStatus(){return this.isOnline}};var Qp=n(579);class Yp{constructor(){this.audioContext=null,this.backgroundMusicGain=null,this.sfxGain=null,this.backgroundOscillator=null,this.backgroundMusic=null,this.isInitialized=!1,this.isMuted=!1,this.backgroundMusicEnabled=!0,this.musicVolume=.05,this.fadeInterval=null,this.isFading=!1}async initialize(){if(!this.isInitialized)try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.backgroundMusicGain=this.audioContext.createGain(),this.backgroundMusicGain.gain.value=.1,this.backgroundMusicGain.connect(this.audioContext.destination),this.sfxGain=this.audioContext.createGain(),this.sfxGain.gain.value=.3,this.sfxGain.connect(this.audioContext.destination),this.isInitialized=!0,this.initializeBackgroundMusic()}catch(e){console.warn("Audio not supported:",e)}}initializeBackgroundMusic(){try{console.log("\ud83c\udfb5 Initializing background music..."),this.backgroundMusic=new Audio("".concat("/Chikboom","/happyfarm.mp3")),this.backgroundMusic.loop=!0,this.backgroundMusic.volume=this.musicVolume,this.backgroundMusic.preload="auto",this.backgroundMusic.addEventListener("loadstart",()=>{console.log("\ud83c\udfb5 Music loading started")}),this.backgroundMusic.addEventListener("loadeddata",()=>{console.log("\ud83c\udfb5 Music data loaded")}),this.backgroundMusic.addEventListener("canplaythrough",()=>{console.log("\ud83c\udfb5 Background music loaded successfully and ready to play")}),this.backgroundMusic.addEventListener("error",e=>{console.error("\ud83c\udfb5 Background music failed to load:",e),console.error("\ud83c\udfb5 Audio error details:",{error:e.target.error,networkState:e.target.networkState,readyState:e.target.readyState,src:e.target.src})}),this.backgroundMusic.addEventListener("play",()=>{console.log("\ud83c\udfb5 Music started playing")}),this.backgroundMusic.addEventListener("pause",()=>{console.log("\ud83c\udfb5 Music paused")}),console.log("\ud83c\udfb5 Audio element created, src:",this.backgroundMusic.src),console.log("\ud83c\udfb5 PUBLIC_URL:","/Chikboom"),console.log("\ud83c\udfb5 Full audio path:","".concat("/Chikboom","/happyfarm.mp3"))}catch(e){console.error("Could not initialize background music:",e)}}startBackgroundMusic(){var e,t;if(console.log("\ud83c\udfb5 Attempting to start background music...",{hasAudio:!!this.backgroundMusic,enabled:this.backgroundMusicEnabled,muted:this.isMuted,readyState:null===(e=this.backgroundMusic)||void 0===e?void 0:e.readyState,networkState:null===(t=this.backgroundMusic)||void 0===t?void 0:t.networkState}),this.backgroundMusic&&this.backgroundMusicEnabled&&!this.isMuted)try{this.fadeInterval&&(clearInterval(this.fadeInterval),this.isFading=!1),this.backgroundMusic.currentTime=0,console.log("\ud83c\udfb5 Calling play()...");const e=this.backgroundMusic.play();void 0!==e&&e.then(()=>{console.log("\ud83c\udfb5 Background music started, beginning 2-second fade-in..."),this.fadeIn(2e3)}).catch(e=>{console.error("\ud83c\udfb5 Could not start background music - Promise rejected:",e),console.error("\ud83c\udfb5 Error name:",e.name),console.error("\ud83c\udfb5 Error message:",e.message)})}catch(n){console.error("\ud83c\udfb5 Error starting background music - Exception:",n)}else console.log("\ud83c\udfb5 Music start blocked:",{noAudio:!this.backgroundMusic,disabled:!this.backgroundMusicEnabled,muted:this.isMuted})}stopBackgroundMusic(){if(this.backgroundMusic)try{this.fadeInterval&&(clearInterval(this.fadeInterval),this.isFading=!1),console.log("\ud83c\udfb5 Beginning 2-second fade-out..."),this.fadeOut(2e3)}catch(e){console.warn("Error stopping background music:",e)}}toggleBackgroundMusic(){return this.backgroundMusicEnabled=!this.backgroundMusicEnabled,this.backgroundMusicEnabled?this.startBackgroundMusic():this.stopBackgroundMusic(),this.backgroundMusicEnabled}setVolume(e){this.musicVolume=Math.max(0,Math.min(1,e)),this.backgroundMusic&&!this.isFading&&(this.backgroundMusic.volume=this.musicVolume),console.log("\ud83c\udfb5 Volume set to:",Math.round(100*this.musicVolume)+"%")}getVolume(){return this.musicVolume}fadeIn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;if(!this.backgroundMusic||this.isFading)return;this.isFading=!0;const t=this.musicVolume,n=e/50,r=t/50;let i=0;this.backgroundMusic.volume=0,this.fadeInterval=setInterval(()=>{i++;const e=Math.min(r*i,t);this.backgroundMusic.volume=e,(i>=50||e>=t)&&(clearInterval(this.fadeInterval),this.backgroundMusic.volume=t,this.isFading=!1,console.log("\ud83c\udfb5 Fade-in complete at",Math.round(100*t)+"%"))},n)}fadeOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;if(!this.backgroundMusic||this.isFading)return;this.isFading=!0;const t=this.backgroundMusic.volume,n=e/50,r=t/50;let i=0;this.fadeInterval=setInterval(()=>{i++;const e=Math.max(t-r*i,0);this.backgroundMusic.volume=e,(i>=50||e<=0)&&(clearInterval(this.fadeInterval),this.backgroundMusic.volume=0,this.backgroundMusic.pause(),this.isFading=!1,console.log("\ud83c\udfb5 Fade-out complete, music paused"))},n)}playClickSound(){if(this.audioContext&&!this.isMuted)try{const e=this.audioContext.createOscillator(),t=this.audioContext.createGain();e.connect(t),t.connect(this.sfxGain),e.frequency.setValueAtTime(800,this.audioContext.currentTime),e.frequency.exponentialRampToValueAtTime(400,this.audioContext.currentTime+.1),t.gain.setValueAtTime(.3,this.audioContext.currentTime),t.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+.1),e.start(),e.stop(this.audioContext.currentTime+.1)}catch(e){console.warn("Could not play click sound:",e)}}playSuccessSound(){if(this.audioContext&&!this.isMuted)try{const e=this.audioContext.createOscillator(),t=this.audioContext.createGain();e.connect(t),t.connect(this.sfxGain),e.frequency.setValueAtTime(523,this.audioContext.currentTime),e.frequency.setValueAtTime(659,this.audioContext.currentTime+.1),e.frequency.setValueAtTime(784,this.audioContext.currentTime+.2),t.gain.setValueAtTime(.3,this.audioContext.currentTime),t.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+.3),e.start(),e.stop(this.audioContext.currentTime+.3)}catch(e){console.warn("Could not play success sound:",e)}}playWarningSound(){if(this.audioContext&&!this.isMuted)try{const e=this.audioContext.createOscillator(),t=this.audioContext.createGain();e.connect(t),t.connect(this.sfxGain),e.frequency.setValueAtTime(300,this.audioContext.currentTime),e.frequency.setValueAtTime(250,this.audioContext.currentTime+.15),t.gain.setValueAtTime(.4,this.audioContext.currentTime),t.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+.3),e.start(),e.stop(this.audioContext.currentTime+.3)}catch(e){console.warn("Could not play warning sound:",e)}}toggleMute(){return this.isMuted=!this.isMuted,this.isMuted?this.stopBackgroundMusic():this.backgroundMusicEnabled&&this.startBackgroundMusic(),this.isMuted}}const Xp={boiledEggs:{icon:"\ud83e\udd5a",name:"Boiled Eggs",eggCost:1,goldenEggCost:0,chickenCost:0,baseTime:3e3,sellPrice:25},scrambledEggs:{icon:"\ud83c\udf73",name:"Scrambled Eggs",eggCost:1,goldenEggCost:0,chickenCost:0,baseTime:5e3,sellPrice:35},omelet:{icon:"\ud83e\uddc8",name:"Omelet",eggCost:2,goldenEggCost:0,chickenCost:0,baseTime:15e3,sellPrice:75},eggSalad:{icon:"\ud83e\udd57",name:"Egg Salad",eggCost:3,goldenEggCost:0,chickenCost:0,baseTime:25e3,sellPrice:120},sandwich:{icon:"\ud83e\udd6a",name:"Sandwich",eggCost:2,goldenEggCost:0,chickenCost:1,baseTime:3e4,sellPrice:140},custard:{icon:"\ud83c\udf6e",name:"Custard",eggCost:4,goldenEggCost:1,chickenCost:0,baseTime:9e4,sellPrice:320},friedChicken:{icon:"\ud83c\udf57",name:"Fried Chicken",eggCost:2,goldenEggCost:0,chickenCost:2,baseTime:45e3,sellPrice:210},chickenWrap:{icon:"\ud83c\udf2f",name:"Chicken Wrap",eggCost:3,goldenEggCost:0,chickenCost:2,baseTime:6e4,sellPrice:280},chickenCurry:{icon:"\ud83c\udf5b",name:"Chicken Curry",eggCost:2,goldenEggCost:1,chickenCost:2,baseTime:9e4,sellPrice:380},roastChicken:{icon:"\ud83c\udf56",name:"Roast Chicken",eggCost:1,goldenEggCost:0,chickenCost:3,baseTime:12e4,sellPrice:450},gourmetBurger:{icon:"\ud83c\udf54",name:"Gourmet Burger",eggCost:4,goldenEggCost:1,chickenCost:3,baseTime:18e4,sellPrice:750},eggsBenedict:{icon:"\ud83c\udf7d\ufe0f",name:"Eggs Benedict",eggCost:6,goldenEggCost:2,chickenCost:0,baseTime:24e4,sellPrice:950},truffleOmelet:{icon:"\ud83e\udd5a",name:"Truffle Omelet",eggCost:5,goldenEggCost:3,chickenCost:0,baseTime:3e5,sellPrice:1200},goldenSouffle:{icon:"\ud83e\udd5e",name:"Golden Souffl\xe9",eggCost:3,goldenEggCost:5,chickenCost:0,baseTime:36e4,sellPrice:1400},chickenWellington:{icon:"\ud83e\udd69",name:"Chicken Wellington",eggCost:6,goldenEggCost:2,chickenCost:4,baseTime:42e4,sellPrice:1650},bbqChickenPlatter:{icon:"\ud83d\udd25",name:"BBQ Chicken Platter",eggCost:8,goldenEggCost:2,chickenCost:5,baseTime:48e4,sellPrice:1900},imperialBanquet:{icon:"\ud83d\udc51",name:"Imperial Banquet",eggCost:12,goldenEggCost:8,chickenCost:6,baseTime:6e5,sellPrice:2800}};const $p=function(){var e,t,n,i,o,s,a,l,u,d,h,f;const p=(0,r.useRef)(null),g=(0,r.useRef)(null),m=(0,r.useRef)(!1),y={fontSize:"20px",fontWeight:"800",fontFamily:"Alan Sans, Arial, sans-serif",letterSpacing:"-0.5px"},v={fontSize:"14px",fontWeight:"700",fontFamily:"Alan Sans, Arial, sans-serif",letterSpacing:"0.5px"},b={fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif"},w={fontSize:"10px",fontWeight:"500",fontFamily:"Alan Sans, Arial, sans-serif"},x={fontSize:"9px",fontWeight:"400",fontFamily:"Alan Sans, Arial, sans-serif"},S={fontSize:"8px",fontWeight:"500",fontFamily:"Alan Sans, Arial, sans-serif"},k={fontSize:"9px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif"},E={orange:"#ff6b35",orangeLight:"#ff8c69",orangeDark:"#e55a2b",green:"#10b981",greenLight:"#34d399",greenDark:"#059669",textPrimary:"#1f2937",textSecondary:"#6b7280",textLight:"#ffffff",cardBg:"#ffffff",panelBg:"#ffffff",sectionBg:"#ffffff",disabled:"#d1d5db",disabledText:"#9ca3af",shadow:"0 2px 8px rgba(0, 0, 0, 0.06)",shadowLarge:"0 4px 12px rgba(0, 0, 0, 0.08)",borderRadius:"12px",borderRadiusLarge:"16px"},[C,_]=(0,r.useState)(()=>!!localStorage.getItem("chickenEmpireState")),[T,I]=(0,r.useState)(!0),[A,R]=(0,r.useState)(""),[N,P]=(0,r.useState)(""),[O,D]=(0,r.useState)(!1),[L,M]=(0,r.useState)(()=>{const e=localStorage.getItem("chickenEmpireState"),t={money:20,chickens:3,goldenChickens:0,feed:30,eggInventory:0,goldenEggInventory:0,readyEggs:0,readyGoldenEggs:0,lastEggTime:Date.now(),lastUpdate:Date.now(),products:{},productionQueue:[],productionSlots:1,cooks:1,kitchenUpgrades:0,breedingQueue:[],autoCollector:{isActive:!1,remainingTime:0,level:1},transactions:[],gameDay:1,restaurants:{count:1,maxCount:4,counters:{count:1,maxCount:3}},customerQueue:[],activeOrders:[],nextCustomerTime:null,customerInterval:12e4,completedOrders:0,restaurantUnlocked:!1,autoFeeder:{owned:!1,isActive:!1,feedThreshold:50,lastPurchaseTime:0},reachedMilestones:[]};if(e){const n=JSON.parse(e);return c(c(c({},t),n),{},{restaurants:n.restaurants||t.restaurants,customerQueue:n.customerQueue||[],activeOrders:n.activeOrders||[],completedOrders:n.completedOrders||0,restaurantUnlocked:n.restaurantUnlocked||!1,autoFeeder:n.autoFeeder||t.autoFeeder,reachedMilestones:n.reachedMilestones||[]})}return t}),[j,F]=(0,r.useState)(!1),[z,U]=(0,r.useState)(!1),[V,B]=(0,r.useState)(!1),[W,q]=(0,r.useState)(!1),[H,G]=(0,r.useState)(!1),[K,Q]=(0,r.useState)(!1),[Y,X]=(0,r.useState)(""),[$,J]=(0,r.useState)(""),[Z,ee]=(0,r.useState)(null),[te,ne]=(0,r.useState)(navigator.onLine),[re,ie]=(0,r.useState)("login"),[oe,se]=(0,r.useState)(""),[ae,le]=(0,r.useState)(""),[ce,ue]=(0,r.useState)(""),[de,he]=(0,r.useState)(!1),[fe,pe]=(0,r.useState)([]),[ge,me]=(0,r.useState)(!1),[ye,ve]=(0,r.useState)({}),[be,we]=(0,r.useState)([]),[xe,Se]=(0,r.useState)(!0),[ke,Ee]=(0,r.useState)(5),[Ce,_e]=(0,r.useState)(!1),[Te,Ie]=(0,r.useState)(!1),[Ae,Re]=(0,r.useState)(window.innerWidth<=768),[Ne,Pe]=(0,r.useState)(window.innerWidth>768&&window.innerWidth<=1024),[Oe,De]=(0,r.useState)([]),[Le,Me]=(0,r.useState)({lowFeed:!1,lowChickens:!1,noEggs:!1,lowMoney:!1}),[je,Fe]=(0,r.useState)([]),[ze,Ue]=(0,r.useState)([]),[Ve]=(0,r.useState)(()=>new Yp);(0,r.useEffect)(()=>(Kp.onUserChange=e=>{ee(e),e&&We("\ud83d\udc4b Welcome back, ".concat(e.displayName||e.email,"!"),E.green)},Kp.onConnectionChange=e=>{ne(e),e?We("\ud83c\udf10 Back online - syncing data...",E.green):We("\ud83d\udcf1 Playing offline",E.orange)},Be(),()=>{p.current&&clearInterval(p.current),g.current&&clearInterval(g.current)}),[]),(0,r.useEffect)(()=>{const e=()=>{const e=window.innerWidth;Re(e<=768),Pe(e>768&&e<=1024)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const Be=async()=>{await Ve.initialize();const e=()=>{xe&&Ve.startBackgroundMusic(),document.removeEventListener("click",e),document.removeEventListener("keydown",e)};document.addEventListener("click",e),document.addEventListener("keydown",e),p.current=setInterval(()=>{M(e=>{var t,n;if(m.current)return e;const r=Date.now(),i=Math.min(r-e.lastUpdate,6e4);let o=c(c({},e),{},{lastUpdate:r});if(o.chickens>0||o.goldenChickens>0){const e=(o.chickens+o.goldenChickens)*i/1e4;o.feed=Math.max(0,o.feed-e)}if(o.productionQueue=o.productionQueue.filter(e=>!(r>=e.endTime)||(o.products[e.recipeId]||(o.products[e.recipeId]=0),o.products[e.recipeId]++,!1)),o.breedingQueue=o.breedingQueue.filter(e=>!(r>=e.endTime)||(o.goldenChickens++,!1)),o.autoCollector.isActive)if(o.autoCollector.remainingTime=Math.max(0,o.autoCollector.remainingTime-100),o.autoCollector.remainingTime<=0)o.autoCollector.isActive=!1;else{const e=(e=>{switch(e){case 1:return 15;case 2:return 12;case 3:return 9;case 4:return 6;case 5:return 4;default:return Math.max(2,15-2*(e-1))}})(o.autoCollector.level||1),t=o.readyEggs+o.readyGoldenEggs;if(t>=e){o.readyEggs,o.readyGoldenEggs;o.eggInventory+=o.readyEggs,o.goldenEggInventory+=o.readyGoldenEggs,o.readyEggs=0,o.readyGoldenEggs=0;const e=o.autoCollector.lastNotification||0;r-e>3e3&&(We("\ud83e\udd16 Auto-collected ".concat(t," eggs!"),E.green),o.autoCollector.lastNotification=r)}}if(null!==(t=o.autoFeeder)&&void 0!==t&&t.owned&&null!==(n=o.autoFeeder)&&void 0!==n&&n.isActive){var s,a;const e=(null===(s=o.autoFeeder)||void 0===s?void 0:s.feedThreshold)||50,t=r-((null===(a=o.autoFeeder)||void 0===a?void 0:a.lastPurchaseTime)||0);if(o.feed<e&&t>1e4){const e=Ke(o.money,o.chickens+o.goldenChickens,o.feed);if(e&&o.money>=e.cost){var l;o.money-=e.cost,o.feed+=e.amount,o.autoFeeder&&(o.autoFeeder.lastPurchaseTime=r);const t=(null===(l=o.autoFeeder)||void 0===l?void 0:l.lastFeedNotification)||0;r-t>5e3&&(We("\ud83e\udd16 Auto-bought ".concat(e.amount," feed ($").concat(e.cost,")"),E.orange),qe("auto-feed","Auto-Feeder: ".concat(e.type," pack"),-e.cost),o.autoFeeder&&(o.autoFeeder.lastFeedNotification=r))}}}return et.forEach(e=>{o.money>=e&&!o.reachedMilestones.includes(e)&&(o.reachedMilestones.push(e),setTimeout(()=>tt(e),100))}),setTimeout(()=>nt(o),50),o})},100),g.current=setInterval(()=>{M(e=>(localStorage.setItem("chickenEmpireState",JSON.stringify(e)),e))},5e3)};(0,r.useEffect)(()=>{const e=setInterval(()=>{m.current||M(e=>{if(e.feed<=0)return e;let t=c({},e);return e.chickens>0&&(t.readyEggs+=1),e.goldenChickens>0&&(t.readyGoldenEggs+=1),t})},6e3/(L.chickens+L.goldenChickens||1));return()=>clearInterval(e)},[L.chickens,L.goldenChickens]),(0,r.useEffect)(()=>{Math.min(L.chickens+L.goldenChickens,10);const e=[];for(let t=0;t<Math.min(L.chickens,8);t++){const n=2*(Math.random()-.5);e.push({id:t,type:"regular",x:70*Math.random()+15,y:60*Math.random()+30,dx:n,dy:2*(Math.random()-.5),facingLeft:n>0})}for(let t=0;t<Math.min(L.goldenChickens,4);t++){const n=2*(Math.random()-.5);e.push({id:1e3+t,type:"golden",x:70*Math.random()+15,y:60*Math.random()+30,dx:n,dy:2*(Math.random()-.5),facingLeft:n>0})}Fe(e)},[L.chickens,L.goldenChickens]),(0,r.useEffect)(()=>{if(Te)return;const e=setInterval(()=>{Fe(e=>e.map(e=>{let{x:t,y:n,dx:r,dy:i,facingLeft:o}=e;return t+=.5*r,n+=.5*i,(t<=10||t>=85)&&(r=-r,o=r>0),(n<=25||n>=85)&&(i=-i),t=Math.max(10,Math.min(85,t)),n=Math.max(25,Math.min(85,n)),Math.random()<.02&&(r=2*(Math.random()-.5),i=2*(Math.random()-.5),o=r>0),c(c({},e),{},{x:t,y:n,dx:r,dy:i,facingLeft:o})}))},100);return()=>clearInterval(e)},[Te,je.length]),(0,r.useEffect)(()=>{L.money>=5e3&&!L.restaurantUnlocked&&(M(e=>c(c({},e),{},{restaurantUnlocked:!0,activeOrders:e.activeOrders||[],customerQueue:e.customerQueue||[],restaurants:e.restaurants||{count:1,maxCount:4,counters:{count:1,maxCount:3}}})),We("\ud83d\ude80 Restaurant Unlocked! Customers will start arriving!",E.orange),We("\ud83d\udc65 First customer arriving soon...",E.green))},[L.money,L.restaurantUnlocked]),(0,r.useEffect)(()=>{if(!L.restaurantUnlocked||Te||!L.restaurants)return;const e=setInterval(()=>{M(e=>{if(!e.restaurants||!e.activeOrders)return e;const t=e.restaurants.count*e.restaurants.counters.count;if(e.activeOrders.length<t){const t=lt(),n=ct(t,e);if(n){const t=c(c({},e),{},{activeOrders:[...e.activeOrders,n]});return We("\ud83d\udc64 ".concat(n.name," wants ").concat(n.orderName,"!"),E.orange),Ve.playClickSound(),t}}return e})},1e4);return()=>clearInterval(e)},[L.restaurantUnlocked,Te]),(0,r.useEffect)(()=>{if(!L.restaurantUnlocked||!L.activeOrders||0===L.activeOrders.length||Te)return;const e=setInterval(()=>{const e=Date.now();M(t=>{if(!t.activeOrders||!Array.isArray(t.activeOrders))return t;const n=t.activeOrders.filter(t=>e-t.arrivalTime>t.timeLimit);if(n.length>0){var r;const i=c(c({},t),{},{activeOrders:t.activeOrders.filter(t=>e-t.arrivalTime<=t.timeLimit)});return n.forEach(e=>{We("\ud83d\udca5 ".concat(e.name," left angry!"),"#ef4444"),qe("missed","Lost customer: ".concat(e.name),-Math.floor(.1*e.value))}),null===(r=Ve.playErrorSound)||void 0===r||r.call(Ve),i}return t})},1e4);return()=>clearInterval(e)},[L.restaurantUnlocked,null===(e=L.activeOrders)||void 0===e?void 0:e.length,Te]),(0,r.useEffect)(()=>{if(L.activeOrders&&Array.isArray(L.activeOrders)){const e=L.activeOrders.map(e=>({id:e.id,name:e.name,x:20+60*(e.assignedCounter-1),y:50,status:e.status}));Ue(e)}else Ue([])},[L.activeOrders]);const We=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#16a34a";const n=Date.now()+Math.random(),r=window.innerWidth/2+200*(Math.random()-.5),i=window.innerHeight/2;we(o=>[...o,{id:n,text:e,color:t,x:r,y:i}]),setTimeout(()=>{we(e=>e.filter(e=>e.id!==n))},2e3)},qe=(e,t,n)=>{const r={id:Date.now(),type:e,description:t,amount:n,timestamp:(new Date).toLocaleTimeString()};M(e=>c(c({},e),{},{transactions:[r,...e.transactions].slice(0,50)}))},He=e=>{if(Te)return void We("\u23f8\ufe0f Game is frozen!","#6b7280");Ve.playClickSound();const t={small:50,large:250},n={small:100,large:600};M(r=>{const i=t[e];if(r.money<i)return Ve.playWarningSound(),r;const o=c(c({},r),{},{money:r.money-i,feed:r.feed+n[e]});return qe("buy","Bought ".concat(e," feed pack (+").concat(n[e],")"),-i),We("+".concat(n[e]," \ud83c\udf3e Feed!")),Ve.playSuccessSound(),o})},Ge=e=>{switch(e){case 1:return 15;case 2:return 12;case 3:return 9;case 4:return 6;case 5:return 4;default:return Math.max(2,15-2*(e-1))}},Ke=(e,t,n)=>{const r=.2*t,i=n/Math.max(r,.1),o=[{type:"small",amount:100,cost:50,efficiency:2},{type:"large",amount:500,cost:250,efficiency:2},{type:"bulk",amount:2e3,cost:800,efficiency:2.5}].filter(t=>e>=t.cost);return 0===o.length?null:i<1?o[0]:t<10?o.find(e=>"small"===e.type)||o[0]:t<50?o.find(e=>"large"===e.type)||o[o.length-1]:o.find(e=>"bulk"===e.type)||o[o.length-1]},Qe=()=>{R(""),P(""),D(!1)},Ye=async e=>{if(e.preventDefault(),Qe(),oe&&oe.includes("@"))if("reset"===re||ae&&!(ae.length<6))if("register"!==re||ce&&!(ce.trim().length<2)){he(!0);try{let e;"register"===re?(e=await Kp.registerUser(oe,ae,ce.trim()),e.success?(P("Account created successfully! Welcome to Chicken Empire!"),setTimeout(()=>{Q(!1),Qe()},2e3)):R(e.error)):"login"===re?(e=await Kp.loginUser(oe,ae),e.success?(P("Welcome back! Loading your empire..."),setTimeout(()=>{Q(!1),Qe()},1500)):R(e.error)):"reset"===re&&(e=await Kp.resetPassword(oe),e.success?(D(!0),P(e.message)):R(e.error))}catch(t){R("An unexpected error occurred. Please try again."),console.error("Auth error:",t)}finally{he(!1)}}else R("Username must be at least 2 characters long");else R("Password must be at least 6 characters long");else R("Please enter a valid email address")},Xe=e=>{ie(e),Qe(),le(""),"register"!==e&&ue("")},$e=()=>{I(!1),C||(_(!0),localStorage.setItem("chickenEmpire_gameStarted","true"))},Je=function(){ie(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login"),Qe(),Q(!0)},Ze=()=>{Q(!1),Qe(),se(""),le(""),ue("")},et=[1e3,2e3,5e3,1e4,25e3,5e4,1e5,25e4,5e5,1e6],tt=e=>{const t={id:Date.now()+Math.random(),milestone:e,timestamp:Date.now(),particles:Array.from({length:20},(e,t)=>({id:t,x:100*Math.random(),y:100*Math.random(),vx:4*(Math.random()-.5),vy:4*(Math.random()-.5),color:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"][Math.floor(6*Math.random())],emoji:["\ud83c\udf89","\ud83d\udcb0","\ud83c\udfc6","\u2b50","\ud83c\udf8a","\ud83c\udf1f"][Math.floor(6*Math.random())]}))};De(e=>[...e,t]),setTimeout(()=>{De(e=>e.filter(e=>e.id!==t.id))},4e3),console.log("\ud83c\udf89 Milestone reached: $".concat(e.toLocaleString(),"!")),Ve.playSuccessSound()},nt=e=>{const t={lowFeed:e.feed<1.5*(e.chickens+e.goldenChickens),lowChickens:e.chickens+e.goldenChickens<3,noEggs:e.eggs<1,lowMoney:e.money<50};Me(t)},rt=()=>ye,it=async e=>{if(!e||""===e.trim())return void We("\u274c Please enter a valid name!",E.red);const t=e.trim().substring(0,20);he(!0);const n=c(c({},L),{},{playerName:t,savedAt:(new Date).toISOString(),playTime:Date.now()-L.gameStartTime||0});try{const e=await Kp.saveGameData(n,t);e.success?(J(t),q(!1),"cloud"===e.location?We('\u2601\ufe0f Game saved as "'.concat(t,'"!'),E.green):"local_fallback"===e.location?We('\ud83d\udcbe Saved locally as "'.concat(t,'" - will sync when online'),E.orange):We('\ud83d\udcbe Game saved as "'.concat(t,'"!'),E.green),Ve.playSuccessSound()):We("\u274c Save failed: ".concat(e.error),E.red)}catch(r){We("\u274c Save failed! Try again.",E.red),console.error("Save failed:",r)}finally{he(!1)}},ot=async()=>{try{const e=await Kp.getGlobalLeaderboard();if(e.length>0)return e.slice(0,10);const t=rt(),n=Object.entries(t).map(e=>{let[t,n]=e;return{name:t,username:t,money:n.money||0,chickens:(n.chickens||0)+(n.goldenChickens||0),products:Object.values(n.products||{}).reduce((e,t)=>e+t,0),lastPlayed:n.savedAt||(new Date).toISOString(),playTime:Math.floor((n.playTime||0)/1e3/60),isCurrentUser:!1}}).sort((e,t)=>t.money-e.money).slice(0,10);return n}catch(e){return console.error("Failed to generate leaderboard:",e),[]}},st=()=>{localStorage.removeItem("chickenEmpireState"),_(!1),B(!1);const e={money:20,chickens:3,goldenChickens:0,feed:30,eggInventory:0,goldenEggInventory:0,readyEggs:0,readyGoldenEggs:0,lastEggTime:Date.now(),lastUpdate:Date.now(),products:{},productionQueue:[],productionSlots:1,cooks:1,kitchenUpgrades:0,breedingQueue:[],autoCollector:{isActive:!1,remainingTime:0,level:1},transactions:[],gameDay:1,restaurants:{count:1,maxCount:4,counters:{count:1,maxCount:3}},customerQueue:[],activeOrders:[],nextCustomerTime:null,customerInterval:12e4,completedOrders:0,restaurantUnlocked:!1};M(e),We("\ud83d\udd04 Game Reset!",E.orange)},at=["Alice","Bob","Carol","David","Eve","Frank","Grace","Henry","Isabella","Jake","Kate","Liam","Mia","Noah","Olivia","Paul","Quinn","Ruby","Sam","Tara","Uma","Victor","Wendy","Xander"],lt=()=>{const e=Object.keys(Xp),t=e[Math.floor(Math.random()*e.length)],n=at[Math.floor(Math.random()*at.length)],r=Xp[t],i=r.baseTime,o=i+.5*i;return{id:"customer-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),name:n,recipe:t,orderName:r.name,icon:r.icon,value:r.sellPrice,timeLimit:o,cookingTime:i,arrivalTime:Date.now(),status:"ordering",position:{x:50,y:100},assignedCounter:null,needsCooking:!0}},ct=(e,t)=>{if(!t.restaurants||!t.activeOrders)return null;const n=t.restaurants.count*t.restaurants.counters.count,r=t.activeOrders.length;return r<n?c(c({},e),{},{status:"ordering",assignedCounter:r+1}):null},ut=e=>{Te?We("\u23f8\ufe0f Game is frozen!","#6b7280"):(Ve.playClickSound(),M(t=>{if(!t.activeOrders||!Array.isArray(t.activeOrders))return t;const n=t.activeOrders.find(t=>t.id===e);if(!n)return t;const r=Xp[n.recipe];if(!r)return t;if((t.products[n.recipe]||0)<=0)return We("\ud83c\udf73 ".concat(r.name," not ready! Cook it in the Kitchen first."),"#ef4444"),Ve.playWarningSound(),t;const i=c(c({},t),{},{money:t.money+r.sellPrice,products:c(c({},t.products),{},{[n.recipe]:t.products[n.recipe]-1}),activeOrders:t.activeOrders.filter(t=>t.id!==e),completedOrders:(t.completedOrders||0)+1});return qe("sale","Served ".concat(n.name,": ").concat(r.name),r.sellPrice),We("+$".concat(r.sellPrice," ").concat(n.name," satisfied!"),E.green),Ve.playSuccessSound(),i}))};return(0,r.useEffect)(()=>{z&&(async()=>{me(!0);try{const e=await ot();pe(e)}catch(e){console.error("Failed to load leaderboard:",e),pe([])}finally{me(!1)}})()},[z]),(0,r.useEffect)(()=>{H&&(async()=>{try{const e=await Kp.getAllSavedGames();ve(e)}catch(e){console.error("Failed to load saved games:",e),ve({})}})()},[H]),T||!C?(0,Qp.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh",fontFamily:"Alan Sans, Arial, sans-serif",position:"relative",width:"100vw",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[(0,Qp.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.1"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")',animation:"float 20s ease-in-out infinite",opacity:.3}}),(0,Qp.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:Ae?"16px":"24px",padding:Ae?"24px":Ne?"36px":"48px",maxWidth:"600px",width:Ae?"95%":"90%",maxHeight:Ae?"95vh":"auto",overflowY:Ae?"auto":"visible",textAlign:"center",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",position:"relative"},children:[(0,Qp.jsxs)("div",{style:{marginBottom:"32px",position:"relative"},children:[(0,Qp.jsx)("h1",{style:{fontSize:Ae?"32px":Ne?"40px":"48px",fontWeight:"bold",margin:"0 0 16px 0",background:"linear-gradient(135deg, #ff6b6b, #ffd93d, #6bcf7f)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:"\ud83d\udc14 CHICKEN EMPIRE \ud83d\udc14"}),(0,Qp.jsx)("p",{style:{fontSize:Ae?"14px":Ne?"16px":"18px",color:"#666",margin:"0",fontStyle:"italic"},children:"Build your feathered fortune from scratch!"})]}),Z?(0,Qp.jsxs)("div",{style:{background:"linear-gradient(135deg, #4CAF50, #45a049)",color:"white",padding:"16px 24px",borderRadius:"16px",marginBottom:"32px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",boxShadow:"0 4px 12px rgba(76, 175, 80, 0.3)"},children:[(0,Qp.jsx)("span",{style:{fontSize:"20px"},children:"\ud83d\udc64"}),(0,Qp.jsxs)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:["Welcome back, ",Z.displayName||Z.email,"!"]})]}):(0,Qp.jsx)("div",{style:{background:"linear-gradient(135deg, #2196F3, #1976D2)",color:"white",padding:"16px 24px",borderRadius:"16px",marginBottom:"32px",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.3)"},children:(0,Qp.jsx)("p",{style:{margin:"0",fontSize:"16px"},children:"Sign in to save your progress and compete on the leaderboard!"})}),(0,Qp.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginBottom:"32px"},children:[Z?(0,Qp.jsxs)(Qp.Fragment,{children:[(0,Qp.jsx)("button",{onClick:()=>{C&&!window.confirm("Starting a new game will reset your current progress. Continue?")||(st(),$e())},style:{background:"linear-gradient(135deg, #FF6B6B, #FF5722)",color:"white",border:"none",padding:Ae?"16px 24px":"20px 32px",fontSize:Ae?"16px":"20px",fontWeight:"bold",borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 8px 24px rgba(255, 107, 107, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",minHeight:Ae?"56px":"auto",width:Ae?"100%":"auto"},onMouseEnter:e=>{Ae||(e.target.style.transform="translateY(-2px) scale(1.05)",e.target.style.boxShadow="0 12px 32px rgba(255, 107, 107, 0.6)")},onMouseLeave:e=>{Ae||(e.target.style.transform="translateY(0) scale(1)",e.target.style.boxShadow="0 8px 24px rgba(255, 107, 107, 0.4)")},children:"\ud83d\ude80 START NEW GAME"}),(0,Qp.jsx)("button",{onClick:()=>G(!0),style:{background:"linear-gradient(135deg, #9333ea, #7c3aed)",color:"white",border:"none",padding:Ae?"16px 24px":"20px 32px",fontSize:Ae?"16px":"20px",fontWeight:"bold",borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 8px 24px rgba(147, 51, 234, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",minHeight:Ae?"56px":"auto",width:Ae?"100%":"auto"},onMouseEnter:e=>{Ae||(e.target.style.transform="translateY(-2px) scale(1.05)",e.target.style.boxShadow="0 12px 32px rgba(147, 51, 234, 0.6)")},onMouseLeave:e=>{Ae||(e.target.style.transform="translateY(0) scale(1)",e.target.style.boxShadow="0 8px 24px rgba(147, 51, 234, 0.4)")},children:"\ud83d\udcc2 LOAD GAME"})]}):(0,Qp.jsx)("button",{onClick:$e,style:{background:"linear-gradient(135deg, #FF6B6B, #FF5722)",color:"white",border:"none",padding:Ae?"16px 24px":"20px 32px",fontSize:Ae?"16px":"20px",fontWeight:"bold",borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 8px 24px rgba(255, 107, 107, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",minHeight:Ae?"56px":"auto",width:Ae?"100%":"auto"},onMouseEnter:e=>{Ae||(e.target.style.transform="translateY(-2px) scale(1.05)",e.target.style.boxShadow="0 12px 32px rgba(255, 107, 107, 0.6)")},onMouseLeave:e=>{Ae||(e.target.style.transform="translateY(0) scale(1)",e.target.style.boxShadow="0 8px 24px rgba(255, 107, 107, 0.4)")},children:"\ud83c\udfae PLAY AS GUEST"}),Z?(0,Qp.jsx)("button",{onClick:async()=>{(await Kp.logoutUser()).success&&ee(null)},style:{background:"linear-gradient(135deg, #FF9800, #F57C00)",color:"white",border:"none",padding:"16px 24px",fontSize:"16px",fontWeight:"bold",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(255, 152, 0, 0.3)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 16px rgba(255, 152, 0, 0.5)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(255, 152, 0, 0.3)"},children:"\ud83d\udeaa LOGOUT"}):(0,Qp.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",flexDirection:Ae?"column":"row"},children:[(0,Qp.jsx)("button",{onClick:()=>Je("login"),style:{background:"linear-gradient(135deg, #4CAF50, #45a049)",color:"white",border:"none",padding:Ae?"14px 20px":"16px 24px",fontSize:Ae?"15px":"16px",fontWeight:"bold",borderRadius:"12px",cursor:"pointer",flex:1,minWidth:Ae?"100%":"140px",minHeight:Ae?"48px":"auto",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(76, 175, 80, 0.3)"},onMouseEnter:e=>{Ae||(e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 16px rgba(76, 175, 80, 0.5)")},onMouseLeave:e=>{Ae||(e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(76, 175, 80, 0.3)")},children:"\ud83d\udd11 LOGIN"}),(0,Qp.jsx)("button",{onClick:()=>Je("register"),style:{background:"linear-gradient(135deg, #2196F3, #1976D2)",color:"white",border:"none",padding:Ae?"14px 20px":"16px 24px",fontSize:Ae?"15px":"16px",fontWeight:"bold",borderRadius:"12px",cursor:"pointer",flex:1,minWidth:Ae?"100%":"140px",minHeight:Ae?"48px":"auto",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.3)"},onMouseEnter:e=>{Ae||(e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 16px rgba(33, 150, 243, 0.5)")},onMouseLeave:e=>{Ae||(e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px rgba(33, 150, 243, 0.3)")},children:"\ud83d\udcdd REGISTER"})]})]}),(0,Qp.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.05)",borderRadius:"16px",padding:"24px",marginTop:"24px"},children:[(0,Qp.jsx)("h3",{style:{margin:"0 0 16px 0",color:"#333",fontSize:"18px",fontWeight:"bold"},children:"\ud83c\udf1f Game Features"}),(0,Qp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"12px",fontSize:"14px",color:"#666"},children:[(0,Qp.jsx)("div",{children:"\ud83d\udc14 Raise Chickens"}),(0,Qp.jsx)("div",{children:"\ud83e\udd5a Collect Eggs"}),(0,Qp.jsx)("div",{children:"\ud83d\udc68\u200d\ud83c\udf73 Cook Recipes"}),(0,Qp.jsx)("div",{children:"\ud83c\udfea Run Restaurants"}),(0,Qp.jsx)("div",{children:"\ud83d\udcb0 Build Fortune"}),(0,Qp.jsx)("div",{children:"\ud83c\udfc6 Global Leaderboard"})]})]})]}),K&&(0,Qp.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(8px)"},children:(0,Qp.jsxs)("div",{style:{background:"white",borderRadius:"24px",padding:"48px",maxWidth:"450px",width:"90%",position:"relative",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)",animation:"modalSlideIn 0.3s ease-out"},children:[(0,Qp.jsx)("button",{onClick:Ze,style:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"8px",borderRadius:"50%",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.background="#f0f0f0",e.target.style.transform="rotate(90deg)"},onMouseLeave:e=>{e.target.style.background="none",e.target.style.transform="rotate(0)"},children:"\xd7"}),(0,Qp.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},children:[(0,Qp.jsx)("h2",{style:{margin:"0 0 8px 0",fontSize:"28px",fontWeight:"bold",color:"#333"},children:"login"===re?"\ud83d\udd11 Welcome Back!":"register"===re?"\ud83d\udcdd Join the Empire!":"\ud83d\udd12 Reset Password"}),(0,Qp.jsx)("p",{style:{margin:"0",color:"#666",fontSize:"16px"},children:"login"===re?"Sign in to continue your chicken empire":"register"===re?"Create your account to get started":"Enter your email to reset your password"})]}),N&&(0,Qp.jsxs)("div",{style:{background:"linear-gradient(135deg, #4CAF50, #45a049)",color:"white",padding:"16px",borderRadius:"12px",marginBottom:"24px",textAlign:"center",fontWeight:"bold",boxShadow:"0 4px 12px rgba(76, 175, 80, 0.3)"},children:["\u2705 ",N]}),A&&(0,Qp.jsxs)("div",{style:{background:"linear-gradient(135deg, #f44336, #d32f2f)",color:"white",padding:"16px",borderRadius:"12px",marginBottom:"24px",textAlign:"center",fontWeight:"bold",boxShadow:"0 4px 12px rgba(244, 67, 54, 0.3)"},children:["\u274c ",A]}),O&&(0,Qp.jsx)("div",{style:{background:"linear-gradient(135deg, #2196F3, #1976D2)",color:"white",padding:"16px",borderRadius:"12px",marginBottom:"24px",textAlign:"center",fontWeight:"bold",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.3)"},children:"\ud83d\udce7 Check your email for password reset instructions!"}),(0,Qp.jsxs)("form",{onSubmit:Ye,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("label",{style:{display:"block",color:"#333",fontWeight:"bold",marginBottom:"8px",fontSize:"14px"},children:"Email Address"}),(0,Qp.jsx)("input",{type:"email",value:oe,onChange:e=>se(e.target.value),placeholder:"Enter your email",required:!0,style:{width:"100%",padding:"16px",border:"2px solid #e0e0e0",borderRadius:"12px",fontSize:"16px",fontFamily:"inherit",transition:"border-color 0.3s ease",boxSizing:"border-box"},onFocus:e=>e.target.style.borderColor="#2196F3",onBlur:e=>e.target.style.borderColor="#e0e0e0"})]}),"register"===re&&(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("label",{style:{display:"block",color:"#333",fontWeight:"bold",marginBottom:"8px",fontSize:"14px"},children:"Username"}),(0,Qp.jsx)("input",{type:"text",value:ce,onChange:e=>ue(e.target.value),placeholder:"Choose a username",required:!0,style:{width:"100%",padding:"16px",border:"2px solid #e0e0e0",borderRadius:"12px",fontSize:"16px",fontFamily:"inherit",transition:"border-color 0.3s ease",boxSizing:"border-box"},onFocus:e=>e.target.style.borderColor="#2196F3",onBlur:e=>e.target.style.borderColor="#e0e0e0"})]}),"reset"!==re&&(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("label",{style:{display:"block",color:"#333",fontWeight:"bold",marginBottom:"8px",fontSize:"14px"},children:"Password"}),(0,Qp.jsx)("input",{type:"password",value:ae,onChange:e=>le(e.target.value),placeholder:"Enter your password",required:!0,style:{width:"100%",padding:"16px",border:"2px solid #e0e0e0",borderRadius:"12px",fontSize:"16px",fontFamily:"inherit",transition:"border-color 0.3s ease",boxSizing:"border-box"},onFocus:e=>e.target.style.borderColor="#2196F3",onBlur:e=>e.target.style.borderColor="#e0e0e0"})]}),(0,Qp.jsx)("button",{type:"submit",disabled:de,style:{background:de?"#ccc":"login"===re?"linear-gradient(135deg, #4CAF50, #45a049)":"register"===re?"linear-gradient(135deg, #2196F3, #1976D2)":"linear-gradient(135deg, #FF9800, #F57C00)",color:"white",border:"none",padding:"18px",fontSize:"18px",fontWeight:"bold",borderRadius:"12px",cursor:de?"not-allowed":"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:de?(0,Qp.jsx)(Qp.Fragment,{children:"\u23f3 Processing..."}):(0,Qp.jsx)(Qp.Fragment,{children:"login"===re?"\ud83d\udd11 LOGIN":"register"===re?"\ud83d\udcdd CREATE ACCOUNT":"\ud83d\udce7 SEND RESET EMAIL"})})]}),(0,Qp.jsx)("div",{style:{marginTop:"24px",textAlign:"center",fontSize:"14px",color:"#666"},children:"login"===re?(0,Qp.jsxs)(Qp.Fragment,{children:["Don't have an account?"," ",(0,Qp.jsx)("button",{type:"button",onClick:()=>Xe("register"),style:{background:"none",border:"none",color:"#2196F3",cursor:"pointer",textDecoration:"underline",fontWeight:"bold"},children:"Sign up here"}),(0,Qp.jsx)("br",{}),(0,Qp.jsx)("br",{}),"Forgot your password?"," ",(0,Qp.jsx)("button",{type:"button",onClick:()=>Xe("reset"),style:{background:"none",border:"none",color:"#FF9800",cursor:"pointer",textDecoration:"underline",fontWeight:"bold"},children:"Reset it here"})]}):"register"===re?(0,Qp.jsxs)(Qp.Fragment,{children:["Already have an account?"," ",(0,Qp.jsx)("button",{type:"button",onClick:()=>Xe("login"),style:{background:"none",border:"none",color:"#4CAF50",cursor:"pointer",textDecoration:"underline",fontWeight:"bold"},children:"Login here"})]}):(0,Qp.jsxs)(Qp.Fragment,{children:["Remember your password?"," ",(0,Qp.jsx)("button",{type:"button",onClick:()=>Xe("login"),style:{background:"none",border:"none",color:"#4CAF50",cursor:"pointer",textDecoration:"underline",fontWeight:"bold"},children:"Login here"})]})})]})}),(0,Qp.jsx)("style",{jsx:!0,children:"\n          @keyframes float {\n            0%, 100% { transform: translateY(0px) rotate(0deg); }\n            50% { transform: translateY(-20px) rotate(180deg); }\n          }\n          \n          @keyframes modalSlideIn {\n            0% { opacity: 0; transform: translateY(-50px) scale(0.9); }\n            100% { opacity: 1; transform: translateY(0) scale(1); }\n          }\n        "})]}):(0,Qp.jsxs)("div",{style:{background:E.sectionBg,padding:"8px",minHeight:"100vh",fontFamily:"Alan Sans, Arial, sans-serif",position:"relative",width:"100vw",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[(0,Qp.jsx)("style",{children:"\n          .hidden-scrollbar {\n            scrollbar-width: thin; /* Firefox - show thin scrollbar */\n            -ms-overflow-style: scrollbar; /* IE and Edge */\n          }\n          .hidden-scrollbar::-webkit-scrollbar {\n            width: 6px; /* Chrome, Safari, Opera - show thin scrollbar */\n          }\n          .hidden-scrollbar::-webkit-scrollbar-track {\n            background: #f1f1f1;\n            border-radius: 3px;\n          }\n          .hidden-scrollbar::-webkit-scrollbar-thumb {\n            background: #c1c1c1;\n            border-radius: 3px;\n          }\n          .hidden-scrollbar::-webkit-scrollbar-thumb:hover {\n            background: #a1a1a1;\n          }\n        "}),(0,Qp.jsxs)("div",{style:{width:"100%",height:"100%",margin:"0",opacity:Te?.7:1,filter:Te?"grayscale(0.3)":"none",transition:"all 0.3s ease",display:"flex",flexDirection:"column"},children:[Te&&(0,Qp.jsxs)("div",{style:c(c({position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",padding:"20px 40px",borderRadius:"16px",zIndex:100},v),{},{textAlign:"center",pointerEvents:"none"}),children:["\u23f8\ufe0f GAME FROZEN",(0,Qp.jsx)("div",{style:c(c({},x),{},{marginTop:"8px",opacity:.8}),children:"Click Resume to continue playing"})]}),(0,Qp.jsx)("div",{style:{background:E.cardBg,padding:"12px 16px",borderRadius:E.borderRadiusLarge,marginBottom:"8px",boxShadow:E.shadowLarge,flexShrink:0},children:(0,Qp.jsxs)("div",{style:{display:"flex",flexDirection:window.innerWidth>=640?"row":"column",justifyContent:"space-between",alignItems:"center",gap:"16px"},children:[(0,Qp.jsx)("h1",{style:c(c({},v),{},{fontSize:"18px",color:E.textPrimary,margin:0,textAlign:window.innerWidth>=640?"left":"center",fontWeight:"700"}),children:"\ud83d\udc14 CHICKEN EMPIRE TYCOON"}),(0,Qp.jsx)("div",{style:{display:"flex",justifyContent:window.innerWidth>=640?"flex-start":"center",marginBottom:"12px"},children:(0,Qp.jsx)("button",{onClick:()=>{I(!0)},onMouseDown:e=>e.target.style.animation="buttonPress 0.1s ease",onMouseUp:e=>e.target.style.animation="",onMouseLeave:e=>{e.target.style.animation="",e.target.style.transform="translateY(0) scale(1)",e.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},onMouseOver:e=>{e.target.style.transform="translateY(-2px) scale(1.02)",e.target.style.boxShadow="0 4px 12px rgba(103, 58, 183, 0.3)"},onMouseOut:e=>{e.target.style.transform="translateY(0) scale(1)",e.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},style:{background:"linear-gradient(135deg, #673AB7, #512DA8)",color:"white",border:"none",padding:"8px 16px",fontSize:"14px",fontWeight:"bold",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"6px"},children:"\ud83c\udfe0 LOBBY"})}),(0,Qp.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",justifyContent:"center"},children:[(0,Qp.jsx)("button",{onClick:()=>B(!0),onMouseDown:e=>e.target.style.animation="buttonPress 0.1s ease",onMouseUp:e=>e.target.style.animation="",onMouseLeave:e=>{e.target.style.animation="",e.target.style.transform="translateY(0) scale(1)",e.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},onMouseOver:e=>{e.target.style.transform="translateY(-2px) scale(1.02)",e.target.style.boxShadow="0 4px 12px rgba(255, 107, 53, 0.2)"},onMouseOut:e=>{e.target.style.transform="translateY(0) scale(1)",e.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},style:c(c({background:"rgba(255, 107, 53, 0.1)",color:E.orange,border:"1px solid rgba(255, 107, 53, 0.2)"},k),{},{fontSize:"10px",padding:"8px 12px",borderRadius:E.borderRadius,cursor:"pointer",transition:"all 0.3s ease"}),children:"\ud83d\udd04 Reset"}),(0,Qp.jsx)("button",{onClick:()=>F(!j),style:c(c({background:"rgba(16, 185, 129, 0.1)",color:E.green,border:"1px solid rgba(16, 185, 129, 0.2)"},k),{},{fontSize:"10px",padding:"8px 12px",borderRadius:E.borderRadius,cursor:"pointer",transition:"all 0.2s ease"}),children:"\ud83d\udcca Ledger"}),(0,Qp.jsx)("button",{onClick:()=>U(!z),style:c(c({background:"rgba(255, 107, 53, 0.1)",color:E.orange,border:"1px solid rgba(255, 107, 53, 0.2)"},k),{},{fontSize:"10px",padding:"8px 12px",borderRadius:E.borderRadius,cursor:"pointer",transition:"all 0.2s ease"}),children:"\ud83c\udfc6 Board"}),(0,Qp.jsx)("button",{onClick:()=>q(!0),style:c(c({background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6",border:"1px solid rgba(59, 130, 246, 0.2)"},k),{},{fontSize:"10px",padding:"8px 12px",borderRadius:E.borderRadius,cursor:"pointer",transition:"all 0.2s ease"}),children:"\ud83d\udcbe Save"}),(0,Qp.jsx)("button",{onClick:()=>G(!0),style:c(c({background:"rgba(147, 51, 234, 0.1)",color:"#9333ea",border:"1px solid rgba(147, 51, 234, 0.2)"},k),{},{fontSize:"10px",padding:"8px 12px",borderRadius:E.borderRadius,cursor:"pointer",transition:"all 0.2s ease"}),children:"\ud83d\udcc2 Load"}),(0,Qp.jsx)("button",{onClick:()=>Q(!0),style:c(c({background:Z?"rgba(16, 185, 129, 0.1)":"rgba(99, 102, 241, 0.1)",color:Z?E.green:"#6366f1",border:Z?"1px solid rgba(16, 185, 129, 0.2)":"1px solid rgba(99, 102, 241, 0.2)"},k),{},{fontSize:"10px",padding:"8px 12px",borderRadius:E.borderRadius,cursor:"pointer",transition:"all 0.2s ease"}),children:Z?"\ud83d\udc64 ".concat(Z.displayName||"User"):"\ud83c\udf10 Login"}),(0,Qp.jsx)("button",{onClick:()=>_e(!Ce),style:c(c({background:xe?"rgba(16, 185, 129, 0.1)":"rgba(209, 213, 219, 0.1)",color:xe?E.green:E.disabledText,border:xe?"1px solid rgba(16, 185, 129, 0.2)":"1px solid rgba(209, 213, 219, 0.2)"},k),{},{fontSize:"10px",padding:"8px 12px",borderRadius:E.borderRadius,cursor:"pointer",transition:"all 0.2s ease"}),children:"\ud83c\udfb5 Music"}),Ce&&(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"rgba(16, 185, 129, 0.1)",borderRadius:E.borderRadius,border:"1px solid rgba(16, 185, 129, 0.2)"},children:[(0,Qp.jsx)("span",{style:c(c({},k),{},{color:E.green,fontSize:"10px",minWidth:"20px"}),children:"\ud83d\udd0a"}),(0,Qp.jsx)("input",{type:"range",min:"0",max:"10",value:ke,onChange:e=>{const t=parseInt(e.target.value);Ee(t),Ve.setVolume(t/100),We("\ud83c\udfb5 Volume ".concat(t,"%"))},style:{width:"60px",height:"4px",background:"linear-gradient(to right, ".concat(E.green," 0%, ").concat(E.green," ").concat(ke/10*100,"%, rgba(16, 185, 129, 0.2) ").concat(ke/10*100,"%, rgba(16, 185, 129, 0.2) 100%)"),borderRadius:"2px",outline:"none",cursor:"pointer",WebkitAppearance:"none",MozAppearance:"none",border:"none"}}),(0,Qp.jsxs)("span",{style:c(c({},k),{},{color:E.green,fontSize:"8px",minWidth:"25px"}),children:[ke,"%"]}),(0,Qp.jsx)("button",{onClick:()=>{const e=Ve.toggleBackgroundMusic();Se(e),We(e?"\ud83c\udfb5 Music On":"\ud83c\udfb5 Music Off")},style:{background:"transparent",border:"none",color:E.green,cursor:"pointer",fontSize:"12px",padding:"0 4px"},children:xe?"\ud83d\udd0a":"\ud83d\udd07"})]}),(0,Qp.jsx)("button",{onClick:()=>{const e=!Te;Ie(e),m.current=e,e?We("\u23f8\ufe0f Game Frozen!","#6b7280"):We("\u25b6\ufe0f Game Resumed!",E.success)},style:c(c({background:Te?"rgba(16, 185, 129, 0.1)":"rgba(255, 107, 53, 0.1)",color:Te?E.green:E.orange,border:Te?"1px solid rgba(16, 185, 129, 0.2)":"1px solid rgba(255, 107, 53, 0.2)"},k),{},{fontSize:"10px",padding:"8px 12px",borderRadius:E.borderRadius,cursor:"pointer",transition:"all 0.2s ease"}),children:Te?"\u25b6\ufe0f Start":"\u23f8\ufe0f Freeze"})]})]})}),j&&(0,Qp.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:50,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Qp.jsxs)("div",{style:{background:E.cardBg,borderRadius:E.borderRadiusLarge,width:"90%",maxWidth:"600px",maxHeight:"80%",overflow:"hidden"},children:[(0,Qp.jsxs)("div",{style:{padding:"20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsx)("h2",{style:c(c({},v),{},{margin:0}),children:"\ud83d\udcca Transaction Ledger"}),(0,Qp.jsx)("button",{onClick:()=>F(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:"\xd7"})]}),(0,Qp.jsx)("div",{style:{padding:"20px",maxHeight:"400px",overflow:"auto"},children:0===L.transactions.length?(0,Qp.jsx)("p",{style:{textAlign:"center",color:E.textSecondary},children:"No transactions yet"}):L.transactions.map(e=>(0,Qp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",marginBottom:"8px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:c(c({},w),{},{fontWeight:"bold"}),children:e.description}),(0,Qp.jsx)("div",{style:c(c({},x),{},{color:E.textSecondary}),children:e.timestamp})]}),(0,Qp.jsxs)("div",{style:c(c({},b),{},{color:e.amount>=0?E.success:E.error}),children:[e.amount>=0?"+":"","$",Math.abs(e.amount)]})]},e.id))})]})}),z&&(0,Qp.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:50,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Qp.jsxs)("div",{style:{background:E.cardBg,borderRadius:E.borderRadiusLarge,width:"90%",maxWidth:"600px",maxHeight:"80%",overflow:"hidden"},children:[(0,Qp.jsxs)("div",{style:{padding:"20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsx)("h2",{style:c(c({},v),{},{margin:0}),children:"\ud83c\udfc6 Farm Leaderboard"}),(0,Qp.jsx)("button",{onClick:()=>U(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:"\xd7"})]}),(0,Qp.jsx)("div",{style:{padding:"20px",maxHeight:"400px",overflow:"auto"},children:0===fe.length?(0,Qp.jsxs)("div",{style:c({textAlign:"center",padding:"40px",color:E.textSecondary},w),children:["\ud83c\udfae No saved games yet!",(0,Qp.jsx)("br",{}),"Save your progress to appear on the leaderboard."]}):fe.map((e,t)=>(0,Qp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",marginBottom:"8px",backgroundColor:t<3?"#fef3c7":"#f9fafb",borderRadius:"8px",border:t<3?"2px solid #f59e0b":"1px solid #e5e7eb"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Qp.jsxs)("span",{style:c(c({},b),{},{minWidth:"30px"}),children:[t+1,0===t?"\ud83e\udd47":1===t?"\ud83e\udd48":2===t?"\ud83e\udd49":""]}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:c(c({},w),{},{fontWeight:t<3?"bold":"normal"}),children:e.name}),(0,Qp.jsxs)("div",{style:{fontSize:"10px",color:E.textSecondary,fontFamily:"Alan Sans, Arial, sans-serif"},children:["\ud83d\udc14",e.chickens," \u2022 \ud83c\udf73",e.products," \u2022 \u23f1",e.playTime,"min"]})]})]}),(0,Qp.jsxs)("span",{style:c(c({},w),{},{fontWeight:t<3?"bold":"normal",color:E.success}),children:["$",e.money.toLocaleString()]})]},e.name))})]})}),W&&(0,Qp.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Qp.jsxs)("div",{style:{background:E.cardBg,borderRadius:E.borderRadiusLarge,width:"90%",maxWidth:"450px",overflow:"hidden",border:"3px solid #3b82f6",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},children:[(0,Qp.jsxs)("div",{style:{padding:"20px",borderBottom:"1px solid #e5e7eb",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white"},children:[(0,Qp.jsx)("h2",{style:c(c({},v),{},{margin:0,color:"white"}),children:"\ud83d\udcbe Save Your Game"}),(0,Qp.jsx)("p",{style:c(c({},w),{},{margin:"8px 0 0 0",opacity:.9}),children:"Enter your name to save your progress"})]}),(0,Qp.jsxs)("div",{style:{padding:"24px"},children:[(0,Qp.jsx)("input",{type:"text",placeholder:"Enter your player name...",value:Y,onChange:e=>X(e.target.value),onKeyPress:e=>"Enter"===e.key&&it(Y),style:{width:"100%",padding:"12px",border:"2px solid #e5e7eb",borderRadius:E.borderRadius,fontSize:"14px",fontFamily:"Alan Sans, Arial, sans-serif",marginBottom:"20px",outline:"none"},maxLength:20,autoFocus:!0}),$&&(0,Qp.jsxs)("div",{style:{padding:"8px",background:"#fef3c7",border:"1px solid #f59e0b",borderRadius:E.borderRadius,marginBottom:"16px",fontSize:"12px",color:"#92400e"},children:["\ud83d\udca1 Currently playing as: ",(0,Qp.jsx)("strong",{children:$})]}),(0,Qp.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Qp.jsx)("button",{onClick:()=>{q(!1),X("")},style:c({background:"rgba(107, 114, 128, 0.1)",color:E.textSecondary,border:"1px solid rgba(107, 114, 128, 0.2)",borderRadius:E.borderRadius,padding:"10px 16px",cursor:"pointer"},k),children:"Cancel"}),(0,Qp.jsx)("button",{onClick:()=>it(Y),disabled:!Y.trim(),style:c(c({background:Y.trim()?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":E.disabled,color:"white",border:"none",borderRadius:E.borderRadius,padding:"10px 20px",cursor:Y.trim()?"pointer":"not-allowed"},k),{},{fontWeight:"600"}),children:"\ud83d\udcbe Save Game"})]})]})]})}),H&&(0,Qp.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Qp.jsxs)("div",{style:{background:E.cardBg,borderRadius:E.borderRadiusLarge,width:"90%",maxWidth:"600px",maxHeight:"80%",overflow:"hidden",border:"3px solid #9333ea",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},children:[(0,Qp.jsxs)("div",{style:{padding:"20px",borderBottom:"1px solid #e5e7eb",background:"linear-gradient(135deg, #9333ea 0%, #7c3aed 100%)",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("h2",{style:c(c({},v),{},{margin:0,color:"white"}),children:"\ud83d\udcc2 Load Saved Game"}),(0,Qp.jsx)("p",{style:c(c({},w),{},{margin:"4px 0 0 0",opacity:.9}),children:"Select a saved game to continue playing"})]}),(0,Qp.jsx)("button",{onClick:()=>G(!1),style:{background:"rgba(255, 255, 255, 0.2)",border:"none",fontSize:"20px",cursor:"pointer",borderRadius:"50%",width:"32px",height:"32px",color:"white"},children:"\xd7"})]}),(0,Qp.jsxs)("div",{style:{padding:"20px",maxHeight:"400px",overflow:"auto"},children:[0===Object.keys(rt()).length?(0,Qp.jsxs)("div",{style:c({textAlign:"center",padding:"40px",color:E.textSecondary},w),children:["\ud83c\udfae No saved games found!",(0,Qp.jsx)("br",{}),"Save your current progress first."]}):Object.entries(rt()).map(e=>{var t;let[n,r]=e;return(0,Qp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",marginBottom:"8px",backgroundColor:n===$?"#ede9fe":"#f9fafb",borderRadius:"8px",border:n===$?"2px solid #9333ea":"1px solid #e5e7eb"},children:[(0,Qp.jsxs)("div",{style:{flex:1},children:[(0,Qp.jsxs)("div",{style:c(c({},b),{},{marginBottom:"4px",color:n===$?"#9333ea":E.textPrimary}),children:[n," ",n===$&&"(Current)"]}),(0,Qp.jsxs)("div",{style:{fontSize:"12px",color:E.textSecondary,fontFamily:"Alan Sans, Arial, sans-serif"},children:["\ud83d\udcb0$",null===(t=r.money)||void 0===t?void 0:t.toLocaleString()," \u2022 \ud83d\udc14",(r.chickens||0)+(r.goldenChickens||0)," \u2022 \ud83d\udcc5",r.savedAt?new Date(r.savedAt).toLocaleDateString():"Unknown"]})]}),(0,Qp.jsxs)("div",{style:{display:"flex",gap:"8px",marginLeft:"12px"},children:[(0,Qp.jsx)("button",{onClick:()=>(async e=>{he(!0);try{const t=await Kp.loadGameData(e);t?(M(t),J(e),G(!1),Kp.isAuthenticated()?We('\u2601\ufe0f Loaded "'.concat(e,"\"'s game from cloud!"),E.green):We('\ud83d\udcc2 Loaded "'.concat(e,"\"'s game!"),E.green),Ve.playSuccessSound()):We("\u274c Save file not found!",E.red)}catch(t){We("\u274c Failed to load game!",E.red),console.error("Load failed:",t)}finally{he(!1)}})(n),style:{background:"linear-gradient(135deg, #9333ea 0%, #7c3aed 100%)",color:"white",border:"none",borderRadius:E.borderRadius,padding:"6px 12px",cursor:"pointer",fontSize:"11px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif"},children:"\ud83d\udcc2 Load"}),(0,Qp.jsx)("button",{onClick:()=>{window.confirm('Delete "'.concat(n,"\"'s save file?"))&&((async e=>{he(!0);try{const t=await Kp.deleteSavedGame(e);t.success?"cloud"===t.location?We('\u2601\ufe0f Deleted "'.concat(e,"\"'s save from cloud!"),E.orange):We('\ud83d\uddd1\ufe0f Deleted "'.concat(e,"\"'s save!"),E.orange):We("\u274c Delete failed: ".concat(t.error),E.red)}catch(t){We("\u274c Delete failed!",E.red),console.error("Delete failed:",t)}finally{he(!1)}})(n),G(!1),setTimeout(()=>G(!0),100))},style:{background:"rgba(239, 68, 68, 0.1)",color:"#dc2626",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:E.borderRadius,padding:"6px 8px",cursor:"pointer",fontSize:"11px",fontFamily:"Alan Sans, Arial, sans-serif"},children:"\ud83d\uddd1\ufe0f"})]})]},n)}),(()=>{const e=(()=>{let e=0,t=0;for(let i=0;i<localStorage.length;i++){const n=localStorage.key(i),r=localStorage.getItem(n);n&&n.startsWith("chickenEmpire_")&&(e+=n.length+r.length,n.startsWith("chickenEmpire_save_")&&t++)}const n=Math.round(e/1024*100)/100,r=5120;return{sizeInKB:n,totalSaves:t,usagePercent:Math.round(n/r*100),estimatedLimit:r,remainingKB:r-n}})();return(0,Qp.jsxs)("div",{style:{marginTop:"16px",padding:"12px",background:e.usagePercent>80?"#fef3c7":"#f3f4f6",borderRadius:E.borderRadius,border:e.usagePercent>80?"1px solid #f59e0b":"1px solid #d1d5db"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"11px",fontWeight:"600",color:e.usagePercent>80?"#92400e":E.textSecondary,fontFamily:"Alan Sans, Arial, sans-serif"},children:"\ud83d\udcca Storage Usage"}),(0,Qp.jsxs)("span",{style:{fontSize:"11px",color:e.usagePercent>80?"#92400e":E.textSecondary,fontFamily:"Alan Sans, Arial, sans-serif"},children:[e.usagePercent,"% used"]})]}),(0,Qp.jsxs)("div",{style:{fontSize:"10px",color:e.usagePercent>80?"#92400e":E.textSecondary,fontFamily:"Alan Sans, Arial, sans-serif"},children:["\ud83d\udcbe ",e.totalSaves," saves \u2022 ",e.sizeInKB,"KB / ",Math.round(e.estimatedLimit/1024),"MB used",e.usagePercent>80&&(0,Qp.jsx)("div",{style:{marginTop:"4px",color:"#dc2626"},children:"\u26a0\ufe0f Storage nearly full! Consider deleting old saves."})]})]})})()]})]})}),K&&(0,Qp.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Qp.jsxs)("div",{style:{background:E.cardBg,borderRadius:E.borderRadius,padding:"0",minWidth:"400px",maxWidth:"90vw",boxShadow:E.shadowLarge,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("h2",{style:c(c({},b),{},{margin:"0",color:E.textPrimary}),children:Z?"\ud83d\udc64 Account":"login"===re?"\ud83c\udf10 Login":"\ud83d\udcdd Create Account"}),!Z&&(0,Qp.jsx)("p",{style:c(c({},w),{},{margin:"4px 0 0 0",color:E.textSecondary}),children:"login"===re?"Sign in to save your progress in the cloud":"Create an account to sync across devices"})]}),(0,Qp.jsx)("button",{onClick:()=>{Q(!1),se(""),le(""),ue("")},style:{background:"none",border:"none",color:E.textSecondary,fontSize:"20px",cursor:"pointer",padding:"4px",borderRadius:"4px"},children:"\xd7"})]}),(0,Qp.jsx)("div",{style:{padding:"24px"},children:Z?(0,Qp.jsxs)("div",{children:[(0,Qp.jsxs)("div",{style:{textAlign:"center",padding:"20px",backgroundColor:"rgba(16, 185, 129, 0.1)",borderRadius:E.borderRadius,marginBottom:"20px"},children:[(0,Qp.jsx)("div",{style:{fontSize:"48px",marginBottom:"8px"},children:"\ud83d\udc64"}),(0,Qp.jsx)("div",{style:c(c({},b),{},{color:E.textPrimary,marginBottom:"4px"}),children:Z.displayName||"Chicken Farmer"}),(0,Qp.jsx)("div",{style:c(c({},w),{},{color:E.textSecondary}),children:Z.email})]}),(0,Qp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"20px"},children:[(0,Qp.jsxs)("div",{style:{textAlign:"center",padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:E.borderRadius},children:[(0,Qp.jsx)("div",{style:{fontSize:"20px",marginBottom:"4px"},children:"\u2601\ufe0f"}),(0,Qp.jsx)("div",{style:c(c({},w),{},{fontSize:"10px",color:E.textSecondary}),children:"Cloud Saves"})]}),(0,Qp.jsxs)("div",{style:{textAlign:"center",padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:E.borderRadius},children:[(0,Qp.jsx)("div",{style:{fontSize:"20px",marginBottom:"4px"},children:"\ud83c\udf0d"}),(0,Qp.jsx)("div",{style:c(c({},w),{},{fontSize:"10px",color:E.textSecondary}),children:"Global Leaderboard"})]})]}),(0,Qp.jsx)("button",{onClick:async()=>{he(!0);try{(await Kp.logoutUser()).success?(ee(null),Q(!1),We("\ud83d\udc4b Logged out successfully",E.orange)):We("\u274c Logout failed",E.red)}catch(e){console.error("Logout error:",e),We("\u274c Logout failed",E.red)}finally{he(!1)}},disabled:de,style:c({width:"100%",background:de?E.disabled:"rgba(239, 68, 68, 0.1)",color:de?E.textSecondary:"#dc2626",border:"1px solid ".concat(de?"rgba(255, 255, 255, 0.1)":"rgba(239, 68, 68, 0.3)"),borderRadius:E.borderRadius,padding:"12px",cursor:de?"not-allowed":"pointer"},k),children:de?"\u23f3 Signing out...":"\ud83d\udeaa Sign Out"})]}):(0,Qp.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),"register"!==re||ce&&oe&&ae)if("login"!==re||oe&&ae){he(!0);try{let e;e="register"===re?await Kp.registerUser(oe,ae,ce):await Kp.loginUser(oe,ae),e.success?(Q(!1),se(""),le(""),ue(""),We("login"===re?"\u2705 Welcome back!":"\ud83c\udf89 Account created successfully!",E.green),$&&await it($)):We("\u274c ".concat(e.error),E.red)}catch(t){console.error("Authentication error:",t),We("\u274c Authentication failed. Please try again.",E.red)}finally{he(!1)}}else We("\u274c Please fill all fields",E.red);else We("\u274c Please fill all fields",E.red)},children:["register"===re&&(0,Qp.jsx)("input",{type:"text",placeholder:"Username (display name)",value:ce,onChange:e=>ue(e.target.value),style:{width:"100%",padding:"12px",marginBottom:"12px",borderRadius:E.borderRadius,border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:E.textPrimary,fontFamily:"Alan Sans, Arial, sans-serif",fontSize:"14px"},maxLength:20}),(0,Qp.jsx)("input",{type:"email",placeholder:"Email address",value:oe,onChange:e=>se(e.target.value),style:{width:"100%",padding:"12px",marginBottom:"12px",borderRadius:E.borderRadius,border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:E.textPrimary,fontFamily:"Alan Sans, Arial, sans-serif",fontSize:"14px"}}),(0,Qp.jsx)("input",{type:"password",placeholder:"Password",value:ae,onChange:e=>le(e.target.value),style:{width:"100%",padding:"12px",marginBottom:"16px",borderRadius:E.borderRadius,border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:E.textPrimary,fontFamily:"Alan Sans, Arial, sans-serif",fontSize:"14px"},minLength:6}),(0,Qp.jsxs)("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[(0,Qp.jsx)("button",{type:"button",onClick:()=>{Q(!1),se(""),le(""),ue("")},style:c({flex:1,background:"rgba(255, 255, 255, 0.1)",color:E.textSecondary,border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:E.borderRadius,padding:"12px",cursor:"pointer"},k),children:"Cancel"}),(0,Qp.jsx)("button",{type:"submit",disabled:de,style:c(c({flex:2,background:de?E.disabled:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",color:de?E.textSecondary:"white",border:"none",borderRadius:E.borderRadius,padding:"12px",cursor:de?"not-allowed":"pointer"},k),{},{fontWeight:"600"}),children:de?"\u23f3 Processing...":"login"===re?"\ud83c\udf10 Sign In":"\ud83d\udcdd Create Account"})]}),(0,Qp.jsx)("div",{style:{textAlign:"center"},children:(0,Qp.jsx)("button",{type:"button",onClick:()=>ie("login"===re?"register":"login"),style:c(c({background:"none",border:"none",color:"#6366f1",cursor:"pointer"},w),{},{fontSize:"12px",textDecoration:"underline"}),children:"login"===re?"Don't have an account? Create one":"Already have an account? Sign in"})}),(0,Qp.jsx)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"rgba(99, 102, 241, 0.1)",borderRadius:E.borderRadius,border:"1px solid rgba(99, 102, 241, 0.2)"},children:(0,Qp.jsxs)("div",{style:c(c({},w),{},{fontSize:"11px",color:E.textSecondary,lineHeight:"1.4"}),children:["\ud83d\udca1 ",(0,Qp.jsx)("strong",{children:"Benefits of creating an account:"}),(0,Qp.jsx)("br",{}),"\u2022 \u2601\ufe0f Save progress in the cloud",(0,Qp.jsx)("br",{}),"\u2022 \ud83d\udcf1 Play on any device",(0,Qp.jsx)("br",{}),"\u2022 \ud83c\udfc6 Compete on global leaderboard",(0,Qp.jsx)("br",{}),"\u2022 \ud83d\udd12 Never lose your chicken empire!"]})})]})})]})}),V&&(0,Qp.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Qp.jsxs)("div",{style:{background:E.cardBg,borderRadius:E.borderRadiusLarge,width:"90%",maxWidth:"450px",overflow:"hidden",border:"3px solid ".concat(E.orange),boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},children:[(0,Qp.jsxs)("div",{style:{padding:"24px 24px 16px",borderBottom:"2px solid ".concat(E.orange,"20"),background:"linear-gradient(135deg, ".concat(E.orange,"10 0%, ").concat(E.orange,"05 100%)"),textAlign:"center"},children:[(0,Qp.jsx)("div",{style:{fontSize:"48px",marginBottom:"8px"},children:"\u26a0\ufe0f"}),(0,Qp.jsx)("h2",{style:c(c({},v),{},{margin:0,color:E.orange,fontSize:"20px"}),children:"Reset Game?"})]}),(0,Qp.jsxs)("div",{style:{padding:"24px",textAlign:"center"},children:[(0,Qp.jsxs)("p",{style:c(c({},w),{},{fontSize:"16px",color:E.textPrimary,lineHeight:"1.5",margin:"0 0 8px 0"}),children:["This will ",(0,Qp.jsx)("strong",{style:{color:E.orange},children:"permanently delete"})," all your progress!"]}),(0,Qp.jsx)("p",{style:c(c({},x),{},{fontSize:"14px",color:E.textSecondary,margin:"0 0 24px 0"}),children:"You'll lose all chickens, money, upgrades, and achievements."}),(0,Qp.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[(0,Qp.jsx)("button",{onClick:()=>B(!1),style:{background:"linear-gradient(135deg, ".concat(E.green," 0%, ").concat(E.greenDark," 100%)"),color:E.textLight,border:"none",borderRadius:E.borderRadius,padding:"12px 24px",fontSize:"14px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",cursor:"pointer",transition:"all 0.2s ease",minWidth:"100px",boxShadow:E.shadow},onMouseOver:e=>e.target.style.transform="translateY(-2px)",onMouseOut:e=>e.target.style.transform="translateY(0px)",children:"\u2705 Keep Playing"}),(0,Qp.jsx)("button",{onClick:st,style:{background:"linear-gradient(135deg, ".concat(E.orange," 0%, ").concat(E.orangeDark," 100%)"),color:E.textLight,border:"none",borderRadius:E.borderRadius,padding:"12px 24px",fontSize:"14px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",cursor:"pointer",transition:"all 0.2s ease",minWidth:"100px",boxShadow:E.shadow},onMouseOver:e=>e.target.style.transform="translateY(-2px)",onMouseOut:e=>e.target.style.transform="translateY(0px)",children:"\ud83d\udd04 Reset Game"})]})]})]})}),(0,Qp.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"8px",gap:"12px"},children:[(0,Qp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:Ae?"1fr":Ne?"1fr 1fr":"1fr 1fr 1fr 1fr 1fr",gap:"8px",minHeight:Ae?"auto":"350px",maxHeight:Ae?"none":"550px"},children:[(0,Qp.jsxs)("div",{style:{background:E.cardBg,borderRadius:E.borderRadius,padding:"12px",boxShadow:Le.lowMoney?"0 8px 30px rgba(239, 68, 68, 0.15), 0 0 0 1px rgba(239, 68, 68, 0.2)":E.shadowLarge,display:"flex",flexDirection:"column",height:Ae?"auto":"100%",maxHeight:Ae?"none":"550px",overflow:"hidden",animation:Le.lowMoney?"subtleGlow 3s ease-in-out infinite":"none",transition:"all 0.5s ease",order:Ae?1:0},children:[(0,Qp.jsx)("div",{style:c(c({},v),{},{marginBottom:"8px",textAlign:"center",color:E.textPrimary,textTransform:"uppercase",flexShrink:0}),children:"Stats"}),(0,Qp.jsxs)("div",{className:"hidden-scrollbar",style:{flex:1,display:"flex",flexDirection:"column",gap:"6px",overflowY:"auto"},children:[(0,Qp.jsxs)("div",{style:{background:E.cardBg,border:"2px solid ".concat(E.green),borderRadius:E.borderRadius,padding:"8px 12px",boxShadow:E.shadow,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"14px"},children:"\ud83e\udd5a"}),(0,Qp.jsx)("span",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textPrimary},children:"Ready"})]}),(0,Qp.jsx)("span",{style:{fontSize:"14px",fontWeight:"700",fontFamily:"Alan Sans, Arial, sans-serif",color:E.green},children:L.readyEggs+L.readyGoldenEggs})]}),(0,Qp.jsxs)("div",{style:{background:E.cardBg,border:"2px solid ".concat(E.green),borderRadius:E.borderRadius,padding:"8px 12px",boxShadow:E.shadow,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"14px"},children:"\ud83d\udce6"}),(0,Qp.jsx)("span",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textPrimary},children:"Eggs"})]}),(0,Qp.jsx)("span",{style:{fontSize:"14px",fontWeight:"700",fontFamily:"Alan Sans, Arial, sans-serif",color:E.green},children:L.eggInventory})]}),(0,Qp.jsxs)("div",{style:{background:E.cardBg,border:"2px solid ".concat(E.green),borderRadius:E.borderRadius,padding:"8px 12px",boxShadow:E.shadow,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"14px"},children:"\ud83d\udc14"}),(0,Qp.jsx)("span",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textPrimary},children:"Chickens"})]}),(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"14px",fontWeight:"700",fontFamily:"Alan Sans, Arial, sans-serif",color:E.green},children:L.chickens}),Le.lowChickens&&(0,Qp.jsx)("span",{style:{fontSize:"10px",animation:"gentleBounce 1.5s infinite",color:"rgba(255, 165, 0, 0.8)"},children:"\u26a0\ufe0f"})]})]}),(0,Qp.jsxs)("div",{style:{background:E.cardBg,border:"2px solid ".concat(E.green),borderRadius:E.borderRadius,padding:"8px 12px",boxShadow:E.shadow,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"14px"},children:"\ud83d\udc13"}),(0,Qp.jsx)("span",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textPrimary},children:"Golden"})]}),(0,Qp.jsx)("span",{style:{fontSize:"14px",fontWeight:"700",fontFamily:"Alan Sans, Arial, sans-serif",color:E.green},children:L.goldenChickens})]}),(0,Qp.jsxs)("div",{style:{background:E.cardBg,border:"2px solid ".concat(E.green),borderRadius:E.borderRadius,padding:"8px 12px",boxShadow:E.shadow,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"14px"},children:"\ud83c\udf3e"}),(0,Qp.jsx)("span",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textPrimary},children:"Feed"})]}),(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"14px",fontWeight:"700",fontFamily:"Alan Sans, Arial, sans-serif",color:E.green},children:Math.floor(L.feed)}),Le.lowFeed&&(0,Qp.jsx)("span",{style:{fontSize:"10px",animation:"gentleBounce 1.5s infinite",color:"rgba(239, 68, 68, 0.8)"},children:"\u26a0\ufe0f"})]})]}),(0,Qp.jsxs)("div",{style:{background:E.cardBg,border:"2px solid ".concat(E.green),borderRadius:E.borderRadius,padding:"8px 12px",boxShadow:E.shadow,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"14px"},children:"\ud83d\udc68\u200d\ud83c\udf73"}),(0,Qp.jsx)("span",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textPrimary},children:"Cooks"})]}),(0,Qp.jsx)("span",{style:{fontSize:"14px",fontWeight:"700",fontFamily:"Alan Sans, Arial, sans-serif",color:E.green},children:L.cooks})]})]})]}),(0,Qp.jsxs)("div",{style:{background:E.cardBg,borderRadius:E.borderRadius,padding:"12px",boxShadow:Le.lowChickens?"0 8px 30px rgba(255, 165, 0, 0.12), 0 0 0 1px rgba(255, 165, 0, 0.25)":E.shadowLarge,animation:Le.lowChickens?"subtleAmber 3s ease-in-out infinite":"none",transition:"all 0.5s ease",display:"flex",flexDirection:"column",height:Ae?"auto":"100%",maxHeight:Ae?"none":"550px",overflow:"hidden",order:Ae?2:0},children:[(0,Qp.jsx)("div",{style:c(c({},v),{},{marginBottom:"8px",textAlign:"center",color:E.textPrimary,textTransform:"uppercase",flexShrink:0}),children:"Shop"}),(0,Qp.jsxs)("div",{className:"hidden-scrollbar",style:{display:"flex",flexDirection:"column",gap:"6px",overflowY:"auto",flex:1,paddingRight:"4px"},children:[(0,Qp.jsxs)("div",{onClick:()=>{Te?We("\u23f8\ufe0f Game is frozen!","#6b7280"):(Ve.playClickSound(),M(e=>{const t=30+Math.floor(3*e.chickens);if(e.money<t)return Ve.playWarningSound(),e;const n=c(c({},e),{},{money:e.money-t,chickens:e.chickens+1});return qe("buy","Bought regular chicken",-t),We("+1 \ud83d\udc14 Chicken!"),Ve.playSuccessSound(),n}))},style:{background:L.money>=30+Math.floor(3*L.chickens)?E.cardBg:"#f3f4f6",border:L.money>=30+Math.floor(3*L.chickens)?"2px solid ".concat(E.green):"none",borderRadius:E.borderRadius,padding:"12px",cursor:L.money>=30+Math.floor(3*L.chickens)?"pointer":"not-allowed",boxShadow:L.money>=30+Math.floor(3*L.chickens)?E.shadow:"none",transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"16px"},children:"\ud83d\udc14"}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:L.money>=30+Math.floor(3*L.chickens)?E.textPrimary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Regular Chicken"}),(0,Qp.jsx)("div",{style:{fontSize:"10px",color:L.money>=30+Math.floor(3*L.chickens)?E.textSecondary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Lays 1 egg every 6 seconds"})]})]}),(0,Qp.jsxs)("div",{style:{fontSize:"14px",fontWeight:"700",color:L.money>=30+Math.floor(3*L.chickens)?E.green:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:["$",30+Math.floor(3*L.chickens)]})]}),(0,Qp.jsxs)("div",{onClick:()=>{Te?We("\u23f8\ufe0f Game is frozen!","#6b7280"):(Ve.playClickSound(),M(e=>{const t=1e3+200*e.goldenChickens;if(e.money<t)return Ve.playWarningSound(),e;const n=c(c({},e),{},{money:e.money-t,goldenChickens:e.goldenChickens+1});return qe("buy","Bought golden chicken",-t),We("+1 \ud83d\udc13 Golden Chicken!"),Ve.playSuccessSound(),n}))},style:{background:L.money>=1e3+200*L.goldenChickens?E.cardBg:"#f3f4f6",border:L.money>=1e3+200*L.goldenChickens?"2px solid ".concat(E.green):"none",borderRadius:E.borderRadius,padding:"12px",cursor:L.money>=1e3+200*L.goldenChickens?"pointer":"not-allowed",boxShadow:L.money>=1e3+200*L.goldenChickens?E.shadow:"none",transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"16px"},children:"\ud83d\udc13"}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:L.money>=1e3+200*L.goldenChickens?E.textPrimary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Golden Chicken"}),(0,Qp.jsx)("div",{style:{fontSize:"10px",color:L.money>=1e3+200*L.goldenChickens?E.textSecondary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Lays valuable golden eggs"})]})]}),(0,Qp.jsxs)("div",{style:{fontSize:"14px",fontWeight:"700",color:L.money>=1e3+200*L.goldenChickens?E.green:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:["$",1e3+200*L.goldenChickens]})]}),(0,Qp.jsxs)("div",{onClick:()=>He("small"),style:{background:L.money>=50?E.cardBg:"#f3f4f6",border:L.money>=50?"2px solid ".concat(E.green):"none",borderRadius:E.borderRadius,padding:"12px",cursor:L.money>=50?"pointer":"not-allowed",boxShadow:L.money>=50?E.shadow:"none",transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"16px"},children:"\ud83c\udf3e"}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:L.money>=50?E.textPrimary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Small Feed Pack"}),(0,Qp.jsx)("div",{style:{fontSize:"10px",color:L.money>=50?E.textSecondary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"100 units of feed ($0.50/unit)"})]})]}),(0,Qp.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:L.money>=50?E.green:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"$50"})]}),(0,Qp.jsxs)("div",{onClick:()=>He("large"),style:{background:L.money>=250?E.cardBg:"#f3f4f6",border:L.money>=250?"2px solid ".concat(E.green):"none",borderRadius:E.borderRadius,padding:"12px",cursor:L.money>=250?"pointer":"not-allowed",boxShadow:L.money>=250?E.shadow:"none",transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"16px"},children:"\ud83c\udf3e"}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:L.money>=250?E.textPrimary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Large Feed Pack"}),(0,Qp.jsx)("div",{style:{fontSize:"10px",color:L.money>=250?E.textSecondary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"500 units of feed ($0.50/unit)"})]})]}),(0,Qp.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:L.money>=250?E.green:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"$250"})]}),(0,Qp.jsxs)("div",{onClick:()=>{Te?We("\u23f8\ufe0f Game is frozen!","#6b7280"):(Ve.playClickSound(),M(e=>{const t=Math.floor(400*Math.pow(2.5,e.cooks-1));if(e.money<t)return Ve.playWarningSound(),e;const n=c(c({},e),{},{money:e.money-t,cooks:e.cooks+1,productionSlots:e.cooks+1});return qe("buy","Hired new cook",-t),We("+1 \ud83d\udc68\u200d\ud83c\udf73 Cook!"),Ve.playSuccessSound(),n}))},style:{background:L.money>=Math.floor(400*Math.pow(2.5,L.cooks-1))?E.cardBg:"#f3f4f6",border:L.money>=Math.floor(400*Math.pow(2.5,L.cooks-1))?"2px solid ".concat(E.green):"none",borderRadius:E.borderRadius,padding:"12px",cursor:L.money>=Math.floor(400*Math.pow(2.5,L.cooks-1))?"pointer":"not-allowed",boxShadow:L.money>=Math.floor(400*Math.pow(2.5,L.cooks-1))?E.shadow:"none",transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"16px"},children:"\ud83d\udc68\u200d\ud83c\udf73"}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:L.money>=Math.floor(400*Math.pow(2.5,L.cooks-1))?E.textPrimary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Hire Cook"}),(0,Qp.jsx)("div",{style:{fontSize:"10px",color:L.money>=Math.floor(400*Math.pow(2.5,L.cooks-1))?E.textSecondary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Adds production slot"})]})]}),(0,Qp.jsxs)("div",{style:{fontSize:"14px",fontWeight:"700",color:L.money>=Math.floor(400*Math.pow(2.5,L.cooks-1))?E.green:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:["$",Math.floor(400*Math.pow(2.5,L.cooks-1))]})]}),L.chickens>=3&&L.money>=500&&(0,Qp.jsxs)("div",{onClick:()=>{Te?We("\u23f8\ufe0f Game is frozen!","#6b7280"):(Ve.playClickSound(),M(e=>{if(e.chickens<3||e.money<500)return Ve.playWarningSound(),e;const t=c(c({},e),{},{chickens:e.chickens-3,money:e.money-500,breedingQueue:[...e.breedingQueue,{id:Date.now(),startTime:Date.now(),endTime:Date.now()+12e4}]});return qe("breeding","Started breeding chickens (3 \u2192 1 golden)",-500),We("Breeding in progress!"),Ve.playSuccessSound(),t}))},style:{background:E.cardBg,border:"2px solid ".concat(E.green),borderRadius:E.borderRadius,padding:"12px",cursor:"pointer",boxShadow:E.shadow,transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"16px"},children:"\ud83d\udc95"}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:E.textPrimary,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Breed Golden Chicken"}),(0,Qp.jsx)("div",{style:{fontSize:"10px",color:E.textSecondary,fontFamily:"Alan Sans, Arial, sans-serif"},children:"3 chickens \u2192 1 golden chicken (2 min)"})]})]}),(0,Qp.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:E.green,fontFamily:"Alan Sans, Arial, sans-serif"},children:"$500"})]}),!L.autoCollector.isActive&&(0,Qp.jsxs)("div",{onClick:()=>{Te?We("\u23f8\ufe0f Game is frozen!","#6b7280"):(Ve.playClickSound(),M(e=>{if(e.money<2e3)return Ve.playWarningSound(),e;const t=c(c({},e),{},{money:e.money-2e3,autoCollector:{isActive:!0,remainingTime:3e5,level:1,lastNotification:0}});return qe("buy","Bought Auto Egg Collector",-2e3),We("\ud83e\udd16 Auto Collector Active!"),We("\ud83c\udfaf Collects at ".concat(Ge(1)," eggs"),E.green),Ve.playSuccessSound(),t}))},style:{background:L.money>=2e3?E.cardBg:"#f3f4f6",border:L.money>=2e3?"2px solid ".concat(E.green):"none",borderRadius:E.borderRadius,padding:"12px",cursor:L.money>=2e3?"pointer":"not-allowed",boxShadow:L.money>=2e3?E.shadow:"none",transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"16px"},children:"\ud83e\udd16"}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:L.money>=2e3?E.textPrimary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Auto Egg Collector"}),(0,Qp.jsx)("div",{style:{fontSize:"10px",color:L.money>=2e3?E.textSecondary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Level 1: Collects when 15 eggs are ready"})]})]}),(0,Qp.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:L.money>=2e3?E.green:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"$2000"})]}),L.autoCollector.isActive&&(0,Qp.jsxs)("div",{onClick:()=>{Te?We("\u23f8\ufe0f Game is frozen!","#6b7280"):(Ve.playClickSound(),M(e=>{if(e.money<500||!e.autoCollector.isActive)return Ve.playWarningSound(),e;const t=c(c({},e),{},{money:e.money-500,autoCollector:c(c({},e.autoCollector),{},{remainingTime:e.autoCollector.remainingTime+3e5})});return qe("upgrade","Added 5 minutes to Auto Collector",-500),We("+5min Auto Collector!"),Ve.playSuccessSound(),t}))},style:{background:L.money>=500?E.cardBg:"#f3f4f6",border:L.money>=500?"2px solid ".concat(E.green):"none",borderRadius:E.borderRadius,padding:"12px",cursor:L.money>=500?"pointer":"not-allowed",boxShadow:L.money>=500?E.shadow:"none",transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"16px"},children:"\u23f0"}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:L.money>=500?E.textPrimary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Extend Collection Time"}),(0,Qp.jsx)("div",{style:{fontSize:"10px",color:L.money>=500?E.textSecondary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Add 5 more minutes"})]})]}),(0,Qp.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:L.money>=500?E.green:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"$500"})]}),!(null!==(t=L.autoFeeder)&&void 0!==t&&t.owned)&&(0,Qp.jsxs)("div",{onClick:()=>{Te?We("\u23f8\ufe0f Game is frozen!","#6b7280"):(Ve.playClickSound(),M(e=>{var t;if(e.money<5e3)return Ve.playWarningSound(),e;const n=c(c({},e),{},{money:e.money-5e3,autoFeeder:{owned:!0,isActive:!0,feedThreshold:Math.max(50,5*e.chickens),lastPurchaseTime:0}});return qe("buy","Bought Auto-Feeder System",-5e3),We("\ud83e\udd16 Auto-Feeder Active!"),We("\ud83c\udfaf Maintains ".concat((null===(t=n.autoFeeder)||void 0===t?void 0:t.feedThreshold)||50,"+ feed"),E.green),Ve.playSuccessSound(),n}))},style:{background:L.money>=5e3?E.cardBg:"#f3f4f6",border:L.money>=5e3?"2px solid ".concat(E.orange):"none",borderRadius:E.borderRadius,padding:"12px",cursor:L.money>=5e3?"pointer":"not-allowed",boxShadow:L.money>=5e3?E.shadow:"none",transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"16px"},children:"\ud83c\udf7d\ufe0f"}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:L.money>=5e3?E.textPrimary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Auto-Feeder System"}),(0,Qp.jsx)("div",{style:{fontSize:"10px",color:L.money>=5e3?E.textSecondary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"Smart feed purchasing - works forever!"})]})]}),(0,Qp.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:L.money>=5e3?E.orange:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:"$5000"})]}),(null===(n=L.autoFeeder)||void 0===n?void 0:n.owned)&&(0,Qp.jsxs)("div",{onClick:()=>{Te?We("\u23f8\ufe0f Game is frozen!","#6b7280"):(Ve.playClickSound(),M(e=>{var t,n,r;if(null===(t=e.autoFeeder)||void 0===t||!t.owned)return e;const i=c(c({},e),{},{autoFeeder:c(c({},e.autoFeeder),{},{isActive:!(null!==(n=e.autoFeeder)&&void 0!==n&&n.isActive)})}),o=null!==(r=i.autoFeeder)&&void 0!==r&&r.isActive?"ON":"OFF";return We("\ud83e\udd16 Auto-Feeder ".concat(o),E.orange),i}))},style:{background:E.cardBg,border:"2px solid ".concat(null!==(i=L.autoFeeder)&&void 0!==i&&i.isActive?E.green:E.orange),borderRadius:E.borderRadius,padding:"12px",cursor:"pointer",boxShadow:E.shadow,transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"16px"},children:"\ud83c\udf7d\ufe0f"}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsxs)("div",{style:{fontSize:"12px",fontWeight:"600",color:E.textPrimary,fontFamily:"Alan Sans, Arial, sans-serif"},children:["Auto-Feeder: ",null!==(o=L.autoFeeder)&&void 0!==o&&o.isActive?"ON":"OFF"]}),(0,Qp.jsxs)("div",{style:{fontSize:"10px",color:E.textSecondary,fontFamily:"Alan Sans, Arial, sans-serif"},children:["Buys feed when below ",(null===(s=L.autoFeeder)||void 0===s?void 0:s.feedThreshold)||50," units"]})]})]}),(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"700",color:null!==(a=L.autoFeeder)&&void 0!==a&&a.isActive?E.green:E.orange,fontFamily:"Alan Sans, Arial, sans-serif",padding:"4px 8px",background:null!==(l=L.autoFeeder)&&void 0!==l&&l.isActive?"rgba(16, 185, 129, 0.1)":"rgba(255, 107, 53, 0.1)",borderRadius:"4px"},children:null!==(u=L.autoFeeder)&&void 0!==u&&u.isActive?"\u25b6\ufe0f STOP":"\ud83d\udd04 START"})]})]}),(0,Qp.jsxs)("div",{style:{marginTop:"8px",flexShrink:0},children:[L.autoCollector.isActive&&(0,Qp.jsxs)("div",{style:c(c({},S),{},{marginBottom:"3px",textAlign:"center",color:E.textSecondary,background:"rgba(16, 185, 129, 0.1)",padding:"2px 4px",borderRadius:"3px"}),children:["\ud83e\udd16 Level ",L.autoCollector.level," - Collects at ",Ge(L.autoCollector.level)," eggs - ",Math.floor(L.autoCollector.remainingTime/6e4),":",String(Math.floor(L.autoCollector.remainingTime%6e4/1e3)).padStart(2,"0")]}),(null===(d=L.autoFeeder)||void 0===d?void 0:d.owned)&&(null===(h=L.autoFeeder)||void 0===h?void 0:h.isActive)&&(0,Qp.jsxs)("div",{style:c(c({},S),{},{marginBottom:"3px",textAlign:"center",color:E.textSecondary,background:"rgba(255, 107, 53, 0.1)",padding:"2px 4px",borderRadius:"3px"}),children:["\ud83c\udf7d\ufe0f Auto-Feeder: Maintains ",(null===(f=L.autoFeeder)||void 0===f?void 0:f.feedThreshold)||50,"+ feed"]}),L.breedingQueue.length>0&&(0,Qp.jsxs)("div",{style:c(c({},S),{},{textAlign:"center",color:E.textSecondary,background:"rgba(255, 107, 53, 0.1)",padding:"2px 4px",borderRadius:"3px"}),children:["\ud83d\udc95 Breeding: ",Math.ceil((L.breedingQueue[0].endTime-Date.now())/1e3),"s"]})]})]}),(0,Qp.jsxs)("div",{style:{background:E.cardBg,borderRadius:E.borderRadius,padding:"16px",textAlign:"center",boxShadow:Le.lowMoney?"0 8px 30px rgba(239, 68, 68, 0.15), 0 0 0 1px rgba(239, 68, 68, 0.2)":E.shadowLarge,maxHeight:Ae?"none":"550px",overflow:"hidden",display:"flex",flexDirection:"column",animation:Le.lowMoney?"subtleGlow 3s ease-in-out infinite":"none",transition:"all 0.5s ease",order:Ae?3:0},children:[(0,Qp.jsx)("div",{style:c(c({},v),{},{marginBottom:"8px",color:E.textPrimary,textTransform:"uppercase"}),children:"Balance"}),(0,Qp.jsxs)("div",{style:c(c({},y),{},{color:E.textPrimary,marginBottom:"16px",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}),children:["$",L.money.toLocaleString(),Le.lowMoney&&(0,Qp.jsx)("span",{style:{fontSize:"16px",animation:"gentleBounce 1.5s infinite",color:"rgba(239, 68, 68, 0.7)"},children:"\u26a0\ufe0f"})]}),(0,Qp.jsxs)("button",{onClick:()=>{Te?We("\u23f8\ufe0f Game is frozen!","#6b7280"):(Ve.playClickSound(),M(e=>{const t=e.readyEggs+e.readyGoldenEggs;if(0===t)return e;const n=c(c({},e),{},{eggInventory:e.eggInventory+e.readyEggs,goldenEggInventory:e.goldenEggInventory+e.readyGoldenEggs,readyEggs:0,readyGoldenEggs:0});return e.readyEggs>0&&qe("collect","Collected ".concat(e.readyEggs," eggs"),0),e.readyGoldenEggs>0&&qe("collect","Collected ".concat(e.readyGoldenEggs," golden eggs"),0),We("+".concat(t," Eggs!")),Ve.playSuccessSound(),n}))},disabled:L.readyEggs+L.readyGoldenEggs===0,style:{background:L.readyEggs+L.readyGoldenEggs>0?"linear-gradient(135deg, ".concat(E.orange," 0%, ").concat(E.orangeDark," 100%)"):"linear-gradient(135deg, ".concat(E.disabled," 0%, ").concat(E.disabledText," 100%)"),color:E.textLight,border:"none",borderRadius:E.borderRadius,padding:"12px 16px",width:"100%",marginBottom:"8px",cursor:L.readyEggs+L.readyGoldenEggs>0?"pointer":"not-allowed",boxShadow:E.shadow,transition:"all 0.2s ease",fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[(0,Qp.jsxs)("div",{style:{fontSize:"10px",opacity:.9},children:[(L.readyEggs+L.readyGoldenEggs).toLocaleString()," \ud83e\udd5a Ready"]}),(0,Qp.jsx)("div",{style:{fontSize:"14px",fontWeight:"700"},children:"Collect"})]}),(0,Qp.jsxs)("button",{onClick:()=>{Te?We("\u23f8\ufe0f Game is frozen!","#6b7280"):(Ve.playClickSound(),M(e=>{if(0===e.eggInventory+e.goldenEggInventory)return e;const t=2*e.eggInventory+10*e.goldenEggInventory,n=c(c({},e),{},{money:e.money+t,eggInventory:0,goldenEggInventory:0});return qe("sell","Sold ".concat(e.eggInventory," eggs + ").concat(e.goldenEggInventory," golden eggs"),t),We("+$".concat(t)),Ve.playSuccessSound(),n}))},disabled:L.eggInventory+L.goldenEggInventory===0,style:{background:L.eggInventory+L.goldenEggInventory>0?"linear-gradient(135deg, ".concat(E.green," 0%, ").concat(E.greenDark," 100%)"):"linear-gradient(135deg, ".concat(E.disabled," 0%, ").concat(E.disabledText," 100%)"),color:E.textLight,border:"none",borderRadius:E.borderRadius,padding:"12px 16px",width:"100%",marginBottom:"8px",cursor:L.eggInventory+L.goldenEggInventory>0?"pointer":"not-allowed",boxShadow:E.shadow,transition:"all 0.2s ease",fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsx)("span",{style:{fontWeight:"700"},children:"Sell Eggs"}),(0,Qp.jsxs)("span",{style:{fontSize:"11px",opacity:.9},children:["$",(2*L.eggInventory+10*L.goldenEggInventory).toLocaleString(),".00 total"]})]}),(0,Qp.jsxs)("button",{onClick:()=>{Te?We("\u23f8\ufe0f Game is frozen!","#6b7280"):(Ve.playClickSound(),M(e=>{const t=Object.values(e.products).some(e=>e>0);if(!t)return e;let n=0,r=[];Object.entries(e.products).forEach(e=>{let[t,i]=e;if(i>0){const e=Xp[t].sellPrice*i;n+=e,r.push("".concat(i,"x ").concat(Xp[t].name))}});const i=c(c({},e),{},{money:e.money+n,products:{}});return qe("sell","Sold products: ".concat(r.join(", ")),n),We("+$".concat(n)),Ve.playSuccessSound(),i}))},disabled:Object.values(L.products).every(e=>0===e),style:{background:Object.values(L.products).some(e=>e>0)?"linear-gradient(135deg, ".concat(E.green," 0%, ").concat(E.greenDark," 100%)"):"linear-gradient(135deg, ".concat(E.disabled," 0%, ").concat(E.disabledText," 100%)"),color:E.textLight,border:"none",borderRadius:E.borderRadius,padding:"12px 16px",width:"100%",cursor:Object.values(L.products).some(e=>e>0)?"pointer":"not-allowed",boxShadow:E.shadow,transition:"all 0.2s ease",fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsx)("span",{style:{fontWeight:"700"},children:"Sell Products"}),(0,Qp.jsxs)("span",{style:{fontSize:"11px",opacity:.9},children:["$",Object.entries(L.products).reduce((e,t)=>{let[n,r]=t;return e+r*Xp[n].sellPrice},0).toLocaleString(),".00 total"]})]})]}),(0,Qp.jsxs)("div",{style:{background:E.cardBg,borderRadius:E.borderRadius,padding:"12px",boxShadow:E.shadowLarge,display:"flex",flexDirection:"column",height:Ae?"auto":"100%",maxHeight:Ae?"none":"550px",overflow:"hidden",order:Ae?4:0},children:[(0,Qp.jsx)("div",{style:c(c({},v),{},{marginBottom:"6px",textAlign:"center",color:E.textPrimary,textTransform:"uppercase",flexShrink:0}),children:"Kitchen"}),(0,Qp.jsxs)("div",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",marginBottom:"6px",textAlign:"center",background:"rgba(255, 107, 53, 0.1)",padding:"4px 6px",borderRadius:"3px",color:E.orange,flexShrink:0},children:["Slots: ",L.productionQueue.length,"/",L.productionSlots]}),(0,Qp.jsxs)("div",{className:"hidden-scrollbar",style:{flex:1,overflowY:"auto",paddingRight:"4px",display:"flex",flexDirection:"column"},children:[L.productionQueue.length>0&&(0,Qp.jsx)("div",{style:{marginBottom:"8px"},children:L.productionQueue.map(e=>{const t=Xp[e.recipeId],n=Math.max(0,e.endTime-Date.now());return(0,Qp.jsxs)("div",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",marginBottom:"3px",padding:"4px 6px",background:"rgba(255, 107, 53, 0.1)",borderRadius:"3px",color:E.orange},children:[t.icon," ",Math.ceil(n/1e3),"s"]},e.id)})}),Object.values(L.products).some(e=>e>0)&&(0,Qp.jsx)("div",{style:{marginBottom:"8px"},children:Object.entries(L.products).filter(e=>{let[t,n]=e;return n>0}).map(e=>{let[t,n]=e;return(0,Qp.jsxs)("div",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",marginBottom:"2px",color:E.green},children:[Xp[t].icon," ",n,"x"]},t)})}),(0,Qp.jsxs)("div",{style:{flex:1},children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",marginBottom:"4px",color:E.textPrimary},children:"Recipes:"}),(0,Qp.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:Object.entries(Xp).map(e=>{let[t,n]=e;const r=L.eggInventory>=n.eggCost&&L.goldenEggInventory>=n.goldenEggCost&&L.chickens>=n.chickenCost&&L.productionQueue.length<L.productionSlots;return(0,Qp.jsxs)("div",{onClick:()=>r&&(e=>{if(Te)return void We("\u23f8\ufe0f Game is frozen!","#6b7280");Ve.playClickSound();const t=Xp[e];M(n=>{if(!(n.eggInventory>=t.eggCost&&n.goldenEggInventory>=t.goldenEggCost&&n.chickens>=t.chickenCost&&n.productionQueue.length<n.productionSlots))return Ve.playWarningSound(),n;const r=Math.floor(t.baseTime/(1+.2*n.kitchenUpgrades)),i=c(c({},n),{},{eggInventory:n.eggInventory-t.eggCost,goldenEggInventory:n.goldenEggInventory-t.goldenEggCost,chickens:n.chickens-t.chickenCost,productionQueue:[...n.productionQueue,{id:Date.now(),recipeId:e,startTime:Date.now(),endTime:Date.now()+r}]});return qe("production","Started cooking ".concat(t.name),0),We("Cooking ".concat(t.name,"!")),Ve.playSuccessSound(),i})})(t),style:{width:"100%",background:r?E.cardBg:"#f3f4f6",border:r?"2px solid ".concat(E.green):"none",borderRadius:E.borderRadius,padding:"10px",marginBottom:"4px",cursor:r?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:r?E.shadow:"none",transition:"all 0.2s ease"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"14px"},children:n.icon}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:r?E.textPrimary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:n.name}),(0,Qp.jsxs)("div",{style:{fontSize:"10px",color:r?E.textSecondary:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:[n.eggCost>0&&"\ud83e\udd5a".concat(n.eggCost),n.goldenEggCost>0&&" \ud83d\udc13".concat(n.goldenEggCost),n.chickenCost>0&&" \ud83d\udc14".concat(n.chickenCost)," \u23f1".concat(Math.floor(n.baseTime/1e3),"s")]})]})]}),(0,Qp.jsxs)("div",{style:{fontSize:"14px",fontWeight:"700",color:r?E.green:E.disabledText,fontFamily:"Alan Sans, Arial, sans-serif"},children:["$",n.sellPrice]})]},t)})})]})]})]}),(0,Qp.jsxs)("div",{style:{background:L.money>=5e3?E.cardBg:"#f3f4f6",borderRadius:E.borderRadius,padding:"12px",boxShadow:L.money>=5e3?E.shadowLarge:"none",display:"flex",flexDirection:"column",height:Ae?"auto":"100%",maxHeight:Ae?"none":"550px",overflow:"hidden",opacity:L.money>=5e3?1:.6,border:L.money>=5e3?"none":"2px dashed ".concat(E.disabled),position:"relative",order:Ae?5:0},children:[(0,Qp.jsx)("div",{style:c(c({},v),{},{marginBottom:"8px",textAlign:"center",color:L.money>=5e3?E.textPrimary:E.disabledText,textTransform:"uppercase",flexShrink:0}),children:"Orders"}),L.restaurantUnlocked?(0,Qp.jsx)("div",{className:"hidden-scrollbar",style:{flex:1,overflowY:"auto",paddingRight:"4px",display:"flex",flexDirection:"column",gap:"3px"},children:L.activeOrders.length>0?L.activeOrders.map(e=>{const t=Math.max(0,e.timeLimit-(Date.now()-e.arrivalTime)),n=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3),i=t<6e4,o=(L.products[e.recipe]||0)>0,s=L.productionQueue.some(t=>t.recipeId===e.recipe);let a=E.green,l="Ready to Serve \u2705",c=E.cardBg;return o||(s?(a=E.orange,l="Cooking... \ud83c\udf73",c="rgba(255, 107, 53, 0.1)"):(a="#ef4444",l="Need to Cook \ud83d\udd25",c="rgba(239, 68, 68, 0.1)")),i&&(c="rgba(239, 68, 68, 0.2)"),(0,Qp.jsxs)("div",{style:{padding:"8px",marginBottom:"6px",background:c,borderRadius:E.borderRadius,boxShadow:i?"0 2px 8px rgba(239, 68, 68, 0.3)":E.shadow,border:"2px solid ".concat(a),display:"flex",justifyContent:"space-between",alignItems:"center",animation:i?"pulse-red 2s ease-in-out infinite":"none"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"14px"},children:e.icon}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:{fontSize:"11px",fontWeight:"600",color:E.textPrimary,fontFamily:"Alan Sans, Arial, sans-serif"},children:e.name}),(0,Qp.jsx)("div",{style:{fontSize:"9px",color:E.textSecondary,fontFamily:"Alan Sans, Arial, sans-serif",marginBottom:"2px"},children:e.orderName}),(0,Qp.jsx)("div",{style:{fontSize:"8px",color:a,fontFamily:"Alan Sans, Arial, sans-serif",fontWeight:"600"},children:l}),(0,Qp.jsx)("div",{style:{fontSize:"7px",color:i?"#ef4444":E.textSecondary,fontFamily:"Alan Sans, Arial, sans-serif",marginTop:"2px"},children:i?"\ud83d\udd25 URGENT":"\u23f1\ufe0f ".concat(n,":").concat(r.toString().padStart(2,"0"))})]})]}),(0,Qp.jsxs)("div",{style:{textAlign:"right"},children:[(0,Qp.jsxs)("div",{style:{fontSize:"12px",fontWeight:"700",color:i?"#ef4444":E.green,fontFamily:"Alan Sans, Arial, sans-serif",marginBottom:"4px"},children:["$",e.value]}),(0,Qp.jsx)("button",{onClick:()=>ut(e.id),disabled:!o,style:{background:o?"linear-gradient(135deg, ".concat(E.green," 0%, ").concat(E.greenDark," 100%)"):"linear-gradient(135deg, ".concat(E.disabled," 0%, ").concat(E.disabledText," 100%)"),color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"8px",fontFamily:"Alan Sans, Arial, sans-serif",fontWeight:"600",cursor:o?"pointer":"not-allowed",boxShadow:o?E.shadow:"none",transition:"all 0.2s ease",textTransform:"uppercase",opacity:o?1:.6},onMouseOver:e=>{o&&(e.target.style.transform="translateY(-1px)",e.target.style.boxShadow=E.shadowLarge)},onMouseOut:e=>{o&&(e.target.style.transform="translateY(0px)",e.target.style.boxShadow=E.shadow)},children:o?"\u2705 Serve":s?"\ud83c\udf73 Cooking":"\ud83d\udd25 Cook First"})]})]},e.id)}):(0,Qp.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"40px 20px"},children:[(0,Qp.jsx)("div",{style:{fontSize:"48px",marginBottom:"12px",opacity:.5},children:"\ud83d\udd70\ufe0f"}),(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textSecondary,marginBottom:"6px"},children:"No Active Orders"}),(0,Qp.jsx)("div",{style:{fontSize:"10px",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textSecondary,lineHeight:"1.4",opacity:.8},children:"Customers will arrive soon!"})]})}):(0,Qp.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"20px 0"},children:[(0,Qp.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px",filter:"grayscale(100%)"},children:"\ud83d\udd12"}),(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.disabledText,marginBottom:"8px"},children:"ORDERS CLOSED"}),(0,Qp.jsx)("div",{style:{fontSize:"10px",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textSecondary,marginBottom:"12px",lineHeight:"1.4"},children:"Customer orders are available with McChaki's Restaurant"}),(0,Qp.jsxs)("div",{style:{background:"rgba(255, 107, 53, 0.1)",borderRadius:E.borderRadius,padding:"8px 12px",display:"inline-block"},children:[(0,Qp.jsxs)("div",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textSecondary},children:["\ud83c\udf7d\ufe0f Unlock at: ",(0,Qp.jsxs)("span",{style:{color:E.orange,fontWeight:"700"},children:["$",5e3.toLocaleString()]})]}),(0,Qp.jsxs)("div",{style:{fontSize:"10px",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textSecondary,marginTop:"2px"},children:["Current: $",L.money.toLocaleString()," | Need: $",(5e3-L.money).toLocaleString()," more"]})]})]})]})]}),(0,Qp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:Ae?"1fr":"1fr 1fr",gap:"8px",minHeight:Ae?"auto":"280px"},children:[(0,Qp.jsxs)("div",{style:{background:E.cardBg,borderRadius:E.borderRadius,padding:"12px",boxShadow:Le.lowFeed?"0 8px 30px rgba(239, 68, 68, 0.15), 0 0 0 1px rgba(239, 68, 68, 0.2)":E.shadowLarge,animation:Le.lowFeed?"subtleGlow 3s ease-in-out infinite":"none",transition:"all 0.5s ease",order:Ae?6:0},children:[(0,Qp.jsx)("div",{style:c(c({},v),{},{marginBottom:"8px",textAlign:"center",color:E.textPrimary,textTransform:"uppercase"}),children:"Farm Visual"}),(0,Qp.jsxs)("div",{style:{position:"relative",height:"280px",background:"linear-gradient(135deg, #87CEEB 0%, #98FB98 40%, #90EE90 80%, #8FBC8F 100%)",borderRadius:E.borderRadius,overflow:"hidden",border:"3px solid #8B4513",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.1)"},children:[(0,Qp.jsx)("div",{style:{position:"absolute",left:"10%",top:"8%",fontSize:"16px"},children:"\u2600\ufe0f"}),(0,Qp.jsx)("div",{style:{position:"absolute",right:"15%",top:"5%",fontSize:"14px"},children:"\u2601\ufe0f"}),(0,Qp.jsx)("div",{style:{position:"absolute",right:"5%",top:"15%",fontSize:"12px"},children:"\u2601\ufe0f"}),(0,Qp.jsx)("div",{style:{position:"absolute",left:"5%",top:"15%",fontSize:"28px",filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"},children:"\ud83c\udfe0"}),(0,Qp.jsx)("div",{style:{position:"absolute",right:"8%",top:"20%",fontSize:"20px",filter:"drop-shadow(1px 1px 2px rgba(0,0,0,0.2))"},children:"\ud83c\udf3e"}),(0,Qp.jsx)("div",{style:{position:"absolute",left:"75%",bottom:"20%",fontSize:"18px",filter:"drop-shadow(1px 1px 2px rgba(0,0,0,0.2))"},children:"\ud83c\udf33"}),(0,Qp.jsx)("div",{style:{position:"absolute",left:"20%",bottom:"10%",fontSize:"14px"},children:"\ud83c\udf3b"}),(0,Qp.jsx)("div",{style:{position:"absolute",right:"25%",bottom:"35%",fontSize:"12px"},children:"\ud83c\udf38"}),je.map(e=>(0,Qp.jsx)("img",{src:"https://www.animatedimages.org/data/media/532/animated-chicken-image-0023.gif",alt:"Animated ".concat("golden"===e.type?"Golden ":"","Chicken"),style:{position:"absolute",left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),width:"golden"===e.type?"45px":"40px",height:"golden"===e.type?"45px":"40px",transform:"".concat(e.facingLeft?"scaleX(-1)":"scaleX(1)"," ").concat("golden"===e.type?"hue-rotate(45deg) saturate(1.5) brightness(1.2)":""),filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3)) ".concat("golden"===e.type?"drop-shadow(0 0 8px gold)":""),transition:"left 0.1s ease-out, top 0.1s ease-out",zIndex:"golden"===e.type?15:10,userSelect:"none",pointerEvents:"none"}},"chicken-".concat(e.id)))]}),(0,Qp.jsxs)("div",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",textAlign:"center",marginTop:"8px",color:E.textSecondary,background:"rgba(16, 185, 129, 0.1)",padding:"4px 8px",borderRadius:"6px"},children:["\ud83d\udc14 ",(0,Qp.jsx)("span",{style:{color:E.green,fontWeight:"700"},children:L.chickens})," Regular \u2022 \ud83d\udc13 ",(0,Qp.jsx)("span",{style:{color:E.orange,fontWeight:"700"},children:L.goldenChickens})," Golden \u2022 Day ",(0,Qp.jsx)("span",{style:{color:E.textPrimary,fontWeight:"700"},children:L.gameDay})]})]}),(0,Qp.jsxs)("div",{style:{background:L.money>=5e3?E.cardBg:"#f3f4f6",borderRadius:E.borderRadius,padding:"12px",boxShadow:L.money>=5e3?E.shadowLarge:"none",opacity:L.money>=5e3?1:.6,border:L.money>=5e3?"none":"2px dashed ".concat(E.disabled),position:"relative",order:Ae?7:0},children:[(0,Qp.jsx)("div",{style:c(c({},v),{},{marginBottom:"8px",textAlign:"center",color:L.money>=5e3?E.textPrimary:E.disabledText,textTransform:"uppercase"}),children:"McChaki's Restaurant"}),L.restaurantUnlocked?(0,Qp.jsxs)(Qp.Fragment,{children:[(0,Qp.jsx)("div",{style:{background:"linear-gradient(135deg, ".concat(E.orange," 0%, ").concat(E.orangeDark," 100%)"),borderRadius:E.borderRadius,padding:"8px",textAlign:"center",color:"white",marginBottom:"12px",boxShadow:E.shadow},children:(0,Qp.jsxs)("div",{style:{fontSize:"10px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.3)"},children:["\ud83c\udfea ",L.restaurants.count,"/",L.restaurants.maxCount," Restaurants \u2022 \ud83e\uddd1\u200d\ud83c\udf73 ",L.restaurants.count*L.restaurants.counters.count," Counters \u2022 \ud83d\udc65 ",L.activeOrders.length," Orders"]})}),(0,Qp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"4px",marginBottom:"12px"},children:Array.from({length:4},(e,t)=>{const n=t<L.restaurants.count;return(0,Qp.jsxs)("div",{style:{background:n?"rgba(16, 185, 129, 0.1)":"rgba(209, 213, 219, 0.1)",borderRadius:E.borderRadius,padding:"8px",border:n?"2px solid ".concat(E.green):"1px dashed ".concat(E.disabled),opacity:n?1:.6},children:[(0,Qp.jsx)("div",{style:{fontSize:"16px",textAlign:"center",marginBottom:"4px"},children:n?"\ud83c\udfea":"\ud83d\udd12"}),(0,Qp.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"2px"},children:Array.from({length:3},(e,r)=>{const i=3*t+r,o=n&&r<L.restaurants.counters.count,s=L.activeOrders.some(e=>e.assignedCounter===i+1);return(0,Qp.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"2px",background:o?s?E.orange:E.green:E.disabled,border:"1px solid ".concat(o?s?E.orangeDark:E.greenDark:E.disabled),fontSize:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:s?"\ud83e\uddd1\u200d\ud83c\udf73":o?"\u2713":"\ud83d\udd12"},r)})}),(0,Qp.jsx)("div",{style:{fontSize:"8px",fontFamily:"Alan Sans, Arial, sans-serif",textAlign:"center",color:E.textSecondary,marginTop:"2px"},children:n?"R".concat(t+1):"LOCKED"})]},t)})}),L.activeOrders.length>0?(0,Qp.jsxs)("div",{style:{background:"rgba(255, 107, 53, 0.1)",borderRadius:E.borderRadius,padding:"8px",marginBottom:"8px"},children:[(0,Qp.jsx)("div",{style:{fontSize:"10px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.orange,marginBottom:"6px",textAlign:"center"},children:"\ud83c\udf7d\ufe0f ACTIVE ORDERS"}),(0,Qp.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px",maxHeight:"100px",overflowY:"auto"},children:L.activeOrders.map(e=>{const t=Math.max(0,e.timeLimit-(Date.now()-e.arrivalTime)),n=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3),i=t<6e4,o=(L.products[e.recipe]||0)>0,s=L.productionQueue.some(t=>t.recipeId===e.recipe);let a=i?"#ef4444":E.green;return o||(a=s?E.orange:"#ef4444"),(0,Qp.jsxs)("div",{style:{background:E.cardBg,borderRadius:"4px",padding:"4px 6px",border:"1px solid ".concat(a),display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Qp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,Qp.jsx)("span",{style:{fontSize:"12px"},children:e.icon}),(0,Qp.jsxs)("div",{children:[(0,Qp.jsx)("div",{style:{fontSize:"8px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textPrimary},children:e.name}),(0,Qp.jsx)("div",{style:{fontSize:"7px",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textSecondary},children:e.orderName})]})]}),(0,Qp.jsxs)("div",{style:{textAlign:"right"},children:[(0,Qp.jsx)("div",{style:{fontSize:"7px",fontWeight:"500",fontFamily:"Alan Sans, Arial, sans-serif",color:o?E.green:s?E.orange:"#ef4444",marginBottom:"2px"},children:o?"\u2705 Ready":s?"\ud83c\udf73 Cooking":"\u274c Cook"}),(0,Qp.jsxs)("div",{style:{fontSize:"7px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:i?"#ef4444":E.textSecondary},children:[n,":",r.toString().padStart(2,"0")]}),(0,Qp.jsx)("button",{onClick:()=>ut(e.id),disabled:!o,style:{background:o?E.green:E.disabled,color:"white",border:"none",borderRadius:"2px",padding:"2px 4px",fontSize:"7px",fontFamily:"Alan Sans, Arial, sans-serif",cursor:o?"pointer":"not-allowed",marginTop:"2px",opacity:o?1:.6},children:o?"SERVE":s?"WAIT":"COOK"})]})]},e.id)})})]}):(0,Qp.jsxs)("div",{style:{background:"rgba(209, 213, 219, 0.1)",borderRadius:E.borderRadius,padding:"12px",textAlign:"center",marginBottom:"8px"},children:[(0,Qp.jsx)("div",{style:{fontSize:"20px",marginBottom:"4px"},children:"\ud83d\udd70\ufe0f"}),(0,Qp.jsx)("div",{style:{fontSize:"9px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textSecondary},children:"Waiting for customers..."})]}),(0,Qp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"4px"},children:[(0,Qp.jsxs)("div",{style:{background:"rgba(16, 185, 129, 0.1)",borderRadius:E.borderRadius,padding:"6px",textAlign:"center"},children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"700",fontFamily:"Alan Sans, Arial, sans-serif",color:E.green},children:L.completedOrders}),(0,Qp.jsx)("div",{style:{fontSize:"8px",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textSecondary},children:"Served"})]}),(0,Qp.jsxs)("div",{style:{background:"rgba(255, 107, 53, 0.1)",borderRadius:E.borderRadius,padding:"6px",textAlign:"center"},children:[(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"700",fontFamily:"Alan Sans, Arial, sans-serif",color:E.orange},children:L.restaurants.count*L.restaurants.counters.count}),(0,Qp.jsx)("div",{style:{fontSize:"8px",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textSecondary},children:"Capacity"})]})]})]}):(0,Qp.jsxs)("div",{style:{textAlign:"center",padding:"20px 0"},children:[(0,Qp.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px",filter:"grayscale(100%)"},children:"\ud83d\udd12"}),(0,Qp.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.disabledText,marginBottom:"8px"},children:"RESTAURANT CLOSED"}),(0,Qp.jsx)("div",{style:{fontSize:"10px",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textSecondary,marginBottom:"12px",lineHeight:"1.4"},children:"Expand your chicken empire to unlock McChaki's Restaurant"}),(0,Qp.jsxs)("div",{style:{background:"rgba(16, 185, 129, 0.1)",borderRadius:E.borderRadius,padding:"8px 12px",display:"inline-block"},children:[(0,Qp.jsxs)("div",{style:{fontSize:"12px",fontWeight:"600",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textSecondary},children:["\ud83d\udcb0 Unlock at: ",(0,Qp.jsxs)("span",{style:{color:E.green,fontWeight:"700"},children:["$",5e3.toLocaleString()]})]}),(0,Qp.jsxs)("div",{style:{fontSize:"10px",fontFamily:"Alan Sans, Arial, sans-serif",color:E.textSecondary,marginTop:"2px"},children:["Current: $",L.money.toLocaleString()," | Need: $",(5e3-L.money).toLocaleString()," more"]})]})]})]})]})]}),be.map(e=>(0,Qp.jsx)("div",{style:c(c({position:"fixed",left:"".concat(e.x,"px"),top:"".concat(e.y,"px"),color:e.color,fontWeight:"bold"},b),{},{fontSize:"20px",pointerEvents:"none",zIndex:1e3,animation:"float-up 2s ease-out forwards"}),children:e.text},e.id)),Oe.map(e=>(0,Qp.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:1001,overflow:"hidden"},children:[(0,Qp.jsxs)("div",{style:{position:"absolute",top:"20%",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(45deg, #FFD700, #FF6B6B, #4ECDC4)",color:"white",padding:"20px 40px",borderRadius:"15px",fontSize:"24px",fontWeight:"bold",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",animation:"celebrationBounce 0.6s ease-out",border:"3px solid white"},children:["\ud83c\udf89 MILESTONE REACHED! \ud83c\udf89",(0,Qp.jsx)("br",{}),(0,Qp.jsxs)("span",{style:{fontSize:"32px"},children:["$",e.milestone.toLocaleString()]})]}),e.particles.map(e=>(0,Qp.jsx)("div",{style:{position:"absolute",left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),fontSize:"24px",animation:"particleFloat 3s ease-out forwards",animationDelay:"".concat(.1*e.id,"s")},children:e.emoji},e.id))]},e.id)),(0,Qp.jsx)("style",{jsx:!0,children:"\n          @keyframes float-up {\n            0% { opacity: 1; transform: translateY(0px); }\n            100% { opacity: 0; transform: translateY(-50px); }\n          }\n          \n          @keyframes pulse-red {\n            0% { \n              background-color: #fef2f2;\n              box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);\n              transform: scale(1);\n            }\n            50% { \n              background-color: #fee2e2;\n              box-shadow: 0 6px 25px rgba(239, 68, 68, 0.5);\n              transform: scale(1.02);\n            }\n            100% { \n              background-color: #fef2f2;\n              box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);\n              transform: scale(1);\n            }\n          }\n\n          @keyframes float {\n            0%, 100% { \n              transform: translateY(0px) rotate(0deg); \n            }\n            50% { \n              transform: translateY(-10px) rotate(5deg); \n            }\n          }\n\n          @keyframes bounce {\n            0%, 100% { \n              transform: translateY(0px) scale(1); \n            }\n            50% { \n              transform: translateY(-8px) scale(1.1); \n            }\n          }\n\n          @keyframes celebrationBounce {\n            0% { \n              transform: translateX(-50%) scale(0) rotate(-180deg); \n              opacity: 0; \n            }\n            50% { \n              transform: translateX(-50%) scale(1.1) rotate(-10deg); \n              opacity: 1; \n            }\n            100% { \n              transform: translateX(-50%) scale(1) rotate(0deg); \n              opacity: 1; \n            }\n          }\n          \n          @keyframes particleFloat {\n            0% { \n              transform: translateY(0) scale(0) rotate(0deg); \n              opacity: 0; \n            }\n            10% { \n              opacity: 1; \n            }\n            100% { \n              transform: translateY(-200px) scale(1) rotate(360deg); \n              opacity: 0; \n            }\n          }\n          \n          @keyframes pulse {\n            0% { \n              transform: scale(1); \n              box-shadow: 0 0 0 0 rgba(255, 107, 53, 0.7); \n            }\n            70% { \n              transform: scale(1.05); \n              box-shadow: 0 0 0 10px rgba(255, 107, 53, 0); \n            }\n            100% { \n              transform: scale(1); \n              box-shadow: 0 0 0 0 rgba(255, 107, 53, 0); \n            }\n          }\n          \n          @keyframes subtleGlow {\n            0% { \n              box-shadow: 0 8px 30px rgba(239, 68, 68, 0.12), 0 0 0 1px rgba(239, 68, 68, 0.15);\n            }\n            50% { \n              box-shadow: 0 8px 30px rgba(239, 68, 68, 0.18), 0 0 0 1px rgba(239, 68, 68, 0.25);\n            }\n            100% { \n              box-shadow: 0 8px 30px rgba(239, 68, 68, 0.12), 0 0 0 1px rgba(239, 68, 68, 0.15);\n            }\n          }\n\n          @keyframes subtleAmber {\n            0% { \n              box-shadow: 0 8px 30px rgba(255, 165, 0, 0.1), 0 0 0 1px rgba(255, 165, 0, 0.2);\n            }\n            50% { \n              box-shadow: 0 8px 30px rgba(255, 165, 0, 0.15), 0 0 0 1px rgba(255, 165, 0, 0.3);\n            }\n            100% { \n              box-shadow: 0 8px 30px rgba(255, 165, 0, 0.1), 0 0 0 1px rgba(255, 165, 0, 0.2);\n            }\n          }\n\n          @keyframes gentleBounce {\n            0%, 100% { \n              transform: translateY(0px) scale(1);\n              opacity: 0.7;\n            }\n            50% { \n              transform: translateY(-2px) scale(1.05);\n              opacity: 1;\n            }\n          }\n          \n          @keyframes buttonHover {\n            0% { \n              transform: translateY(0) scale(1); \n              box-shadow: 0 2px 4px rgba(0,0,0,0.1); \n            }\n            100% { \n              transform: translateY(-2px) scale(1.02); \n              box-shadow: 0 4px 12px rgba(0,0,0,0.15); \n            }\n          }\n          \n          @keyframes buttonPress {\n            0% { \n              transform: scale(1); \n            }\n            50% { \n              transform: scale(0.95); \n            }\n            100% { \n              transform: scale(1); \n            }\n          }\n        "})]})]})},Jp=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)})};i.createRoot(document.getElementById("root")).render((0,Qp.jsx)(r.StrictMode,{children:(0,Qp.jsx)($p,{})})),Jp()})();
//# sourceMappingURL=main.297345a8.js.map